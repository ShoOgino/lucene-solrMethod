  /**
   * Returns a formatter that can be use by the current thread if needed to
   * convert Date objects to the Internal representation.
   * @throws ParseException 
   * @throws DateParseException 
   */
  public static Date parseDate( String d ) throws ParseException, DateParseException 
  {
    // 2007-04-26T08:05:04Z
    if( d.endsWith( "Z" ) && d.length() > 20 ) {
      return getThreadLocalDateFormat().parse( d );
    }
    return DateUtil.parseDate( d, fmts ); 
  }

