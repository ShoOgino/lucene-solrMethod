  public static void writeXML( SolrInputDocument doc, Writer writer ) throws IOException
  {
    writer.write("<doc boost=\""+doc.getDocumentBoost()+"\">");
   
    for( SolrInputField field : doc ) {
      float boost = field.getBoost();
      for( Object o : field ) {
        writeFieldValue(writer, field.getName(), boost, o );
        // only write the boost for the first multi-valued field
        // otherwise, the used boost is the product of all the boost values
        boost = 1.0f; 
      }
    }
    writer.write("</doc>");
  }

