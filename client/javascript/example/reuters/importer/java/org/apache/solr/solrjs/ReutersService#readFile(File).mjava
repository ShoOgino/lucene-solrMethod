	/**
	 * Reads a whole .sgml file.
	 * @param file The sgml reuters file.
	 * @throws XPathExpressionException
	 * @throws IOException
	 * @throws ParserConfigurationException
	 * @throws SAXException
	 * @throws SolrServerException
	 * @throws ParseException 
	 */
	public void readFile(File file) throws XPathExpressionException, IOException, ParserConfigurationException, SAXException, SolrServerException, ParseException {
		String documentString = readFileAsString(file);
		
		// remove "bad" entities
		documentString = documentString.replaceAll("&#\\d;", "");
		documentString = documentString.replaceAll("&#\\d\\d;", "");
		
		// remove doctype declaration
		documentString = documentString.replaceAll("<!DOCTYPE lewis SYSTEM \"lewis.dtd\">", "");
        
		// add a document root
		documentString = "<root>" + documentString + "</root>";
		
		DocumentBuilderFactory dbfac = DocumentBuilderFactory.newInstance();
		DocumentBuilder docBuilder = dbfac.newDocumentBuilder();
		Document doc = docBuilder.parse(new ByteArrayInputStream(documentString.getBytes()));
		
		NodeList nodeList = (NodeList) xPath.evaluate("/root/REUTERS", doc, XPathConstants.NODESET);
		System.out.println("READING FILE: " + file.getAbsoluteFile());
		for (int i=0; i< nodeList.getLength(); i++) {
			System.out.print(" - " + file.getName() + "(" + i + ") ");
			readDocument((Element) nodeList.item(i));
		}
		
		this.solrServer.commit();
		
	}

