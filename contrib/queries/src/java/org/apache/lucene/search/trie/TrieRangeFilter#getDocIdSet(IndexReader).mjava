  /**
   * Returns a DocIdSet that provides the documents which should be permitted or prohibited in search results.
   */
  //@Override
  public DocIdSet getDocIdSet(IndexReader reader) throws IOException {
    final OpenBitSet bits = new OpenBitSet(reader.maxDoc());
    final TermDocs termDocs = reader.termDocs();
    try {
      lastNumberOfTerms=splitRange(
        reader,termDocs,bits,
        min,trieVariant.TRIE_CODED_NUMERIC_MIN.equals(min),
        max,trieVariant.TRIE_CODED_NUMERIC_MAX.equals(max)
      );
      //System.out.println("Found "+lastNumberOfTerms+" distinct terms in filtered range for field '"+field+"'.");
    } finally {
      termDocs.close();
    }
    return bits;
  }

