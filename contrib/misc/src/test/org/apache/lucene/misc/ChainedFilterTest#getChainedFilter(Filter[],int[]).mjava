  private ChainedFilter getChainedFilter(Filter[] chain, int[] logic) {
    if (logic == null) {
      return new ChainedFilter(chain);
    } else {
      return new ChainedFilter(chain, logic);
    }
  }

