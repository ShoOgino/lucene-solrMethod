  protected QueryNode postProcessNode(QueryNode node) {
    
    // set setMultiTermRewriteMethod for WildcardQueryNode and PrefixWildcardQueryNode
    if (node instanceof WildcardQueryNode || node instanceof  ParametricRangeQueryNode
        || node instanceof ParametricRangeQueryNode) {
      
      if (!getQueryConfigHandler().hasAttribute(MultiTermRewriteMethodAttribute.class)) {
        // This should not happen, this attribute is created in the StandardQueryConfigHandler
        throw new IllegalArgumentException("MultiTermRewriteMethodAttribute should be set on the QueryConfigHandler");
      }

      //read the attribute value and use a TAG to take the value to the Builder
      MultiTermQuery.RewriteMethod rewriteMethod = ((MultiTermRewriteMethodAttribute) getQueryConfigHandler()
          .getAttribute(MultiTermRewriteMethodAttribute.class))
          .getMultiTermRewriteMethod();

      node.setTag(MultiTermRewriteMethodAttribute.TAG_ID, rewriteMethod);
    }
    
    return node;
  }

