	//fieldname MUST be interned prior to this call
	private static final void getTerms(Query query, HashSet terms,boolean prohibited, String fieldName) 
	{
       	try
       	{
       		HashSet nonWeightedTerms=new HashSet();
       		query.extractTerms(nonWeightedTerms);
       		for (Iterator iter = nonWeightedTerms.iterator(); iter.hasNext();)
			{
				Term term = (Term) iter.next();
			    if((fieldName==null)||(term.field()==fieldName))
				{
					terms.add(new WeightedTerm(query.getBoost(),term.text()));
				}
			}
	      }
	      catch(UnsupportedOperationException ignore)
	      {
	    	  //this is non-fatal for our purposes
       	  }		        			        	
	}

