    /**
     * Initialize the GDataRequest. This will initialize all needed values /
     * attributes in this request.
     * 
     * @throws GDataRequestException
     */
    public void initializeRequest() throws GDataRequestException {
        generateIdentificationProperties();
        setOutputFormat();
        // TODO remove this dependency
        StorageController controller = GDataServerRegistry.getRegistry()
                .lookup(StorageController.class,
                        ComponentType.STORAGECONTROLLER);
        try {

            Storage storage = controller.getStorage();

            String service = storage.getServiceForFeed(this.feedId);
            /*
             * ExtensionProfile and the type is used for building the Entry /
             * Feed Instances from an inputstream or reader
             * 
             */
            this.configurator = GDataServerRegistry.getRegistry()
                    .getProvidedService(service);
            if (this.configurator == null)
                throw new GDataRequestException(
                        "feed is not registered or extension profile could not be created");

        } catch (Exception e) {
            throw new GDataRequestException(
                    "feed is not registered or extension profile could not be created");
        }

    }

