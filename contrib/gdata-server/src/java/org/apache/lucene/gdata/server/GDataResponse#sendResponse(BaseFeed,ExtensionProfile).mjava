    /** 
     * Sends a response for a get e.g. query request. This method must not 
     * invoked in a case of an error performing the requeste action. 
     *  
     * @param feed - 
     *            the feed to respond to the client 
     * @param profile - 
     *            the extension profil for the feed to write 
     * @throws IOException - 
     *             if an I/O exception accures, often caused by an already 
     *             closed Writer or OutputStream 
     *  
     */ 
    public void sendResponse(BaseFeed feed, ExtensionProfile profile) 
            throws IOException { 
        if (feed == null) 
            throw new IllegalArgumentException("feed must not be null"); 
        if(profile == null) 
            throw new IllegalArgumentException("extension profil must not be null"); 
        XmlWriter writer = createWriter(); 
         
        if (this.outputFormat.equals(OutputFormat.ATOM)) 
            feed.generateAtom(writer, profile); 
        else 
            feed.generateRss(writer, profile); 
 
    } 

