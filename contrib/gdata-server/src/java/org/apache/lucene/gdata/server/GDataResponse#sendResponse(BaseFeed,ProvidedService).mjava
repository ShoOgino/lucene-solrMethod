    /**
     * Sends a response for a get e.g. query request. This method must not
     * invoked in a case of an error performing the requested action.
     * 
     * @param feed -
     *            the feed to respond to the client
     * @param service - the service to render the feed
     * 
     * @throws IOException -
     *             if an I/O exception occurs, often caused by an already
     *             closed Writer or OutputStream
     * 
     */
    public void sendResponse(final BaseFeed feed, final ProvidedService service)
            throws IOException {
        if (feed == null)
            throw new IllegalArgumentException("feed must not be null");
        if (service == null)
            throw new IllegalArgumentException(
                    "provided service must not be null");
        DateTime time = feed.getUpdated();
        if (time != null)
            setLastModifiedHeader(time.getValue());
        FormatWriter writer = FormatWriter.getFormatWriter(this,service);
        writer.generateOutputFormat(feed,this.response);

    }

