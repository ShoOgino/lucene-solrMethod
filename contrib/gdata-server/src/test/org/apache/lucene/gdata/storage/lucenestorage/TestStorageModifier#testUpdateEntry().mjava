    /* 
     * Test method for 
     * 'org.apache.lucene.storage.lucenestorage.StorageModifier.updateEntry(StroageEntryWrapper)' 
     */ 
    public void testUpdateEntry() throws IOException, InterruptedException, FeedNotFoundException, ParseException, StorageException { 
        testInsertEntry(); 
        for(int i = 1; i < this.count; i++){ 
            Entry e = new Entry(); 
            e.setId(""+i); 
            String insertString = "Hello world"+i; 
            e.setTitle(new PlainTextConstruct(insertString)); 
            StorageEntryWrapper wrapper = new StorageEntryWrapper(e,feedId,StorageOperation.UPDATE,this.profile); 
            this.modifier.updateEntry(wrapper); 
            ReferenceCounter<StorageQuery> innerQuery = StorageCoreController.getStorageCoreController().getStorageQuery(); 
            BaseEntry fetchedEntry = innerQuery.get().singleEntryQuery(""+i,feedId,this.profile); 
            assertEquals("updated Title:",insertString,fetchedEntry.getTitle().getPlainText());             
        } 
        // double updates 
        for(int i = 1; i < this.count; i++){ 
            Entry e = new Entry(); 
            e.setId(""+i); 
            String insertString = "Hello world"+i; 
            e.setTitle(new PlainTextConstruct(insertString)); 
            StorageEntryWrapper wrapper = new StorageEntryWrapper(e,feedId,StorageOperation.UPDATE,this.profile); 
            this.modifier.updateEntry(wrapper); 
             
            e = new Entry(); 
            e.setId(""+i); 
            insertString = "Foo Bar"+i; 
            e.setTitle(new PlainTextConstruct(insertString)); 
            wrapper = new StorageEntryWrapper(e,feedId,StorageOperation.UPDATE,this.profile); 
            this.modifier.updateEntry(wrapper); 
             
            ReferenceCounter<StorageQuery> innerQuery = StorageCoreController.getStorageCoreController().getStorageQuery(); 
             
            BaseEntry fetchedEntry = innerQuery.get().singleEntryQuery(""+i,feedId,this.profile); 
            assertEquals("updated Title:",insertString,fetchedEntry.getTitle().getPlainText());             
        } 
 
         
         
    } 

