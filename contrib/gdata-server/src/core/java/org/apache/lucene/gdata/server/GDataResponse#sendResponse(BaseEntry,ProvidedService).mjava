    /**
     * 
     * Sends a response for an update, insert or delete request. This method
     * must not invoked in a case of an error performing the requested action. If
     * the specified response format is ATOM the default namespace will be set
     * to ATOM.
     * 
     * @param entry -
     *            the modified / created entry to send
     * @param service - the service to render the feed
     * @throws IOException -
     *             if an I/O exception occurs, often caused by an already
     *             closed Writer or OutputStream
     */
    public void sendResponse(BaseEntry entry, ProvidedService service)
            throws IOException {
        if (entry == null)
            throw new IllegalArgumentException("entry must not be null");
        if (service == null)
            throw new IllegalArgumentException(
                    "service must not be null");
        DateTime time = entry.getUpdated();
        if (time != null)
            setLastModifiedHeader(time.getValue());
        FormatWriter writer = FormatWriter.getFormatWriter(this,service);
        writer.generateOutputFormat(entry,this.response);

        
    }

