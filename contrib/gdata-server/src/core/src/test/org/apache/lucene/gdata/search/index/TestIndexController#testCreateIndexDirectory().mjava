    /*
     * Test method for
     * 'org.apache.lucene.gdata.search.index.IndexController.createIndexer(IndexSchema)'
     */
    public void testCreateIndexDirectory() throws IOException {
        File f = new File(System.getProperty("java.io.tmpdir"), "gdataindexdir"
                + System.currentTimeMillis());
        f.mkdir();
        f.deleteOnExit();
        IndexWriter w = new IndexWriter(f, new StandardAnalyzer(), true);
        Document d = new Document();
        d.add(new Field("test", "test", Field.Store.NO, Field.Index.TOKENIZED));
        w.addDocument(d);
        w.close();
        assertFalse(this.controller.createIndexDirectory(f));
        // throw away files in the directory
        delAllFiles(f);
        File f1 = new File(System.getProperty("java.io.tmpdir"), "newIndexDir"
                + System.currentTimeMillis());
        f1.mkdir();
        f1.deleteOnExit();
        assertTrue(this.controller.createIndexDirectory(f1));
    }

