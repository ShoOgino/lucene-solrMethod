  /** Returns the next token in the stream, or null at EOS. */
  public final Token next(final Token reusableToken) throws IOException {
    assert reusableToken != null;
    if (ngrams.size() > 0) {
      return (Token) ngrams.removeFirst();
    }

    Token nextToken = input.next(reusableToken);
    if (nextToken == null)
      return null;

    ngram(nextToken);
    if (ngrams.size() > 0)
      return (Token) ngrams.removeFirst();
    else
      return null;
  }

