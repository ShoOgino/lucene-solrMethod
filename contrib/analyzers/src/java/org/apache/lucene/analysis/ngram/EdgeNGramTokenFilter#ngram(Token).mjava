  private void ngram(Token token) {
    String inStr = token.termText();
    int inLen = inStr.length();
    int gramSize = minGram;
    while (gramSize <= maxGram) {
      // if the remaining input is too short, we can't generate any n-grams
      if (gramSize > inLen) {
        return;
      }

      // if we have hit the end of our n-gram size range, quit
      if (gramSize > maxGram) {
        return;
      }

      Token tok;
      if (side == Side.FRONT) {
        tok = new Token(inStr.substring(0, gramSize), 0, gramSize);
      }
      else {
        tok = new Token(inStr.substring(inLen-gramSize), inLen-gramSize, inLen);
      }
      ngrams.add(tok);
      gramSize++;
    }
  }

