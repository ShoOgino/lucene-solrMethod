	/**
	 * Returns an English stemming analyzer that stems tokens from the
	 * underlying child analyzer according to the Porter stemming algorithm. The
	 * child analyzer must deliver tokens in lower case for the stemmer to work
	 * properly.
	 * <p>
	 * Background: Stemming reduces token terms to their linguistic root form
	 * e.g. reduces "fishing" and "fishes" to "fish", "family" and "families" to
	 * "famili", as well as "complete" and "completion" to "complet". Note that
	 * the root form is not necessarily a meaningful word in itself, and that
	 * this is not a bug but rather a feature, if you lean back and think about
	 * fuzzy word matching for a bit.
	 * <p>
	 * See the Lucene contrib packages for stemmers (and stop words) for German,
	 * Russian and many more languages.
	 * 
	 * @param child
	 *            the underlying child analyzer
	 * @return an analyzer wrapper
	 */
	public static Analyzer getPorterStemmerAnalyzer(final Analyzer child) {
		
		if (child == null) 
			throw new IllegalArgumentException("child analyzer must not be null");
	
		return new Analyzer() {
			public TokenStream tokenStream(String fieldName, Reader reader) {
				return new PorterStemFilter(
						child.tokenStream(fieldName, reader));
// 				/* PorterStemFilter and SnowballFilter have the same behaviour, 
// 				but PorterStemFilter is much faster. */
//				return new org.apache.lucene.analysis.snowball.SnowballFilter(
//						child.tokenStream(fieldName, reader), "English");
			}
		};
	}

