	/** Returns the next token in the stream, or null at EOS. */
	public Token next() throws IOException {
		Token token;
		while (todo > 0 && index < stack.length) { // pop from stack
			token = createToken(stack[index++], current);
			if (token != null) {
				todo--;
				return token;
			}
		}
		
		token = input.next();
		if (token == null) return null; // EOS; iterator exhausted
		
		stack = synonyms.getSynonyms(token.termText()); // push onto stack
		if (stack.length > maxSynonyms) randomize(stack);
		index = 0;
		current = token;
		todo = maxSynonyms;
		return token;
	}

