  @Test
  public void allFuturesFail() throws Exception {
    CompletableFuture<List<Integer>> results = Async.waitForAllSuccessfulResponses(Collections.singletonList(
        failedFuture()
    ));

    List<Integer> values = results.get();

    assertTrue(values.isEmpty());
  }

