  public void addAll(MetricSamples other) {
    for (String key : other.samplesByMetricName.keySet()) {
      if (this.samplesByMetricName.containsKey(key)) {
        for (Collector.MetricFamilySamples.Sample sample : other.samplesByMetricName.get(key).samples) {
          addSampleIfMetricExists(key, sample);
        }
      } else {
        this.samplesByMetricName.put(key, other.samplesByMetricName.get(key));
      }
    }
  }

