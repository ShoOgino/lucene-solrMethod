  @Override
  public DocTransformer create(String name, SolrParams params,
      SolrQueryRequest req) {

    // Hint to enable feature vector cache since we are requesting features
    SolrQueryRequestContextUtils.setIsExtractingFeatures(req);

    // Communicate which feature store we are requesting features for
    SolrQueryRequestContextUtils.setFvStoreName(req, params.get(FV_STORE, defaultFvStore));

    // Create and supply the feature logger to be used
    SolrQueryRequestContextUtils.setFeatureLogger(req,
        FeatureLogger.createFeatureLogger(
            params.get(FV_RESPONSE_WRITER, defaultFvwt),
            params.get(FV_FORMAT, defaultFvFormat)));

    return new FeatureTransformer(name, params, req);
  }

