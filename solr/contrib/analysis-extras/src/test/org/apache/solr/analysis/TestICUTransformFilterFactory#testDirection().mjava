  /** test forward and reverse direction */
  public void testDirection() throws Exception {
    // forward
    Reader reader = new StringReader("Российская Федерация");
    ICUTransformFilterFactory factory = new ICUTransformFilterFactory();
    Map<String,String> args = new HashMap<String,String>();
    args.put("id", "Cyrillic-Latin");
    factory.init(args);
    Tokenizer tokenizer = new WhitespaceTokenizer(DEFAULT_VERSION, reader);
    TokenStream stream = factory.create(tokenizer);
    assertTokenStreamContents(stream, new String[] { "Rossijskaâ",  "Federaciâ" });
    
    // backward (invokes Latin-Cyrillic)
    reader = new StringReader("Rossijskaâ Federaciâ");
    args.put("direction", "reverse");
    factory.init(args);
    tokenizer = new WhitespaceTokenizer(DEFAULT_VERSION, reader);
    stream = factory.create(tokenizer);
    assertTokenStreamContents(stream, new String[] { "Российская", "Федерация" });
  }

