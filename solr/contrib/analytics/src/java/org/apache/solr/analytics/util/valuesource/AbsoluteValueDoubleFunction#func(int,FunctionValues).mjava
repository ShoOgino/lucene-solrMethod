  protected double func(int doc, FunctionValues vals) throws IOException {
    double d = vals.doubleVal(doc);
    if (d<0) {
      return d*-1;
    } else {
      return d;
    }
  }

