  /**
   * Returns the value of an expression to use in a field or query facet.
   * @param expressionName the name of the expression
   * @return String String representation of pivot value
   */
  @SuppressWarnings({ "deprecation", "rawtypes" })
  public String getResult(String expressionName) {
    for (int count = 0; count < expressionNames.length; count++) {
      if (expressionName.equals(expressionNames[count])) {
        Comparable value = expressions[count].getValue();
        if (value.getClass().equals(Date.class)) {
          return DateFormatUtil.formatExternal((Date)value);
        } else {
          return value.toString();
        }
      }
    }
    throw new SolrException(ErrorCode.BAD_REQUEST, "Pivot expression "+expressionName+" not found.");
  }

