    @Override
    protected void setup(Context context) throws IOException, InterruptedException {
      this.context = context;

      // handle a bug in MRUnit - should be fixed in MRUnit 1.0.0
      when(context.getTaskAttemptID()).thenAnswer(new Answer<TaskAttemptID>() {
        @Override
        public TaskAttemptID answer(final InvocationOnMock invocation) {
          // FIXME MRUNIT seems to pass taskid to the reduce task as mapred.TaskID rather than mapreduce.TaskID
          return new TaskAttemptID(new TaskID("000000000000", 0, true, 0), 0);
        }
      });

      super.setup(context);
    }

