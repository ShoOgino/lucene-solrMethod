  @Test
  public void testProduceSummary() throws Exception {
    ModifiableSolrParams solrParams = new ModifiableSolrParams();
    solrParams.add(CarrotParams.SNIPPET_FIELD_NAME, "snippet");
    solrParams.add(CarrotParams.SUMMARY_FRAGSIZE, "200");//how do we validate this?
    
  	// Note: the expected number of clusters may change after upgrading Carrot2
  	// due to e.g. internal improvements or tuning of Carrot2 clustering.
    final int expectedNumClusters = 15;
    checkEngine(getClusteringEngine("default"), numberOfDocs -2 /*two don't have mining in the snippet*/, expectedNumClusters, new TermQuery(new Term("snippet", "mine")), solrParams);
  }

