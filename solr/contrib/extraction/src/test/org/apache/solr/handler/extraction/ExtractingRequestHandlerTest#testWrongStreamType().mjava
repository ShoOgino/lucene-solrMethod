  @Test
  public void testWrongStreamType() throws Exception {
    ExtractingRequestHandler handler = (ExtractingRequestHandler) h.getCore().getRequestHandler("/update/extract");
    assertTrue("handler is null and it shouldn't be", handler != null);

    try{
      // Load plain text specifying another mime type, should fail
      loadLocal("extraction/version_control.txt", 
              "literal.id", "one",
              ExtractingParams.STREAM_TYPE, "application/pdf"
      );
      fail("SolrException is expected because wrong parser specified for the file type");
    }
    catch(Exception expected){}

    try{
      // Load plain text specifying non existing mimetype, should fail
      loadLocal("extraction/version_control.txt", 
              "literal.id", "one",
              ExtractingParams.STREAM_TYPE, "foo/bar"
      );
      fail("SolrException is expected because nonexsisting parser specified");
    }
    catch(Exception expected){}
  }

