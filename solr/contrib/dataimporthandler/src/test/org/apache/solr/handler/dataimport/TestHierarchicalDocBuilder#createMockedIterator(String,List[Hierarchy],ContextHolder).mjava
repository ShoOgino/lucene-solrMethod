  private List<Hierarchy> createMockedIterator(String type, List<Hierarchy> parentData, ContextHolder holder) {
    List<Hierarchy> result = new ArrayList<Hierarchy>();
    for (Hierarchy parentHierarchy: parentData) {
      Map<String, Object> data = parentHierarchy.elementData;
      String id = (String) data.get(FIELD_ID);
      String select = String.format(Locale.ROOT, "select * from %s where %s='%s'", type, type + "_parent_id", id);
      
      // Number of actual children documents
      int childrenNum = 1 + random().nextInt(3);
      List<Hierarchy> childHierarchies = createMockedIterator(type, select, childrenNum, holder);
      parentHierarchy.elements.addAll(childHierarchies);
      result.addAll(childHierarchies);
    }
    return result;
  }

