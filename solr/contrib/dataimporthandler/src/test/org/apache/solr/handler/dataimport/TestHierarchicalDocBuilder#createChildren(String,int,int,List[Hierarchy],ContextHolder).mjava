  private String createChildren(String parentName, int currentLevel, int maxLevel,
      List<Hierarchy> parentData, ContextHolder holder) {
    
    if (currentLevel == maxLevel) { //recursion base
      return "";
    }
    
    // number of different children <b>types</b> of parent, i.e. parentChild0, parentChild1
    // @see #createMockedIterator for the actual number of each children type 
    int childrenNumber = 2 + random().nextInt(3);
    StringBuilder builder = new StringBuilder();
    for (int childIndex = 0; childIndex < childrenNumber; ++childIndex) {
      String childName = parentName + "Child" + childIndex;
      String fields = createFieldsList(FIELD_ID, "desc", "type_s");
      String select = String.format(Locale.ROOT, "select * from %s where %s='%s'", childName, childName + "_parent_id", "${" + parentName + ".id}");
      
      //for each child entity create several iterators
      List<Hierarchy> childData = createMockedIterator(childName, parentData, holder);
      
      String subChildren = createChildren(childName, currentLevel + 1, maxLevel, childData, holder);
      String child = StrUtils.formatString(CHILD_ENTITY_TEMPLATE, childName, select, fields, subChildren);
      builder.append(child);
      builder.append('\n');
    }
    
    return builder.toString();
  }

