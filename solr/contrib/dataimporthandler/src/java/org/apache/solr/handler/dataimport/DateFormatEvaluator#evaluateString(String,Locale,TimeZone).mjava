  /**
   * NOTE: declared as a method to allow for extensibility
   * @lucene.experimental
   * @return the result of evaluating a string
   */
  protected Date evaluateString(String datemathfmt, Locale locale, TimeZone tz) {
    Date date = null;
    datemathfmt = datemathfmt.replaceAll("NOW", "");
    try {
      DateMathParser parser = getDateMathParser(locale, tz);
      date = parseMathString(parser,datemathfmt);
    } catch (ParseException e) {
      wrapAndThrow(SEVERE, e, "Invalid expression for date");
    }
    return date;
  }

