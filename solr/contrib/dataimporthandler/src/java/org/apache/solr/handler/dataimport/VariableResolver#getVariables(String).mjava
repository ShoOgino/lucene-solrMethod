  /**
   * Get a list of variables embedded in the template string.
   */
  public List<String> getVariables(String template) {
    Resolved r = getResolved(template);
    if (r == null) {
      return Collections.emptyList();
    }
    return new ArrayList<>(r.variables);
  }

