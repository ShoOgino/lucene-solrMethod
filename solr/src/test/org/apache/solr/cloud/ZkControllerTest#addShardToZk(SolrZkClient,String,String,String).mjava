  private void addShardToZk(SolrZkClient zkClient, String shardsPath,
      String zkNodeName, String url) throws IOException,
      KeeperException, InterruptedException {

    ZkNodeProps props = new ZkNodeProps();
    props.put(ZkStateReader.URL_PROP, url);
    props.put(ZkStateReader.NODE_NAME, TEST_NODE_NAME);
    byte[] bytes = props.store();

    zkClient
        .create(shardsPath + "/" + zkNodeName, bytes, CreateMode.PERSISTENT);
  }

