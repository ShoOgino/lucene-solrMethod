    @Override
    public Directory open(String path) throws IOException {
      openCalled = true;
      // need to close the directory, or otherwise the test fails.
      if (dir != null) {
        dir.close();
      }
      return dir = newFSDirectory(new File(path));
    }

