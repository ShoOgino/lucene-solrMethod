  /**
   * Test with unigrams disabled
   */
  public void testNoUnigrams() throws Exception {
    Reader reader = new StringReader("this is a test");
    Map<String,String> args = new HashMap<String,String>();
    args.put("outputUnigrams", "false");
    ShingleFilterFactory factory = new ShingleFilterFactory();
    factory.init(args);
    TokenStream stream = factory.create(new WhitespaceTokenizer(DEFAULT_VERSION, reader));
    assertTokenStreamContents(stream,
        new String[] {"this is", "is a", "a test"});
  }

