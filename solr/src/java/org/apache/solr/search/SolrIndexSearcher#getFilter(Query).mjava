  Filter getFilter(Query q) throws IOException {
    if (q == null) return null;
    // TODO: support pure negative queries?

    // if (q instanceof) {
    // }

    return getDocSet(q).getTopFilter();
  }

