  @Override
  public DocValues getValues(Map context, AtomicReaderContext readerContext) throws IOException {
    IndexSearcher searcher = (IndexSearcher)context.get("searcher");
    Similarity sim = searcher.getSimilarityProvider().get(field);
    // todo: we need docFreq that takes a BytesRef
    String strVal = ByteUtils.UTF8toUTF16(indexedBytes);
    int docfreq = searcher.docFreq(new Term(indexedField, strVal));
    float idf = sim.idf(docfreq, searcher.maxDoc());
    return new ConstDoubleDocValues(idf, this);
  }

