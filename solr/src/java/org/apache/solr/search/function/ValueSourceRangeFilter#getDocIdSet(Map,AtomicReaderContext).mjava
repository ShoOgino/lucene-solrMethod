  public DocIdSet getDocIdSet(final Map context, final AtomicReaderContext readerContext) throws IOException {
     return new DocIdSet() {
       public DocIdSetIterator iterator() throws IOException {
         return valueSource.getValues(context, readerContext).getRangeScorer(readerContext.reader, lowerVal, upperVal, includeLower, includeUpper);
       }
     };
  }

