    public int compareBottom(int doc) {
      assert bottomSlot != -1;
      int order = this.order[doc];
      int ord = (order == 0) ? NULL_ORD : order;
      final int cmp = bottomOrd - ord;
      if (cmp != 0) {
        return cmp;
      }

      final String val2 = lookup[order];

      // take care of the case where both vals are null
      if (bottomValue == val2) return 0;
 
      return bottomValue.compareTo(val2);
    }

