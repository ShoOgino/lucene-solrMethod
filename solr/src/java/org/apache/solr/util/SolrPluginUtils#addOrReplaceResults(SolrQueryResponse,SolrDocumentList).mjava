  /**
   * Given a SolrQueryResponse replace the DocList if it is in the result.
   * Otherwise add it to the response
   *
   * @since solr 1.4
   */
  public static void addOrReplaceResults(SolrQueryResponse rsp, SolrDocumentList docs)
  {
    NamedList vals = rsp.getValues();
    int idx = vals.indexOf( "response", 0 );
    if( idx >= 0 ) {
      log.debug("Replacing DocList with SolrDocumentList " + docs.size());
      vals.setVal( idx, docs );
    }
    else {
      log.debug("Adding SolrDocumentList response" + docs.size());
      vals.add( "response", docs );
    }
  }

