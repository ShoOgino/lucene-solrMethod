    public Resolver(SolrQueryRequest req, Set<String> returnFields) {
      solrQueryRequest = req;
      this.includeScore = returnFields != null && returnFields.contains("score");

      if (returnFields != null) {
        if (returnFields.size() == 0 || (returnFields.size() == 1 && includeScore) || returnFields.contains("*")) {
          returnFields = null;  // null means return all stored fields
        }
      }
      this.returnFields = returnFields;
    }

