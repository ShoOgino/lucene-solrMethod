  private static synchronized HttpClient createHttpClient(String connTimeout, String readTimeout) {
    if (connTimeout == null && readTimeout == null && client != null)  return client;
    MultiThreadedHttpConnectionManager mgr = new MultiThreadedHttpConnectionManager();
    // Keeping a very high number so that if you have a large number of cores
    // no requests are kept waiting for an idle connection.
    mgr.getParams().setDefaultMaxConnectionsPerHost(10000);
    mgr.getParams().setMaxTotalConnections(10000);
    mgr.getParams().setSoTimeout(readTimeout == null ? 20000 : Integer.parseInt(readTimeout)); //20 secs
    mgr.getParams().setConnectionTimeout(connTimeout == null ? 5000 : Integer.parseInt(connTimeout)); //5 secs
    HttpClient httpClient = new HttpClient(mgr);
    if (client == null && connTimeout == null && readTimeout == null) client = httpClient;
    return httpClient;
  }

