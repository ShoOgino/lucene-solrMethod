  public SynonymFilter(TokenStream in, SynonymMap map) {
    super(in);
    this.map = map;
    // just ensuring these attributes exist...
    addAttribute(TermAttribute.class);
    addAttribute(PositionIncrementAttribute.class);
    addAttribute(OffsetAttribute.class);
    addAttribute(TypeAttribute.class);
  }

