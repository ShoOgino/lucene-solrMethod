  // Just localizes default substitution and the ability to log an error if the value isn't present.
  private String getVal(String path, boolean errIfMissing, String defVal) {
    String val = solrProperties.getProperty(path, defVal);

    if (StringUtils.isNotBlank(val)) {
      log.debug(name + ' ' + path + val);
      return val;
    }

    if (!errIfMissing) {
      log.debug(name + "missing optional " + path);
      return null;
    }

    throw new RuntimeException(name + " missing " + path);
  }

