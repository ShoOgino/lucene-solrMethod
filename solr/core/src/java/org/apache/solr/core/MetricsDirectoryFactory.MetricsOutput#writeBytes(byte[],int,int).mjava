    @Override
    public void writeBytes(byte[] b, int offset, int length) throws IOException {
      in.writeBytes(b, offset, length);
      totalMeter.mark(length);
      if (withDetails) {
        totalHistogram.update(length);
        meter.mark(length);
        histogram.update(length);
      }
    }

