  @Override
  public void doneWithDirectory(Directory dir) throws IOException {
    // unwrap
    if (dir instanceof MetricsDirectory) {
      dir = ((MetricsDirectory)dir).getDelegate();
    }
    in.doneWithDirectory(dir);
  }

