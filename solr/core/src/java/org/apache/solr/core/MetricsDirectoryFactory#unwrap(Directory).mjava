  /**
   * Unwrap just one level if the argument is a {@link MetricsDirectory}
   * @param dir directory
   * @return delegate if the instance was a {@link MetricsDirectory}, otherwise unchanged.
   */
  private static Directory unwrap(Directory dir) {
    if (dir instanceof MetricsDirectory) {
      return ((MetricsDirectory)dir).getDelegate();
    } else {
      return dir;
    }
  }

