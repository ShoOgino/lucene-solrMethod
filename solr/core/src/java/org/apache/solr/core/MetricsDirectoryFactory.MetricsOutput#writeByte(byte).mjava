    @Override
    public void writeByte(byte b) throws IOException {
      in.writeByte(b);
      totalMeter.mark();
      if (withDetails) {
        totalHistogram.update(1);
        meter.mark();
        histogram.update(1);
      }
    }

