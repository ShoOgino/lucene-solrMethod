  public String putBlob(InputStream is) throws SolrException {
    byte[] b = new byte[(int) MAX_JAR_SIZE + 1];
    String sha256 = null;
    try {
      int sz = is.read(b);

      if (sz > MAX_JAR_SIZE)
        throw new SolrException(BAD_REQUEST, "size is more than permitted , use system property runtime.lib.size to change it");
      sha256 = sha256Digest(ByteBuffer.wrap(b, 0, sz));
      File file = new File(getBlobsPath().toFile(), sha256);
      try (FileOutputStream fos = new FileOutputStream(file)) {
        fos.write(b, 0, sz);
      }
      IOUtils.fsync(file.toPath(), false);
    } catch (IOException e) {
      throw new SolrException(BAD_REQUEST, e);
    }
    return sha256;

  }

