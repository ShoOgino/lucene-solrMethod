  public static void ensureUserFilesDataDir(Path solrHome) {
    final Path userFilesPath = getUserFilesPath(solrHome);
    final File userFilesDirectory = new File(userFilesPath.toString());
    if (!userFilesDirectory.exists()) {
      try {
        final boolean created = userFilesDirectory.mkdir();
        if (!created) {
          log.warn("Unable to create [{}] directory in SOLR_HOME [{}].  Features requiring this directory may fail.", USER_FILES_DIRECTORY, solrHome);
        }
      } catch (Exception e) {
        log.warn("Unable to create [" + USER_FILES_DIRECTORY + "] directory in SOLR_HOME [" + solrHome + "].  Features requiring this directory may fail.", e);
      }
    }
  }

