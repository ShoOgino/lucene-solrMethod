  /** Optionally return a snapshot of metrics that this component reports, or null.
   * Default implementation requires that both {@link #getMetricNames()} and
   * {@link #getMetricRegistry()} return non-null values.
   */
  default Map<String, Object> getMetricsSnapshot() {
    if (getMetricRegistry() == null || getMetricNames() == null) {
      return null;
    }
    return MetricUtils.convertMetrics(getMetricRegistry(), getMetricNames());
  }

