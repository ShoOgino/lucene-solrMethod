  private static  ConfigOverlay getConfigOverlay(SolrResourceLoader loader) {
    InputStream in = null;
    try {
      in = loader.openResource(ConfigOverlay.RESOURCE_NAME);
    } catch (IOException e) {
      //no problem no overlay.json file
      return new ConfigOverlay(Collections.EMPTY_MAP,0);
    }

    try {
      int version = 0; //will be always 0 for file based resourceloader
      if (in instanceof ZkSolrResourceLoader.ZkByteArrayInputStream) {
        version = ((ZkSolrResourceLoader.ZkByteArrayInputStream) in).getStat().getVersion();
      }
      Map m = (Map) ObjectBuilder.getVal(new JSONParser(new InputStreamReader(in, StandardCharsets.UTF_8)));
      return new ConfigOverlay(m,version);
    } catch (Exception e) {
      throw new SolrException(ErrorCode.SERVER_ERROR,"Error reading config overlay",e);
    }

  }

