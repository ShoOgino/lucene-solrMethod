    @Override
    public IndexOutput createOutput(String name, IOContext context) throws IOException {
      IndexOutput output = in.createOutput(name, context);
      if (output != null) {
        return new MetricsOutput(totalWrites, totalWriteSizes, metricManager, registry, getMetricName(name, true), output);
      } else {
        return null;
      }
    }

