    public MetricsInput(Meter totalMeter, Histogram totalHistogram, SolrMetricManager metricManager, String registry, String metricName, IndexInput in) {
      super(in.toString());
      this.in = in;
      this.totalMeter = totalMeter;
      this.totalHistogram = totalHistogram;
      if (metricName != null && totalHistogram != null) {
        withDetails = true;
        String histName = metricName + "Sizes";
        String meterName = metricName + "s";
        this.histogram = metricManager.histogram(registry, histName);
        this.meter = metricManager.meter(registry, meterName);
      } else {
        withDetails = false;
        this.histogram = null;
        this.meter = null;
      }
    }

