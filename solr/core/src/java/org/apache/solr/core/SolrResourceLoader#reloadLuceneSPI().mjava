  /**
   * Reloads all Lucene SPI implementations using the new classloader.
   * This method must be called after {@link #addToClassLoader(String)}
   * and {@link #addToClassLoader(String,FileFilter)} before using
   * this ResourceLoader.
   */
  void reloadLuceneSPI() {
    // Codecs:
    PostingsFormat.reloadPostingsFormats(this.classLoader);
    SimpleDocValuesFormat.reloadDocValuesFormats(this.classLoader);
    Codec.reloadCodecs(this.classLoader);
    // Analysis:
    CharFilterFactory.reloadCharFilters(this.classLoader);
    TokenFilterFactory.reloadTokenFilters(this.classLoader);
    TokenizerFactory.reloadTokenizers(this.classLoader);
  }

