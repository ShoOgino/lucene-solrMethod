  public static ConfigSetService createConfigSetService(NodeConfig nodeConfig, SolrResourceLoader loader, ZkController zkController) {
    if (zkController != null)
      return new CloudConfigSetService(loader, zkController);

    if (nodeConfig.hasSchemaCache())
      return new SchemaCaching(loader, nodeConfig.getConfigSetBaseDirectory());

    return new Default(loader, nodeConfig.getConfigSetBaseDirectory());
  }

