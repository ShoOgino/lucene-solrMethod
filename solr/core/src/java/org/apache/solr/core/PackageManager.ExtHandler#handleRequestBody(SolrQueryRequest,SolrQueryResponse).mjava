    @Override
    public void handleRequestBody(SolrQueryRequest req, SolrQueryResponse rsp) {
      int v = req.getParams().getInt(ConfigOverlay.ZNODEVER, -1);
      if (v >= 0) {
        log.debug("expected version : {} , my version {}", v, packageManager.myversion);
        ZkStateReader zkStateReader = packageManager.coreContainer.getZkController().getZkStateReader();
        try {
          zkStateReader.forceRefreshClusterProps(v);
        } catch (SolrException e) {
          log.error("Error refreshing state ", e);
          throw e;
        }
      }
      rsp.add("metadata", (MapWriter) ew -> ew.putIfNotNull(VERSION,
          packageManager.coreContainer.getZkController().zkStateReader.getClusterPropsVersion()));
      rsp.add(RuntimeLib.TYPE, packageManager.pkgs.values());
      rsp.add(SolrRequestHandler.TYPE, customHandlers.values());

    }

