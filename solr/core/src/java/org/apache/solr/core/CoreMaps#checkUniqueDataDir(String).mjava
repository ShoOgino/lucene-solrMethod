  protected String checkUniqueDataDir(String targetPath) {
    // Have to check
    // loaded cores
    // transient cores
    // dynamic cores
    synchronized (locker) {
      for (SolrCore core : cores.values()) {
        if (targetPath.equals(core.getDataDir())) return core.getName();
      }
      for (SolrCore core : transientCores.values()) {
        if (targetPath.equals(core.getDataDir())) return core.getName();
      }
      for (CoreDescriptor desc : dynamicDescriptors.values()) {
        if (targetPath.equals(desc.getDataDir())) return desc.getName();
      }
    }

    return null;
  }

