  // Trivial helper method for load, note it implements LRU on swappable cores
  private void allocateLazyCores(Config cfg) {
    swappableCacheSize = cfg.getInt("solr/cores/@swappableCacheSize", Integer.MAX_VALUE);
    if (swappableCacheSize != Integer.MAX_VALUE) {
      swappableCores = new LinkedHashMap<String, SolrCore>(swappableCacheSize, 0.75f, true) {
        @Override
        protected boolean removeEldestEntry(Map.Entry<String, SolrCore> eldest) {
          if (size() > swappableCacheSize) {
            eldest.getValue().close();
            return true;
          }
          return false;
        }
      };
    }
  }

