    Cmd(Command command, Object obj, Method method) {
      if (Modifier.isPublic(method.getModifiers())) {
        this.command = command;
        this.obj = obj;
        this.method = method;
        Class<?>[] parameterTypes = method.getParameterTypes();
        paramsCount = parameterTypes.length;
        if (parameterTypes[0] != SolrQueryRequest.class || parameterTypes[1] != SolrQueryResponse.class) {
          throw new RuntimeException("Invalid params for method " + method);
        }
        if (parameterTypes.length == 3) {
          c = parameterTypes[2];
        }
        if (parameterTypes.length > 3) {
          throw new RuntimeException("Invalid params count for method " + method);

        }
      } else {
        throw new RuntimeException(method.toString() + " is not a public static method");
      }

    }

