    void invoke(SolrQueryRequest req, SolrQueryResponse rsp, CommandOperation cmd) {
      try {

        if (paramsCount == 2) {
          method.invoke(obj, req, rsp);
        } else {
          Object o = cmd.getCommandData();
          if (o instanceof Map && c != null) {
            o = mapper.readValue(Utils.toJSONString(o), c);
          }
          method.invoke(obj, req, rsp, o);
        }

      } catch (SolrException se) {
        throw se;
      } catch (InvocationTargetException ite) {
        throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, ite.getCause());
      } catch (Exception e) {
      }

    }

