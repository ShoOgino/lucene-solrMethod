  /**
   * Indicate that documents have been added
   */
  public boolean addedDocument(int commitWithin) {
    docsSinceCommit.incrementAndGet();
    lastAddedTime = System.currentTimeMillis();
    boolean triggered = false;
    // maxDocs-triggered autoCommit
    if (docsUpperBound > 0 && (docsSinceCommit.get() > docsUpperBound)) {
      _scheduleCommitWithin(DOC_COMMIT_DELAY_MS);
      triggered = true;
    }
    
    // maxTime-triggered autoCommit
    long ctime = (commitWithin > 0) ? commitWithin : timeUpperBound;

    if (ctime > 0) {
      _scheduleCommitWithin(ctime);
      triggered = true;
    }

    return triggered;
  }

