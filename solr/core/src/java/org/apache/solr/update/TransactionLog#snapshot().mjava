  /** takes a snapshot of the current position and number of records
   * for later possible rollback, and returns the position */
  public long snapshot() {
    synchronized (this) {
      snapshot_size = fos.size();
      snapshot_numRecords = numRecords;
      return snapshot_size;
    }
  }

