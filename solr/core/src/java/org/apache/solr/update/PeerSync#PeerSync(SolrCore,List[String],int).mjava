  /**
   *
   * @param core
   * @param replicas
   * @param nUpdates
   */
  public PeerSync(SolrCore core, List<String> replicas, int nUpdates) {
    this.replicas = replicas;
    this.nUpdates = nUpdates;

    uhandler = core.getUpdateHandler();
    ulog = uhandler.getUpdateLog();
    shardHandlerFactory = core.getCoreDescriptor().getCoreContainer().getShardHandlerFactory();
    shardHandler = shardHandlerFactory.getShardHandler();
  }

