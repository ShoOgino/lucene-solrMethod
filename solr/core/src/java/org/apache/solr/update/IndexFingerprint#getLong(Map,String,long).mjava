  private static long getLong(@SuppressWarnings({"rawtypes"})Map m, String key, long def) {
    Object oval = m.get(key);
    return oval != null ? ((Number)oval).longValue() : def;
  }

