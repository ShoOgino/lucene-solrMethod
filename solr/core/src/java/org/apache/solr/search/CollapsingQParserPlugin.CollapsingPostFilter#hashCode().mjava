    public int hashCode() {

      /*
      *  Checking for boosted here because the request context will not have the elevated docs
      *  until after the query is constructed. So to be sure there are no elevated docs in the query
      *  while checking the cache we must check the request context during the call to hashCode().
      */

      if(this.boosted == null) {
        SolrRequestInfo info = SolrRequestInfo.getRequestInfo();
        if(info != null) {
          this.boosted = (Set<String>)info.getReq().getContext().get(QueryElevationComponent.BOOSTED);
        }
      }

      int hashCode = field.hashCode();
      hashCode = max!=null ? hashCode+max.hashCode():hashCode;
      hashCode = min!=null ? hashCode+min.hashCode():hashCode;
      hashCode = boosted!=null ? hashCode+boosted.hashCode():hashCode;
      hashCode = hashCode+nullPolicy;
      hashCode = hashCode*((1+Float.floatToIntBits(this.getBoost()))*31);
      return hashCode;
    }

