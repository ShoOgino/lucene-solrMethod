  public <K, V> SolrCacheHolder<K, V> newInstance(SolrCore core) {
    ResourceLoader loader = core.getResourceLoader();

    SolrCache inst = null;
    CacheRegenerator regen = null;
    try {
      inst = loader.findClass(cacheImpl, SolrCache.class).getConstructor().newInstance();
      regen = null;
      if (regenImpl != null) {
        regen = loader.findClass(regenImpl, CacheRegenerator.class).getConstructor().newInstance();
      }
    } catch (Exception e) {
      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, "Error loading cache " + jsonStr(), e);

    }
    if (regen == null && defRegen != null) regen = defRegen;

    persistence[0] =  inst.init(args, persistence[0], regen);

    return new SolrCacheHolder<>(inst, this);

  }

