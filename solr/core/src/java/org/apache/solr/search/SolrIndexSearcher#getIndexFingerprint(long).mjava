  /** @lucene.internal
   * gets a cached version of the IndexFingerprint for this searcher
   **/
  public IndexFingerprint getIndexFingerprint(long maxVersion) throws IOException {
    final AtomicReference<IOException> exception = new AtomicReference<>();
    try {
      return maxVersionFingerprintCache.computeIfAbsent(maxVersion, key -> {
        try {
          return computeFromPerSegmentIndexFingerprint(maxVersion);
        } catch (IOException e) {
          exception.set(e);
          return null;
        }
      });
    } finally {
      if (exception.get() != null) throw exception.get();
    }
  }

