  public Query getFrontierQuery() {
    Query q = getResultQuery();
    if (q == null) return null;

    // If there is a filter to be used while crawling the graph, add that.
    if (weight.getGraphQuery().getTraversalFilter() != null) {
      BooleanQuery.Builder builder = new BooleanQuery.Builder();
      builder.add(q, BooleanClause.Occur.MUST);
      builder.add(weight.getGraphQuery().getTraversalFilter(), BooleanClause.Occur.MUST);
      q = builder.build();
    }

    return q;
  }

