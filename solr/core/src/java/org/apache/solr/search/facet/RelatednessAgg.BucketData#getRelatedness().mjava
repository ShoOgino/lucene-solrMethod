    /**
     * Computes (and caches) the derived relatedness score for this bucket
     */
    private double getRelatedness() {
      if (Double.isNaN(this.relatedness)) {
        this.relatedness = computeRelatedness(this.fg_count, this.fg_size,
                                              this.bg_count, this.bg_size);
        // TODO: add support for a "min_pop" option...
        //
        // if min_pop is configured, and either (fg|bg) popularity is lower then that value
        // then "this.relatedness=-Infinity" so it sorts at the bottom
        // this logic be ignored on isShard requests -- similar to how shards ignore 'mincount'
      }
      return this.relatedness;
    }

