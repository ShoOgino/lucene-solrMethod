  /**
   * Resolve urlScheme first from sysProp "urlScheme", if not set or invalid value, peek at ssl sysProps
   * @return "https" if SSL is enabled, else "http"
   */
  protected static String resolveUrlScheme() {
    String urlScheme = System.getProperty("urlScheme");
    if (urlScheme != null && urlScheme.matches("https?")) {
      return urlScheme;
    } else {
      return System.getProperty("solr.jetty.keystore") == null ? "http" : "https";
    }
  }

