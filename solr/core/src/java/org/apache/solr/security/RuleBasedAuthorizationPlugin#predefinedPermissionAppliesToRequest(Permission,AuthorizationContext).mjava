  private boolean predefinedPermissionAppliesToRequest(Permission predefinedPermission, AuthorizationContext context) {
    if (context.getHandler() instanceof PermissionNameProvider) {
      PermissionNameProvider handler = (PermissionNameProvider) context.getHandler();
      PermissionNameProvider.Name permissionName = handler.getPermissionName(context);
      if (permissionName == null || !predefinedPermission.name.equals(permissionName.name)) {
        return false;
      }
    } else {
      //all is special. it can match any
      if(predefinedPermission.wellknownName != PermissionNameProvider.Name.ALL) return false;
    }

    return true;
  }

