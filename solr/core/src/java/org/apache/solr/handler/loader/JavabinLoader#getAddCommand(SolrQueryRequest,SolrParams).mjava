  private AddUpdateCommand getAddCommand(SolrQueryRequest req, SolrParams params) {
    AddUpdateCommand addCmd = new AddUpdateCommand(req);
    // since we can give a hint to the leader that the end of a batch is being processed, it's OK to have a larger
    // pollQueueTime than the default 0 since we can optimize around not waiting unnecessarily
    addCmd.pollQueueTime = pollQueueTime;
    addCmd.overwrite = params.getBool(UpdateParams.OVERWRITE, true);
    addCmd.commitWithin = params.getInt(UpdateParams.COMMIT_WITHIN, -1);
    return addCmd;
  }

