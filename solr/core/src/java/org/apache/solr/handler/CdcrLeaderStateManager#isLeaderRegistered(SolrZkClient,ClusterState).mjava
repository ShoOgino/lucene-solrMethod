  /**
   * Checks if the leader is registered. If it is not registered, we are probably at the
   * initialisation phase of the cluster. In this case, we must attach a watcher to
   * be notified when the leader is registered.
   */
  private boolean isLeaderRegistered(SolrZkClient zkClient, ClusterState clusterState)
      throws KeeperException, InterruptedException {
    // First check if the znode exists, and register the watcher at the same time
    return zkClient.exists(this.getZnodePath(), watcher, true) != null;
  }

