  private void doCommit() throws IOException {
    SolrQueryRequest req = new LocalSolrQueryRequest(solrCore,
        new ModifiableSolrParams());
    try {
      
      // reboot the writer on the new index and get a new searcher
      solrCore.getUpdateHandler().newIndexWriter();
      // update our commit point to the right dir
      solrCore.getUpdateHandler().commit(new CommitUpdateCommand(req, false));

    } finally {
      req.close();
    }
  }

