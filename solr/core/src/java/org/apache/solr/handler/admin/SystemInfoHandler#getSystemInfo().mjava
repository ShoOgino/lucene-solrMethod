  /**
   * Get system info
   */
  public static SimpleOrderedMap<Object> getSystemInfo() {
    SimpleOrderedMap<Object> info = new SimpleOrderedMap<>();
    
    OperatingSystemMXBean os = ManagementFactory.getOperatingSystemMXBean();
    info.add(NAME, os.getName());
    info.add( "version", os.getVersion() );
    info.add( "arch", os.getArch() );
    info.add( "systemLoadAverage", os.getSystemLoadAverage());

    // This is a public Oracle/OpenJDK extension, but may not be in other JDKs:
    // com.sun.management.OperatingSystemMXBean
    try {
      Class<?> intf = Class.forName("com.sun.management.OperatingSystemMXBean");
      addGetterIfAvaliable( os, intf, "committedVirtualMemorySize", info);
      addGetterIfAvaliable( os, intf, "freePhysicalMemorySize", info);
      addGetterIfAvaliable( os, intf, "freeSwapSpaceSize", info);
      addGetterIfAvaliable( os, intf, "processCpuTime", info);
      addGetterIfAvaliable( os, intf, "totalPhysicalMemorySize", info);
      addGetterIfAvaliable( os, intf, "totalSwapSpaceSize", info);
    } catch (Exception e) {
      // ignore
    }

    // This is a public Oracle/OpenJDK extension, but may not be in other JDKs:
    // com.sun.management.UnixOperatingSystemMXBean
    try {
      Class<?> intf = Class.forName("com.sun.management.UnixOperatingSystemMXBean");
      addGetterIfAvaliable( os, intf, "openFileDescriptorCount", info );
      addGetterIfAvaliable( os, intf, "maxFileDescriptorCount", info );
    } catch (Exception e) {
      // ignore
    }

    try { 
      if( !os.getName().toLowerCase(Locale.ROOT).startsWith( "windows" ) ) {
        // Try some command line things
        info.add( "uname",  execute( "uname -a" ) );
        info.add( "uptime", execute( "uptime" ) );
      }
    } catch( Exception ex ) {
      log.warn("Unable to execute command line tools.", ex);
    } 
    return info;
  }

