  private IndexCommit getIndexCommitFromName() throws IOException {
    assert commitName !=null;
    IndexCommit indexCommit;
    SolrSnapshotMetaDataManager snapshotMgr = solrCore.getSnapshotMetaDataManager();
    Optional<IndexCommit> commit = snapshotMgr.getIndexCommitByName(commitName);
    if (commit.isPresent()) {
      indexCommit = commit.get();
    } else {
      throw new SolrException(ErrorCode.BAD_REQUEST, "Unable to find an index commit with name " + commitName +
          " for core " + solrCore.getName());
    }
    return indexCommit;
  }

