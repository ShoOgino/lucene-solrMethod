  public static DocCollection updateReplica(DocCollection collection, final Slice slice, String coreNodeName, final Replica replica) {
    Map<String, Replica> copy = slice.getReplicasCopy();
    if (replica == null) {
      copy.remove(coreNodeName);
    } else {
      copy.put(replica.getName(), replica);
    }
    Slice newSlice = new Slice(slice.getName(), copy, slice.getProperties());
    return CollectionMutator.updateSlice(collection.getName(), collection, newSlice);
  }

