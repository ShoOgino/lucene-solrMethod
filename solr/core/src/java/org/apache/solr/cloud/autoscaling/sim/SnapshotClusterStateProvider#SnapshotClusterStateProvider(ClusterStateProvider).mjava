  public SnapshotClusterStateProvider(ClusterStateProvider other) throws Exception {
    liveNodes = Set.copyOf(other.getLiveNodes());
    ClusterState otherState = other.getClusterState();
    clusterState = new ClusterState(liveNodes, otherState.getCollectionsMap());
    clusterProperties = new HashMap<>(other.getClusterProperties());
  }

