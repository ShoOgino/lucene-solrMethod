  private void recoveryFailed(final SolrCore core,
      final ZkController zkController, final String baseUrl,
      final String shardZkNodeName, final CoreDescriptor cd) {
    SolrException.log(log, "Recovery failed - I give up.");
    try {
      zkController.publishAsRecoveryFailed(baseUrl, cd,
          shardZkNodeName, core.getName());
    } finally {
      close();
    }
  }

