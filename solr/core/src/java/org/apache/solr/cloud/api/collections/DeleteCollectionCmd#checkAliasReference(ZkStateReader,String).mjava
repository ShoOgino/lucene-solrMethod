  // it's ok if a collection is referenced either by none or exactly by a single alias.
  // This method returns the single alias to delete, if present, or null
  private String checkAliasReference(ZkStateReader zkStateReader, String extCollection) throws Exception {
    List<String> aliases = referencedByAlias(extCollection, zkStateReader.getAliases());
    if (aliases.size() > 1) {
      zkStateReader.aliasesManager.update(); // aliases may have been stale; get latest from ZK
      aliases = referencedByAlias(extCollection, zkStateReader.getAliases());
      if (aliases.size() > 1) {
        throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,
            "Collection : " + extCollection + " is part of aliases: " + aliases + ", remove or modify the aliases before removing this collection.");
      }
    }
    if (!aliases.isEmpty()) {
      return aliases.get(0);
    } else {
      return null;
    }
  }

