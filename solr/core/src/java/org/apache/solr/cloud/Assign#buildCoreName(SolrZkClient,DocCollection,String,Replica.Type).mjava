  public static String buildCoreName(SolrZkClient zkClient, DocCollection collection, String shard, Replica.Type type) {
    Slice slice = collection.getSlice(shard);
    int numReplicas = collection.getReplicas().size();
    int replicaNum = incAndGetId(zkClient, collection.getName(), numReplicas * 20);
    String coreName = buildCoreName(collection.getName(), shard, type, replicaNum);
    while (existCoreName(coreName, slice)) {
      replicaNum = incAndGetId(zkClient, collection.getName(), numReplicas * 20);
      coreName = buildCoreName(collection.getName(), shard, type, replicaNum);
    }
    return coreName;
  }

