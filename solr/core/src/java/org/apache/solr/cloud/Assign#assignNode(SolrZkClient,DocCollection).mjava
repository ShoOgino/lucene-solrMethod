  public static String assignNode(SolrZkClient client, DocCollection collection) {
    // for backward compatibility;
    int numReplicas = collection.getReplicas().size();
    String coreNodeName = "core_node" + incAndGetId(client, collection.getName(), numReplicas * 20);
    while (collection.getReplica(coreNodeName) != null) {
      // there is wee chance that, the new coreNodeName id not totally unique,
      // but this will be guaranteed unique for new collections
      coreNodeName = "core_node" + incAndGetId(client, collection.getName(), numReplicas * 20);
    }
    return coreNodeName;
  }

