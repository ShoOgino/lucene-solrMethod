    @Override
    public void process(WatchedEvent event) {
      Event.EventType eventType = event.getType();
      // None events are ignored
      // If latchEventType is not null, only fire if the type matches
      if (eventType != Event.EventType.None && (latchEventType == null || eventType == latchEventType)) {
        LOG.info("{} fired on path {} state {}", eventType, event.getPath(), event.getState());
        synchronized (lock) {
          this.event = event;
          lock.notifyAll();
        }
      }
    }

