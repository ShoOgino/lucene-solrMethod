  @Override
  protected Policy.Suggester getSuggester(Policy.Session session, TriggerEvent event, ZkStateReader zkStateReader) {
    // for backward compatibility
    String autoAddReplicas = zkStateReader.getClusterProperty(ZkStateReader.AUTO_ADD_REPLICAS, (String) null);
    if (autoAddReplicas != null && autoAddReplicas.equals("false")) {
      return new NoneSuggester();
    }

    Policy.Suggester suggester = super.getSuggester(session, event, zkStateReader);
    ClusterState clusterState = zkStateReader.getClusterState();

    boolean anyCollections = false;
    for (DocCollection collection: clusterState.getCollectionsMap().values()) {
      if (collection.getAutoAddReplicas()) {
        anyCollections = true;
        suggester.hint(Policy.Suggester.Hint.COLL, collection.getName());
      }
    }

    if (!anyCollections) return new NoneSuggester();
    return suggester;
  }

