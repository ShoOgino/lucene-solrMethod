  public static SimCloudManager createCluster(SolrCloudManager other, TimeSource timeSource) throws Exception {
    SimCloudManager cloudManager = new SimCloudManager(timeSource);
    cloudManager.getSimClusterStateProvider().copyFrom(other.getClusterStateProvider());
    List<String> replicaTags = Arrays.asList(
        Variable.Type.CORE_IDX.metricsAttribute,
        "QUERY./select.requests",
        "UPDATE./update.requests"
    );
    Set<String> nodeTags = createNodeValues("unused:1234_solr").keySet();
    for (String node : other.getClusterStateProvider().getLiveNodes()) {
      SimClusterStateProvider simClusterStateProvider = cloudManager.getSimClusterStateProvider();
      cloudManager.getSimNodeStateProvider().simSetNodeValues(node, other.getNodeStateProvider().getNodeValues(node, nodeTags));
      Map<String, Map<String, List<ReplicaInfo>>> infos = other.getNodeStateProvider().getReplicaInfo(node, replicaTags);
      simClusterStateProvider.simSetReplicaValues(node, infos, true);
    }
    cloudManager.getSimDistribStateManager().copyFrom(other.getDistribStateManager(), false);
    return cloudManager;
  }

