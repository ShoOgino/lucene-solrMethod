  public ReplicaInfo getReplicaInfo(String collection, String coreNode) {
    for (Map<String, Map<String, List<ReplicaInfo>>> perNode : replicaInfos.values()) {
      for (List<ReplicaInfo> perShard : perNode.getOrDefault(collection, Collections.emptyMap()).values()) {
        for (ReplicaInfo ri : perShard) {
          if (ri.getName().equals(coreNode)) {
            return ri;
          }
        }
      }
    }
    return null;
  }

