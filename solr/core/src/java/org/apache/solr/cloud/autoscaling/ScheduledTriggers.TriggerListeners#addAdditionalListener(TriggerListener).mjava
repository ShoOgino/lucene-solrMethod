    public void addAdditionalListener(TriggerListener listener) {
      updateLock.lock();
      try {
        AutoScalingConfig.TriggerListenerConfig config = listener.getConfig();
        for (TriggerEventProcessorStage stage : config.stages) {
          addPerStage(config.trigger, stage, listener);
        }
        // add also for beforeAction / afterAction TriggerStage
        if (!config.beforeActions.isEmpty()) {
          addPerStage(config.trigger, TriggerEventProcessorStage.BEFORE_ACTION, listener);
        }
        if (!config.afterActions.isEmpty()) {
          addPerStage(config.trigger, TriggerEventProcessorStage.AFTER_ACTION, listener);
        }
        additionalListeners.add(listener);
      } finally {
        updateLock.unlock();
      }
    }

