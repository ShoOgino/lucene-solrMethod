  @Override
  public void makePath(String path, byte[] data, CreateMode createMode, boolean failOnExists) throws AlreadyExistsException, IOException, KeeperException, InterruptedException {
    Node n = null;
    multiLock.lock();
    try {
      if (failOnExists && hasData(path)) {
        throw new AlreadyExistsException(path);
      }
      n = traverse(path, true, createMode);
    } finally {
      multiLock.unlock();
    }
    try {
      n.setData(data, -1);
    } catch (BadVersionException e) {
      throw new IOException("should not happen!", e);
    }
  }

