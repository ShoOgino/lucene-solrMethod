  @Override
  public SolrResourceLoader createCoreResourceLoader(CoreDescriptor cd) {
    // TODO: Shouldn't the collection node be created by the Collections API?
    zkController.createCollectionZkNode(cd.getCloudDescriptor());
    String configName = zkController.getZkStateReader().readConfigName(cd.getCollectionName());
    return new ZkSolrResourceLoader(Paths.get(cd.getInstanceDir()), configName, parentLoader.getClassLoader(),
        cd.getSubstitutableProperties(), zkController);
  }

