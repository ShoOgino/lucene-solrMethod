    @Override
    public void execute(SimScenario scenario) throws Exception {
      String path = params.get("path");
      SnapshotCloudManager snapshotCloudManager;
      if (path == null) {
        String zkHost = params.get("zkHost");
        if (zkHost == null) {
          throw new IOException(SimAction.LOAD_SNAPSHOT + " must specify 'path' or 'zkHost'");
        } else {
          try (CloudSolrClient cloudSolrClient = new CloudSolrClient.Builder(Collections.singletonList(zkHost), Optional.empty()).build()) {
            cloudSolrClient.connect();
            try (SolrClientCloudManager realCloudManager = new SolrClientCloudManager(NoopDistributedQueueFactory.INSTANCE, cloudSolrClient)) {
              snapshotCloudManager = new SnapshotCloudManager(realCloudManager, null);
            }
          }
        }
      } else {
        snapshotCloudManager = SnapshotCloudManager.readSnapshot(new File(path));
      }
      scenario.cluster = SimCloudManager.createCluster(snapshotCloudManager, null, snapshotCloudManager.getTimeSource());
      scenario.config = scenario.cluster.getDistribStateManager().getAutoScalingConfig();
    }

