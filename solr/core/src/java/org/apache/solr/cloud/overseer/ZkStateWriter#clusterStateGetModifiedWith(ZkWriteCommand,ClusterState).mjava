  /**
   * Check whether {@value ZkStateReader#CLUSTER_STATE} (for stateFormat = 1) get changed given command
   */
  private boolean clusterStateGetModifiedWith(ZkWriteCommand command, ClusterState state) {
    DocCollection previousCollection = state.getCollectionOrNull(command.name);
    boolean wasPreviouslyStateFormat1 = previousCollection != null && previousCollection.getStateFormat() == 1;
    boolean isCurrentlyStateFormat1 = command.collection != null && command.collection.getStateFormat() == 1;
    return wasPreviouslyStateFormat1 || isCurrentlyStateFormat1;
  }

