  private void joinElection(final String collection,
      final String shardZkNodeName, String shardId, ZkNodeProps leaderProps, SolrCore core) throws InterruptedException, KeeperException, IOException {
    ElectionContext context = new ShardLeaderElectionContext(leaderElector, shardId,
        collection, shardZkNodeName, leaderProps, this, cc);
    
    leaderElector.setup(context);
    electionContexts.put(shardZkNodeName, context);
    leaderElector.joinElection(context, core);
  }

