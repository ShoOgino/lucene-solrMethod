  @SuppressWarnings({"unchecked", "rawtypes"})
  public static void checkProperty(Map<String, Object> properties, Map<String, String> results, String name, boolean required, Class... acceptClasses) {
    Object value = properties.get(name);
    if (value == null) {
      if (required) {
        results.put(name, "missing required value");
      } else {
        return;
      }
    }
    if (acceptClasses == null || acceptClasses.length == 0) {
      return;
    }
    boolean accepted = false;
    for (Class clz : acceptClasses) {
      if (clz.isAssignableFrom(value.getClass())) {
        accepted = true;
        break;
      }
    }
    if (!accepted) {
      results.put(name, "value is not an expected type");
    }
  }

