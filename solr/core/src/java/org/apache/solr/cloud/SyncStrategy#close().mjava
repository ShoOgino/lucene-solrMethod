  public void close() {
    this.isClosed = true;
    try {
      ExecutorUtil.shutdownAndAwaitTermination(recoveryCmdExecutor);
    } catch (Throwable e) {
      SolrException.log(log, e);
    }
    
    // we must close connection manager *after* shutting down executor
    try {
      client.getConnectionManager().shutdown();
    } catch (Throwable e) {
      SolrException.log(log, e);
    }
  }

