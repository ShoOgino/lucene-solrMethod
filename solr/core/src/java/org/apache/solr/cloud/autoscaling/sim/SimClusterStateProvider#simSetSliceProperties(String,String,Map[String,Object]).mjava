  /**
   * Set slice properties.
   * @param coll collection name
   * @param slice slice name
   * @param properties slice properties
   */
  public void simSetSliceProperties(String coll, String slice, Map<String, Object> properties) throws Exception {
    lock.lockInterruptibly();
    try {
      final Map<String, Object> sliceProps = sliceProperties.computeIfAbsent
        (coll, c -> new HashMap<>()).computeIfAbsent(slice, s -> new HashMap<>());
      sliceProps.clear();
      if (properties != null) {
        sliceProps.putAll(properties);
      }
      collectionsStatesRef.get(coll).invalidate();
    } finally {
      lock.unlock();
    }
  }

