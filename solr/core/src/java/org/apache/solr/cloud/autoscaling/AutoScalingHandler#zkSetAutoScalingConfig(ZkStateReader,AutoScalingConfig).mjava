  private boolean zkSetAutoScalingConfig(ZkStateReader reader, AutoScalingConfig currentConfig) throws KeeperException, InterruptedException, IOException {
    verifyAutoScalingConf(currentConfig);
    try {
      reader.getZkClient().setData(SOLR_AUTOSCALING_CONF_PATH, Utils.toJSON(currentConfig), currentConfig.getZkVersion(), true);
    } catch (KeeperException.BadVersionException bve) {
      // somebody else has changed the configuration so we must retry
      return false;
    }
    return true;
  }

