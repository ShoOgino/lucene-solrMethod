  @Override
  public void run() {
    SolrCore core = cc.getCore(coreName);
    if (core == null) {
      SolrException.log(log, "SolrCore not found - cannot recover:" + coreName);
      return;
    }

    // set request info for logging
    SolrQueryRequest req = new LocalSolrQueryRequest(core, new ModifiableSolrParams());
    SolrQueryResponse rsp = new SolrQueryResponse();
    SolrRequestInfo.setRequestInfo(new SolrRequestInfo(req, rsp));

    log.info("Starting recovery process. recoveringAfterStartup=" + recoveringAfterStartup);

    try {
      doRecovery(core);
    } finally {
      SolrRequestInfo.clearRequestInfo();
    }
  }

