  private TriggerEvent fromMap(Map<String, Object> map) {
    String id = (String)map.get("id");
    String source = (String)map.get("source");
    long eventTime = ((Number)map.get("eventTime")).longValue();
    AutoScaling.EventType eventType = AutoScaling.EventType.valueOf((String)map.get("eventType"));
    Map<String, Object> properties = (Map<String, Object>)map.get("properties");
    TriggerEvent res = new TriggerEvent(id, eventType, source, eventTime, properties);
    res.getProperties().put(DEQUEUE_TIME, timeSource.getTime());
    return res;
  }

