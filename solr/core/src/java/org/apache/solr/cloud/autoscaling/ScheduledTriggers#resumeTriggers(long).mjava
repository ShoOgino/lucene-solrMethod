  /**
   * Resumes all previously cancelled triggers to be scheduled after the given initial delay
   * @param afterDelayMillis the initial delay in milliseconds after which triggers should be resumed
   * @lucene.internal
   */
  public synchronized void resumeTriggers(long afterDelayMillis) {
    List<Map.Entry<String, TriggerWrapper>> entries = new ArrayList<>(scheduledTriggerWrappers.entrySet());
    Collections.shuffle(entries, RANDOM);
    entries.forEach(e ->  {
      String key = e.getKey();
      TriggerWrapper triggerWrapper = e.getValue();
      if (triggerWrapper.scheduledFuture.isCancelled()) {
        log.debug("Resuming trigger: {} after {}ms", key, afterDelayMillis);
        triggerWrapper.scheduledFuture = scheduledThreadPoolExecutor.scheduleWithFixedDelay(triggerWrapper, afterDelayMillis,
            cloudManager.getTimeSource().convertDelay(TimeUnit.SECONDS, triggerDelay.get(), TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS);
      }
    });
  }

