  /** finalizes result: computes missing count if applicable */
  static NamedList<Integer> finalize(NamedList<Integer> res, SolrIndexSearcher searcher, SchemaField schemaField, DocSet docs, int missingCount, boolean missing) throws IOException {
    if (missing) {
      if (missingCount < 0) {
        if (schemaField.multiValued()) {
          missingCount = SimpleFacets.getFieldMissingCount(searcher,docs,schemaField.getName());
        } else {
          // nocommit: support missing count (ord = -1) for single-valued here.
          missingCount = 0; // single-valued dv is implicitly 0
        }
      }
      res.add(null, missingCount);
    }
    
    return res;
  }

