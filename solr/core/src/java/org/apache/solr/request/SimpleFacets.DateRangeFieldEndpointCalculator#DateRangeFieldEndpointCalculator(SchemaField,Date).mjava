    public DateRangeFieldEndpointCalculator(final SchemaField f,
                                       final Date now) {
      super(f);
      this.now = now;
      if (! (field.getType() instanceof DateRangeField) ) {
        throw new IllegalArgumentException(DateRangeEndpointCalculator.TYPE_ERR_MSG);
      }
    }

