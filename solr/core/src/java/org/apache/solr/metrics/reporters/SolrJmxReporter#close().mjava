  /**
   * Stops the reporter from publishing metrics.
   */
  @Override
  public synchronized void close() {
    if (reporter != null) {
      reporter.close();
      reporter = null;
    }
    if (listener != null && registry != null) {
      registry.removeListener(listener);
      listener.close();
      listener = null;
    }
  }

