    public void close() {
      synchronized (server) {
        for (ObjectName name : registered) {
          try {
            if (server.isRegistered(name)) {
              server.unregisterMBean(name);
            }
          } catch (Exception e) {
            log.debug("bean unregistration error", e);
          }
        }
        registered.clear();
      }
    }

