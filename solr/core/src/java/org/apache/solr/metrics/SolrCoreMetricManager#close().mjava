  /**
   * Closes reporters specific to this core.
   */
  @Override
  public void close() throws IOException {
    metricManager.closeReporters(getRegistryName(), tag);
    if (getLeaderRegistryName() != null) {
      metricManager.closeReporters(getLeaderRegistryName(), tag);
    }
    MetricRegistry metricRegistry = getRegistry();
    metricRegistry.getGauges().forEach((k, v) -> {
      Object val = v.getValue();
      metricRegistry.remove(k);
      metricRegistry.register(k, (Gauge)() -> val);
    });
  }

