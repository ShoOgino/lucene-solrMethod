  @VisibleForTesting
  @SuppressWarnings({"rawtypes"})
  public static CircuitBreaker.CircuitBreakerConfig buildCBConfig(PluginInfo pluginInfo) {
    boolean enabled = Boolean.parseBoolean(pluginInfo.attributes.get("enabled"));
    boolean cpuCBEnabled = false;
    boolean memCBEnabled = false;
    int memCBThreshold = 100;
    int cpuCBThreshold = 100;

    NamedList args = pluginInfo.initArgs;

    if (args != null) {
      cpuCBEnabled = args.getBooleanArg("cpuEnabled");
      memCBEnabled = args.getBooleanArg("memEnabled");
      memCBThreshold = Integer.parseInt((String) args.get("memThreshold"));
      cpuCBThreshold = Integer.parseInt((String) args.get("cpuThreshold"));
    }

    return new CircuitBreaker.CircuitBreakerConfig(enabled, memCBEnabled, memCBThreshold, cpuCBEnabled, cpuCBThreshold);
  }

