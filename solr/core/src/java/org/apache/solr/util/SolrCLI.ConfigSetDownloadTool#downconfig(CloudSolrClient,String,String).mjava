    protected void downconfig(CloudSolrClient cloudSolrClient, String confname, String confdir) throws IOException {

      Path configSetPath = Paths.get(confdir);
      // we try to be nice about having the "conf" in the directory, and we create it if it's not there.
      if (configSetPath.endsWith("/conf") == false) {
        configSetPath = Paths.get(configSetPath.toString(), "conf");
      }
      if (Files.exists(configSetPath) == false) {
        Files.createDirectories(configSetPath);
      }

      // Try to download the configset
      echo("Downloading configset " + confname + " from ZooKeeper at " + cloudSolrClient.getZkHost() +
          " to directory " + configSetPath.toAbsolutePath());
      cloudSolrClient.downloadConfig(confname, configSetPath);
    }

