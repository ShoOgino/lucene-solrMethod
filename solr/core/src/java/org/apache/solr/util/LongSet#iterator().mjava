  /** Returns an iterator over the values in the set.
   * hasNext() must return true for next() to return a valid value.
   */
  public LongIterator iterator() {
    return new LongIterator() {
      private boolean hasNext = zeroCount > 0;
      private int i = -1;
      private long value = 0;

      @Override
      public boolean hasNext() {
        if (hasNext) {
          // this is only executed the first time for the special case 0 value
          return true;
        }
        while (++i < vals.length) {
          value = vals[i];
          if (value != 0) {
            return hasNext = true;
          }
        }
        return false;
      }

      @Override
      public long next() {
        hasNext = false;
        return value;
      }

    };
  }

