  @Override
  public SolrDocument toSolrDocument(LoggingEvent event) {
    SolrDocument doc = new SolrDocument();
    doc.setField("time", new Date(event.getTimeStamp()));
    doc.setField("level", event.getLevel().toString());
    doc.setField("logger", event.getLogger().getName());
    doc.setField("message", event.getMessage() + ""); // avoid NPE when we have an event with null message
    ThrowableInformation t = event.getThrowableInformation();
    if(t!=null) {
      doc.setField("trace", Throwables.getStackTraceAsString(t.getThrowable()));
    }
    return doc;
  }

