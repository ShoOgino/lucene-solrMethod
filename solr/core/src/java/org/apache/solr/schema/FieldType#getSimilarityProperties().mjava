  /** Returns a description of this field's similarity, if any */
  protected SimpleOrderedMap<Object> getSimilarityProperties() {
    SimpleOrderedMap<Object> props = new SimpleOrderedMap<Object>();
    if (similarity != null) {
      props.add(CLASS_NAME, normalizeSPIname(similarity.getClass().getName()));
      SolrParams factoryParams = similarityFactory.getParams();
      if (null != factoryParams) {
        Iterator<String> iter = factoryParams.getParameterNamesIterator();
        while (iter.hasNext()) {
          String key = iter.next();
          props.add(key, factoryParams.get(key));
        }
      }
    }
    return props;
  }

