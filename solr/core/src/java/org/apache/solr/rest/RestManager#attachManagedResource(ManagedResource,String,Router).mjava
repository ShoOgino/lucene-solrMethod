  /**
   * Attaches a ManagedResource and optionally a path for child resources
   * to the given Restlet Router.
   */
  protected void attachManagedResource(ManagedResource res, String path, Router router) {
    router.attach(path, res.getServerResourceClass());
    log.info("Attached managed resource at path: {}",path);
    
    // Determine if we should also route requests for child resources
    // ManagedResource.ChildResourceSupport is a marker interface that
    // indicates the ManagedResource also manages child resources at
    // a path one level down from the main resourceId
    if (ManagedResource.ChildResourceSupport.class.isAssignableFrom(res.getClass())) {
      router.attach(path+"/{child}", res.getServerResourceClass());
    }    
  }  

