    /**
     * Add the managed synonyms and their mappings into the SynonymMap builder.
     */
    @Override
    public void parse(Reader in) throws IOException, ParseException {
      boolean ignoreCase = synonymManager.getIgnoreCase();
      for (CasePreservedSynonymMappings cpsm : synonymManager.synonymMappings.values()) {
        for (String term : cpsm.mappings.keySet()) {
          for (String mapping : cpsm.mappings.get(term)) {
            // apply the case setting to match the behavior of the SynonymMap builder
            String casedTerm = synonymManager.applyCaseSetting(ignoreCase, term);
            String casedMapping = synonymManager.applyCaseSetting(ignoreCase, mapping);
            add(new CharsRef(casedTerm), new CharsRef(casedMapping), false);
          }          
        }
      }      
    }    

