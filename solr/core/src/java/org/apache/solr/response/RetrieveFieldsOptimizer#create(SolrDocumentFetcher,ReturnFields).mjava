  public static RetrieveFieldsOptimizer create(SolrDocumentFetcher docFetcher, ReturnFields returnFields) {
    Set<String> storedFields = calcStoredFieldsForReturn(docFetcher, returnFields);
    Set<String> dvFields = calcDocValueFieldsForReturn(docFetcher, returnFields);

    return new RetrieveFieldsOptimizer(storedFields, dvFields);
  }

