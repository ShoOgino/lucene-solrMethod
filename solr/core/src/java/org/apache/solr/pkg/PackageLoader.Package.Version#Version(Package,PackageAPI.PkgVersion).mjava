      Version(Package parent, PackageAPI.PkgVersion v) {
        this.parent = parent;
        this.version = v;
        List<Path> paths = new ArrayList<>();
        for (String file : version.files) {
          //ensure that the files are downloaded and available
          coreContainer.getPackageStoreAPI().getPackageStore().fetch(file,null);
          paths.add(coreContainer.getPackageStoreAPI().getPackageStore().getRealpath(file));
        }

        try {
          loader = new SolrResourceLoader(
              "PACKAGE_LOADER: " + parent.name() + ":" + version,
              paths,
              coreContainer.getResourceLoader().getInstancePath(),
              coreContainer.getResourceLoader().getClassLoader());
        } catch (MalformedURLException e) {
          log.error("Could not load classloader ", e);
        }
      }

