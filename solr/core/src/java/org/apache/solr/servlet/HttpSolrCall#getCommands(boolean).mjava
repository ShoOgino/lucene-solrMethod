  public List<CommandOperation> getCommands(boolean validateInput) {
    if (parsedCommands == null) {
      Iterable<ContentStream> contentStreams = solrReq.getContentStreams();
      if (contentStreams == null) parsedCommands = Collections.EMPTY_LIST;
      else {
        for (ContentStream contentStream : contentStreams) {
          try {
            parsedCommands = ApiBag.getCommandOperations(contentStream.getReader(), getValidators(), validateInput);
          } catch (IOException e) {
            throw new SolrException(ErrorCode.BAD_REQUEST, "Error reading commands");
          }
          break;
        }
      }
    }
    return CommandOperation.clone(parsedCommands);
  }

