  // when we send back an error, we make sure we read
  // the full client request so that the client does
  // not hit a connection reset and we can reuse the 
  // connection - see SOLR-8453
  private void consumeInput(HttpServletRequest req) {
    try {
      ServletInputStream is = req.getInputStream();
      while (!is.isFinished() && is.read() != -1) {}
    } catch (IOException e) {
      log.info("Could not consume full client request", e);
    }
  }

