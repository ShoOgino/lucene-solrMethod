  @Override
  protected S create(ResourceLoader loader, String name, String className, Node node) throws Exception {
    Class<? extends S> clazz = null;
    Matcher m = legacyPattern.matcher(className);
    if (m.matches()) {
      try {
        clazz = lookupSPI(m.group(4));
      } catch (IllegalArgumentException ex) { 
        // ok
      }
    }
    
    if (clazz != null) {
      className = clazz.getName();
    }
    
    return super.create(loader, name, className, node);
  }

