  public void testStandardResponse() throws IOException {
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    OutputStreamWriter osw = new OutputStreamWriter(baos, UTF_8);
    PushWriter pw = new JSONWriter(osw,
        new LocalSolrQueryRequest(null, new ModifiableSolrParams()), new SolrQueryResponse());
    writeData(pw);
    osw.flush();
    log.info(new String(baos.toByteArray(), "UTF-8"));
    Map m = (Map) Utils.fromJSON(baos.toByteArray());
    checkValues(m);
    try (JavaBinCodec jbc = new JavaBinCodec(baos= new ByteArrayOutputStream(), null)) {
      writeData(jbc);
      try (JavaBinCodec jbcUn = new JavaBinCodec()) {
        m = (Map) jbcUn.unmarshal(new ByteArrayInputStream(baos.toByteArray()));
      }
    }
    checkValues(m);
  }

