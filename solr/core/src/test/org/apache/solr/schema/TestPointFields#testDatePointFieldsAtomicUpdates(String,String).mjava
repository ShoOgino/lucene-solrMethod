  private void testDatePointFieldsAtomicUpdates(String field, String type) throws Exception {
    String date = "1995-01-10T10:59:10Z";
    assertU(adoc(sdoc("id", "1", field, date)));
    assertU(commit());

    assertQ(req("q", "id:1"),
        "//result/doc[1]/" + type + "[@name='" + field + "'][.='"+date+"']");

    assertU(adoc(sdoc("id", "1", field, ImmutableMap.of("set", date+"+2DAYS"))));
    assertU(commit());

    assertQ(req("q", "id:1"),
        "//result/doc[1]/" + type + "[@name='" + field + "'][.='1995-01-12T10:59:10Z']");
  }

