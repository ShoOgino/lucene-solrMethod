  protected final void assertFileNotInZooKeeper(String fileName) throws Exception {
    // Stolen from AbstractBadConfigTestBase
    String errString = "Not Found";
    ignoreException(Pattern.quote(errString));
    String rawContent = null;
    try {
      rawContent = getFileContentFromZooKeeper(fileName);
    } catch (Exception e) {
      // short circuit out if we found what we expected
      if (-1 != e.getMessage().indexOf(errString)) return;
      // otherwise, rethrow it, possibly completely unrelated
      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, 
                              "Unexpected error, expected error matching: " + errString, e);
    } finally {
      resetExceptionIgnores();
    }
    fail("File '" + fileName + "' was unexpectedly found in ZooKeeper.  Content starts with '" 
        + rawContent.substring(0, 100) + " [...]'");
  }

