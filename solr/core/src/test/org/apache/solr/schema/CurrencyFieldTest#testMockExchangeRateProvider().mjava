  @Test
  public void testMockExchangeRateProvider() throws Exception {
    SolrCore core = h.getCore();
    IndexSchema schema = core.getSchema();
    SchemaField amount = schema.getField("mock_amount");

    // A few tests on the provider directly
    ExchangeRateProvider p = ((CurrencyField)amount.getType()).getProvider();
    Set<String> availableCurrencies = p.listAvailableCurrencies();
    assert(availableCurrencies.size() == 3);
    assert(p.reload() == true);
    assert(p.getExchangeRate("USD", "EUR") == 0.8);
  }

