  public void testSanityOfSchemaSimilarityFactoryInform() {
    // sanity check that SchemaSimilarityFactory will throw an Exception if you
    // try to use it w/o inform(SolrCoreAware) otherwise assertSimilarity is useless
    SchemaSimilarityFactory broken = new SchemaSimilarityFactory();
    broken.init(new ModifiableSolrParams());
    // NO INFORM
    try {
      Similarity bogus = broken.getSimilarity();
      fail("SchemaSimilarityFactory should have thrown IllegalStateException b/c inform not used");
    } catch (IllegalStateException expected) {
      assertTrue("GOT: " + expected.getMessage(),
                 expected.getMessage().contains("SolrCoreAware.inform"));
    }
  }

