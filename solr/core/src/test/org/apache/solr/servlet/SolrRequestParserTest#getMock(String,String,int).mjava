  public HttpServletRequest getMock(String uri, String contentType, int contentLength) {
    HttpServletRequest request = createMock(HttpServletRequest.class);
    expect(request.getHeader("User-Agent")).andReturn(null).anyTimes();
    expect(request.getRequestURI()).andReturn(uri).anyTimes();
    expect(request.getContentType()).andReturn(contentType).anyTimes();
    expect(request.getContentLength()).andReturn(contentLength).anyTimes();
    expect(request.getAttribute(EasyMock.anyObject(String.class))).andReturn(null).anyTimes();
    return request;
  }

