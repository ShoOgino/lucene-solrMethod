  public void testLowMinExactHitsGeneratesApproximation() throws IOException {
    h.getCore().withSearcher(searcher -> {
      QueryCommand cmd = new QueryCommand();
      cmd.setMinExactHits(NUM_DOCS / 2);
      cmd.setQuery(new TermQuery(new Term("field1_s", "foo")));
      QueryResult qr = new QueryResult();
      searcher.search(qr, cmd);
      assertMatchesGraterThan(NUM_DOCS, qr);
      return null;
    });
    
    h.getCore().withSearcher(searcher -> {
      QueryCommand cmd = new QueryCommand();
      cmd.setMinExactHits(1);
      cmd.setLen(1);
      // We need to disable cache, otherwise the search will be done for 20 docs (cache window size) which brings up the minExactHits
      cmd.setFlags(SolrIndexSearcher.NO_CHECK_QCACHE | SolrIndexSearcher.NO_SET_QCACHE);
      cmd.setQuery(new TermQuery(new Term("field2_s", "1")));
      QueryResult qr = new QueryResult();
      searcher.search(qr, cmd);
      assertMatchesGraterThan(NUM_DOCS/2, qr);
      return null;
    });
  }

