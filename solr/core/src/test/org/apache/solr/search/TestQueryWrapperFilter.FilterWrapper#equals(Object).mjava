    @Override
    public boolean equals(Object other) {
      return sameClassAs(other) &&
             Objects.equals(in, getClass().cast(other).in);
    }

