  // stops the core, removes the transaction logs, restarts the core.
  void deleteLogs() throws Exception {
    File logDir = h.getCore().getUpdateHandler().getUpdateLog().getLogDir();

    h.close();

    try {
      String[] files = UpdateLog.getLogList(logDir);
      for (String file : files) {
        new File(logDir, file).delete();
      }

      assertEquals(0, UpdateLog.getLogList(logDir).length);
    } finally {
      // make sure we create the core again, even if the assert fails so it won't mess
      // up the next test.
      createCore();
      assertJQ(req("q","*:*") ,"/response/numFound==");   // ensure it works
    }
  }

