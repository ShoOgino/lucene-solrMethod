  public void testLegacyBM25BeforeV8() throws Exception {
    System.setProperty("tests.luceneMatchVersion", Version.LUCENE_7_0_0.toString());
    initCore("solrconfig-basic.xml","schema-tiny.xml");
    System.clearProperty("tests.luceneMatchVersion");
    LegacyBM25Similarity sim = getSimilarity("text", LegacyBM25Similarity.class);
    assertEquals(0.75F, sim.getB(), 0.0F);
    deleteCore();

    System.setProperty("tests.luceneMatchVersion", "5.0.0");
    initCore("solrconfig-basic.xml","schema-tiny.xml");
    System.clearProperty("tests.luceneMatchVersion");
    getSimilarity("text", LegacyBM25Similarity.class);
    deleteCore();

    System.setProperty("tests.luceneMatchVersion", "6.0.0");
    initCore("solrconfig-basic.xml","schema-tiny.xml");
    System.clearProperty("tests.luceneMatchVersion");
    getSimilarity("text", LegacyBM25Similarity.class);
  }

