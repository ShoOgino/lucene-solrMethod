  @AwaitsFix(bugUrl="https://issues.apache.org/jira/browse/SOLR-9285")
  public void testFunctionsAndScoreRTG() throws Exception {
    // NOTE: once this test is fixed to pass, testAugmentersRTG should also be updated to test a abs(val_i)

    // if we use RTG (committed or otherwise) score should be ignored
    for (String id : Arrays.asList("42","99")) {
      for (SolrParams p : Arrays.asList(params("fl","score","fl","log(val_i)","fl","abs(val_i)"),
                                        params("fl","score","fl","log(val_i),abs(val_i)"),
                                        params("fl","score,log(val_i)","fl","abs(val_i)"),
                                        params("fl","score,log(val_i),abs(val_i)"))) {
        assertQ("id="+id+", p="+p,
                req(p, "qt","/get","id",id, "wt","xml")
                ,"count(//doc)=1"
                ,"//doc/double[@name='log(val_i)']"
                ,"//doc/float[@name='abs(val_i)']"
                ,"//doc[count(*)=2]"
                );
      }
    }
  }

