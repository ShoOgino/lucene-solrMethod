  @Test
  public void testPointField() throws Exception {
    assertU(adoc("id", "10000", "foo_pi", "1"));
    assertU(commit());
    
    try {
      final SolrQueryRequest req = req(
          "qt", "/terms",
          "terms", "true",
          "terms.fl", "foo_pi");
      Exception e = expectThrows(SolrException.class, () -> h.query(req));
      assertEquals(SolrException.ErrorCode.BAD_REQUEST.code, ((SolrException) e).code());
      assertTrue(e.getMessage().contains("The terms component does not support Points-based field foo_pi"));

      final SolrQueryRequest req2 = req(
          "qt", "/terms",
          "terms", "true",
          "terms.fl", "foo_pi",
          "terms.list", "1");
      e = expectThrows(SolrException.class, () -> h.query(req2));
      assertEquals(SolrException.ErrorCode.BAD_REQUEST.code, ((SolrException) e).code());
      assertTrue(e.getMessage().contains("The terms component does not support Points-based field foo_pi"));
    } finally {
      assertU(delI("10000"));
      assertU(commit());
    }
  }

