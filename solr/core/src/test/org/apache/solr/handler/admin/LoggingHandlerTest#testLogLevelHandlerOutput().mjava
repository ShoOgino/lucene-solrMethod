  @Test
  public void testLogLevelHandlerOutput() throws Exception {
    Logger tst = LogManager.getLogger("org.apache.solr.SolrTestCaseJ4");
 
    LoggerContext ctx = (LoggerContext) LogManager.getContext(false);
    LoggerConfig loggerConfig = ctx.getConfiguration().getLoggerConfig(tst.getName());
    loggerConfig.setLevel(Level.INFO);
    ctx.updateLoggers();

    // HACK: work around for SOLR-14099...
    Logger apache = LogManager.getLogger("org.apache");
    final String apache_level = null == apache.getLevel()
      ? "null[@name='level']"
      : "str[@name='level'][.='"+apache.getLevel()+"']";

    
    assertQ("Show Log Levels OK",
            req(CommonParams.QT,"/admin/logging")
            ,"//arr[@name='loggers']/lst/str[.='"+tst.getName()+"']/../str[@name='level'][.='"+tst.getLevel()+"']"
            ,"//arr[@name='loggers']/lst/str[.='org.apache']/../" + apache_level
            );

    assertQ("Set a level",
            req(CommonParams.QT,"/admin/logging",  
                "set", tst.getName()+":TRACE")
            ,"//arr[@name='loggers']/lst/str[.='"+tst.getName()+"']/../str[@name='level'][.='TRACE']"
            );
    
    assertQ("Remove a level",
        req(CommonParams.QT,"/admin/logging",  
            "set", tst.getName()+":null")
        ,"//arr[@name='loggers']/lst/str[.='"+tst.getName()+"']/../str[@name='level'][.='OFF']"
        );
  }

