  // Insure that all the props we've preserved are ones that _should_ be in the properties file
  private void checkOnlyKnown(File propFile) throws IOException {

    Properties props = new Properties();
    FileInputStream is = new FileInputStream(propFile);
    try {
      props.load(is);
    } finally {
      org.apache.commons.io.IOUtils.closeQuietly(is);
    }

    // Should never be preserving instanceDir in a core.properties file.
    assertFalse("Should not be preserving instanceDir!", props.containsKey(CoreAdminParams.INSTANCE_DIR));

    Collection<String> stds = new HashSet(Arrays.asList(CoreDescriptor.standardPropNames));
    for (String key : props.stringPropertyNames()) {
      assertTrue("Property '" + key + "' should NOT be preserved in the properties file", stds.contains(key));
    }
  }

