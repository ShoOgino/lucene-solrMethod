  private SolrDocumentList queryAndAssertDocs(ModifiableSolrParams query, SolrClient client, int expected) throws Exception {
    QueryResponse rsp = client.query(query);
    SolrDocumentList docs = rsp.getResults();
    if (docs.size() != expected) {
      log.info("History query: " + query);
      log.info("Wrong response: " + rsp);
      query = params(CommonParams.QT, CommonParams.AUTOSCALING_HISTORY_PATH);
      log.info("Full response: " + client.query(query));
    }
    assertEquals("Wrong number of documents", expected, docs.size());
    return docs;
  }

