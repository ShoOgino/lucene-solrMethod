  @Test
  public void testWhitelistHostCheckerDisabled() throws Exception {
    WhitelistHostChecker checker = new WhitelistHostChecker("http://cde:8983", false);
    checker.checkWhitelist("http://abc-1.com:8983/solr", Arrays.asList(new String[]{"abc-1.com:8983/solr"}));
    
    try {
      checker = new WhitelistHostChecker("http://cde:8983", true);
      checker.checkWhitelist("http://abc-1.com:8983/solr", Arrays.asList(new String[]{"http://abc-1.com:8983/solr"}));
      fail("Expecting exception");
    } catch (SolrException se) {
      assertThat(se.code(), is(SolrException.ErrorCode.FORBIDDEN.code));
    }
  }

