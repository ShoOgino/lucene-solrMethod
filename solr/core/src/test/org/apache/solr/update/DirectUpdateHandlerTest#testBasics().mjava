  @Test
  public void testBasics() throws Exception {
    assertU(adoc("id","5"));

    // search - not committed - "5" should not be found.
    assertQ(req("q","id:5"), "//*[@numFound='0']");

    assertU(commit());

    // now it should be there
    assertQ(req("q","id:5"), "//*[@numFound='1']");

    // now delete it
    assertU(delI("5"));

    // not committed yet
    assertQ(req("q","id:5"), "//*[@numFound='1']");

    assertU(commit());
    
    // should be gone
    assertQ(req("q","id:5"), "//*[@numFound='0']");

  }

