  @Test
  public void testBigLastAddSize() throws IOException {
    String tlogFileName = String.format(Locale.ROOT, UpdateLog.LOG_FILENAME_PATTERN, UpdateLog.TLOG_NAME, 0);
    try (TransactionLog transactionLog = new TransactionLog(Files.createTempFile(tlogFileName, "").toFile(), new ArrayList<>())) {
      transactionLog.lastAddSize = 2000000000;
      AddUpdateCommand updateCommand = new AddUpdateCommand(null);
      updateCommand.solrDoc = new SolrInputDocument();
      transactionLog.write(updateCommand);
    }
  }

