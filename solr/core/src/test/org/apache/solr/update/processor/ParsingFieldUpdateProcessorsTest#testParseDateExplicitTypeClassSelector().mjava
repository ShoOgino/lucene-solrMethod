  public void testParseDateExplicitTypeClassSelector() throws Exception {
    IndexSchema schema = h.getCore().getLatestSchema();
    assertNotNull(schema.getFieldOrNull("date_dt"));
    String dateString = "2010-11-12T13:14:15.168Z";
    DateTimeFormatter dateTimeFormatter = ISODateTimeFormat.dateTime();
    DateTime dateTime = dateTimeFormatter.parseDateTime(dateString);
    SolrInputDocument d;
    if (schema.getField("date_dt").getType().isPointField()) {
      d = processAdd("parse-date-explicit-typeclass-point-selector-no-run-processor",
          doc(f("id", "77"), f("date_dt", dateString)));
    } else {
      d = processAdd("parse-date-explicit-typeclass-selector-no-run-processor",
          doc(f("id", "77"), f("date_dt", dateString)));
    }

    assertNotNull(d);
    assertTrue(d.getFieldValue("date_dt") instanceof Date);
    assertEquals(dateTime.getMillis(), ((Date)d.getFieldValue("date_dt")).getTime());
  }

