  public void testBoostOmitNorms() throws Exception {
    XmlDoc xml = new XmlDoc();
    // explicitly boosting a field if that omits norms is not ok
    xml.xml = "<doc>"
        + "<field name=\"id\">ignore_exception</field>"
        + "<field name=\"title_stringNoNorms\" boost=\"3.0\">mytitle</field>"
        + "</doc>";
    try {
      assertNull(h.validateUpdate(add(xml, new String[0])));
      fail("didn't get expected exception for boosting omit norms field");
    } catch (SolrException expected) {
      // expected exception
    }
    // boosting a field that is copied to another field that omits norms is ok
    xml.xml = "<doc>"
      + "<field name=\"id\">42</field>"
      + "<field name=\"title\" boost=\"3.0\">mytitle</field>"
      + "</doc>";
    assertNull(h.validateUpdate(add(xml, new String[0])));
  }

