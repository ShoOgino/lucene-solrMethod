  private void scheduledTriggerTest(CoreContainer container, Map<String, Object> properties) throws IOException, InterruptedException {
    try (ScheduledTrigger scheduledTrigger = new ScheduledTrigger("sched1", properties,
        container.getResourceLoader(), container.getZkController().getSolrCloudManager())) {
      scheduledTrigger.init();
      scheduledTrigger.setProcessor(noFirstRunProcessor);
      scheduledTrigger.run();
      final List<Long> eventTimes = new ArrayList<>();
      scheduledTrigger.setProcessor(event -> {
        eventTimes.add(event.getEventTime());
        return true;
      });
      for (int i = 0; i < 3; i++) {
        Thread.sleep(3000);
        scheduledTrigger.run();
      }
      assertEquals(3, eventTimes.size());
    }
  }

