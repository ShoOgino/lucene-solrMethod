  //validates that trigger configuration will fail for invalid split configs
  @Test
  public void testInvalidSplitConfig() throws Exception {
    long waitForSeconds = 3 + random().nextInt(5);
    Map<String, Object> props = createTriggerProps(waitForSeconds);
    props.put(IndexSizeTrigger.SPLIT_BY_PREFIX, "hello");

    try (IndexSizeTrigger trigger = new IndexSizeTrigger("index_size_trigger7")) {
      trigger.configure(loader, cloudManager, props);
      fail("Trigger configuration should have failed with invalid property.");
    } catch (TriggerValidationException e) {
      assertTrue(e.getDetails().containsKey(IndexSizeTrigger.SPLIT_BY_PREFIX));
    }

    props.put(IndexSizeTrigger.SPLIT_BY_PREFIX, true);
    props.put(CommonAdminParams.SPLIT_METHOD, "hello");
    try (IndexSizeTrigger trigger = new IndexSizeTrigger("index_size_trigger8")) {
      trigger.configure(loader, cloudManager, props);
      fail("Trigger configuration should have failed with invalid property.");
    } catch (TriggerValidationException e) {
      assertTrue(e.getDetails().containsKey(IndexSizeTrigger.SPLIT_METHOD_PROP));
    }
  }

