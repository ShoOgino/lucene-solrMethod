  /**
   * Restart a server.
   */
  protected void restartServer(CloudJettyRunner server) throws Exception {
    // it seems we need to set the collection property to have the jetty properly restarted
    System.setProperty("collection", server.collection);
    JettySolrRunner jetty = server.jetty;
    jetty.stop();
    jetty.start();
    System.clearProperty("collection");
    waitForRecoveriesToFinish(server.collection, true);
    updateMappingsFromZk(server.collection); // must update the mapping as the core node name might have changed
  }

