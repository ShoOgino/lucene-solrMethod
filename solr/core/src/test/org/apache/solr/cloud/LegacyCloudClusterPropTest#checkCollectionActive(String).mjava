  private void checkCollectionActive(String coll) {
    assertTrue(ClusterStateUtil.waitForAllActiveAndLiveReplicas(cluster.getSolrClient().getZkStateReader(), 120000));
    DocCollection docColl = getCollectionState(coll);
    for (Replica rep : docColl.getReplicas()) {
      if (rep.getState() == Replica.State.ACTIVE) return;
    }
    fail("Replica was not active for collection " + coll);
  }

