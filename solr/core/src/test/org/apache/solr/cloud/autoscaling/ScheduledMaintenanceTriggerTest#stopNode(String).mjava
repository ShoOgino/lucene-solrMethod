  private void stopNode(String nodeName) throws Exception {
    if (cloudManager instanceof SimCloudManager) {
      ((SimCloudManager) cloudManager).simRemoveNode(nodeName, true);
    } else {
      for (JettySolrRunner jetty : cluster.getJettySolrRunners()) {
        if (jetty.getNodeName().equals(nodeName)) {
          cluster.stopJettySolrRunner(jetty);
          break;
        }
      }
    }
  }

