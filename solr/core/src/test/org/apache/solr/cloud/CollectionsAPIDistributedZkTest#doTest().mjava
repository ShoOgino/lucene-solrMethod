  @Override
  public void doTest() throws Exception {
    // setLoggingLevel(null);

    ZkStateReader zkStateReader = cloudClient.getZkStateReader();
    // make sure we have leaders for each shard
    for (int j = 1; j < sliceCount; j++) {
      zkStateReader.getLeaderRetry(DEFAULT_COLLECTION, "shard" + j, 10000);
    }      // make sure we again have leaders for each shard
    
    waitForRecoveriesToFinish(false);
    
    del("*:*");

    // would be better if these where all separate tests - but much, much
    // slower

    testCollectionsAPI();

    // Thread.sleep(10000000000L);
    if (DEBUG) {
      super.printLayout();
    }
  }

