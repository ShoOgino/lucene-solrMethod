  private String getRequestState(String requestId, SolrServer server) throws IOException, SolrServerException {
    RequestStatus request = new RequestStatus();
    request.setRequestId(requestId);
    CollectionAdminResponse response = request.process(server);
    NamedList innerResponse = (NamedList) response.getResponse().get("status");
    return (String) innerResponse.get("state");
  }

