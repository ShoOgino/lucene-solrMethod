  /**
   * Returns a list of all Replicas for the specified collection hosted on the specified node using
   * an <em>uncached</em> ClusterState call (so it should be authoritative from ZK).
   */
  private List<Replica> getReplicaList(String collectionName, JettySolrRunner jettyNode) throws IOException {
    DocCollection collection = cluster.getSolrClient().getClusterStateProvider()
      // we do *NOT* want to trust the cache, because anytime we call this method we have just
      // done a lot of mucking with the cluster
      .getClusterState().getCollectionOrNull(collectionName, false);
    
    List<Replica> results = new ArrayList<>(3);
    if (collection != null) {
      collection.forEachReplica((s, replica) -> {
        if (replica.getNodeName().equals(jettyNode.getNodeName())) {
          results.add(replica);
        }
      });
    }
    return results;
  }

