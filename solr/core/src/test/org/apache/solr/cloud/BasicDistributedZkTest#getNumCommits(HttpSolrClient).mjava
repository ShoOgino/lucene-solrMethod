  private Long getNumCommits(HttpSolrClient sourceClient) throws
      SolrServerException, IOException {
    try (HttpSolrClient client = getHttpSolrClient(sourceClient.getBaseURL())) {
      client.setConnectionTimeout(15000);
      client.setSoTimeout(60000);
      ModifiableSolrParams params = new ModifiableSolrParams();
      params.set("qt", "/admin/mbeans?key=updateHandler&stats=true");
      // use generic request to avoid extra processing of queries
      QueryRequest req = new QueryRequest(params);
      NamedList<Object> resp = client.request(req);
      NamedList mbeans = (NamedList) resp.get("solr-mbeans");
      NamedList uhandlerCat = (NamedList) mbeans.get("UPDATE");
      NamedList uhandler = (NamedList) uhandlerCat.get("updateHandler");
      NamedList stats = (NamedList) uhandler.get("stats");
      return (Long) stats.get("commits");
    }
  }

