  @Test
  public void testSplitShard() throws Exception {
    try (SimScenario scenario = SimScenario.load(splitShardScenario)) {
      scenario.context.put("method", "REWRITE");
      scenario.run();
    } catch (Exception e) {
      assertTrue(e.toString(), e.toString().contains("not enough free disk"));
    }
    try (SimScenario scenario = SimScenario.load(splitShardScenario)) {
      scenario.context.put("method", "LINK");
      scenario.run();
    } catch (Exception e) {
      fail("should have succeeded with method LINK, but failed: " + e.toString());
    }
  }

