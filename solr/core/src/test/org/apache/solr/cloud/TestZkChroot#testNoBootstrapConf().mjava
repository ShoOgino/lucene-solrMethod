  @Test
  public void testNoBootstrapConf() throws Exception {
    String chroot = "/foo/bar2";
    
    System.setProperty("bootstrap_conf", "false");
    System.setProperty("zkHost", zkServer.getZkHost() + chroot);

    try (SolrZkClient zkClient = new SolrZkClient(zkServer.getZkHost(), AbstractZkTestCase.TIMEOUT)) {
      expectThrows(ZooKeeperException.class,
          "did not get a top level exception when more then 4 updates failed",
          () -> {
        assertFalse("Path '" + chroot + "' should not exist before the test",
            zkClient.exists(chroot, true));
        cores = CoreContainer.createAndLoad(home);
      });
      assertFalse("Path shouldn't have been created",
          zkClient.exists(chroot, true));// check the path was not created
    }
  }

