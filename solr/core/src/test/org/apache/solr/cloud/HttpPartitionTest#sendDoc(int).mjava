  protected void sendDoc(int docId) throws Exception {
    try {
      doSendDoc(docId);
    } catch (SolrServerException e) {
      if (e.getRootCause() instanceof NoHttpResponseException) {
        // we don't know if the doc was accepted or not, we send again
        Thread.sleep(100);
        try {
          doSendDoc(docId);
        } catch (SolrServerException e2) {
          if (e2.getRootCause() instanceof NoHttpResponseException) {
            // we don't know if the doc was accepted or not, we send again
            Thread.sleep(3000);
            doSendDoc(docId);
          }
        }
      }
    }
  }

