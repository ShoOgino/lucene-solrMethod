  @Before
  public void setupTest() throws Exception {
    configureCluster(NUM_NODES, TimeSource.get("simTime:" + SPEED));
    
    waitForSeconds = 5;
    triggerStartedCount.set(0);
    triggerFinishedCount.set(0);
    triggerStartedLatch = new CountDownLatch(1);
    triggerFinishedLatch = new CountDownLatch(1);
    listenerEvents.clear();
    // disable .scheduled_maintenance and .auto_add_replicas
    String suspendTriggerCommand = "{" +
        "'suspend-trigger' : {'name' : '.scheduled_maintenance'}" +
        "}";
    SolrRequest req = createAutoScalingRequest(SolrRequest.METHOD.POST, suspendTriggerCommand);
    SolrClient solrClient = cluster.simGetSolrClient();
    NamedList<Object> response;
    try {
      response = solrClient.request(req);
      assertEquals(response.get("result").toString(), "success");
    } catch (Exception e) {
      if (!e.toString().contains("No trigger exists")) {
        throw e;
      }
    }
    suspendTriggerCommand = "{" +
        "'suspend-trigger' : {'name' : '.auto_add_replicas'}" +
        "}";
    req = createAutoScalingRequest(SolrRequest.METHOD.POST, suspendTriggerCommand);
    try {
      response = solrClient.request(req);
      assertEquals(response.get("result").toString(), "success");
    } catch (Exception e) {
      if (!e.toString().contains("No trigger exists")) {
        throw e;
      }
    }

  }

