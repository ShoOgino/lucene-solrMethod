  @Test
  @BadApple(bugUrl="https://issues.apache.org/jira/browse/SOLR-12028")
  public void testModifyMetadataCAR() throws Exception {
    // note we don't use TZ in this test, thus it's UTC
    final String aliasName = getTestName();
    ZkStateReader zkStateReader = createColectionsAndAlias(aliasName);
    CollectionAdminRequest.ModifyAlias modifyAlias = CollectionAdminRequest.modifyAlias(aliasName);
    modifyAlias.addMetadata("foo","baz");
    modifyAlias.addMetadata("bar","bam");
    modifyAlias.process(cluster.getSolrClient());
    checkFooAndBarMeta(aliasName, zkStateReader);

    // now verify we can delete
    modifyAlias = CollectionAdminRequest.modifyAlias(aliasName);
    modifyAlias.addMetadata("foo","");
    modifyAlias.process(cluster.getSolrClient());
    modifyAlias = CollectionAdminRequest.modifyAlias(aliasName);
    modifyAlias.addMetadata("bar",null);
    modifyAlias.process(cluster.getSolrClient());
    modifyAlias = CollectionAdminRequest.modifyAlias(aliasName);

    // whitespace value
    modifyAlias.addMetadata("foo"," ");
    modifyAlias.process(cluster.getSolrClient());


  }

