    @Override
    public void process(TriggerEvent event, ActionContext actionContext) {
      boolean locked = lock.tryLock();
      if (!locked)  {
        log.info("We should never have a tryLock fail because actions are never supposed to be executed concurrently");
        return;
      }
      try {
        long currentTime = actionContext.getCloudManager().getTimeSource().getTimeNs();
        if (lastActionExecutedAt.get() != 0)  {
          long minDiff = TimeUnit.MILLISECONDS.toNanos(throttlingDelayMs.get() - DELTA_MS);
          if (log.isInfoEnabled()) {
            log.info("last action at {} current time = {}\nreal diff: {}\n min diff: {}"
                , lastActionExecutedAt.get(), currentTime
                , (currentTime - lastActionExecutedAt.get())
                , minDiff);
          }
          if (currentTime - lastActionExecutedAt.get() < minDiff) {
            if (log.isInfoEnabled()) {
              log.info("action executed again before minimum wait time from {}", event.getSource());
            }
            fail("TriggerListener was fired before the throttling period");
          }
        }
        if (onlyOnce.compareAndSet(false, true)) {
          if (log.isInfoEnabled()) {
            log.info("action executed from {}", event.getSource());
          }
          lastActionExecutedAt.set(currentTime);
          getTriggerFiredLatch().countDown();
        } else  {
          if (log.isInfoEnabled()) {
            log.info("action executed more than once from {}", event.getSource());
          }
          fail("Trigger should not have fired more than once!");
        }
      } finally {
        lock.unlock();
      }
    }

