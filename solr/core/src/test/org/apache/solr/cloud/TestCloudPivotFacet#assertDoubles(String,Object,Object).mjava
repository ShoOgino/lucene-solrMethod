  /**
   * Given two objects, asserts that they are either both null, or both Numbers
   * with double values that are equally-ish with a "small" epsilon (relative to the 
   * scale of the expected value)
   *
   * @see Number#doubleValue
   */
  private void assertDoubles(String msg, Object expected, Object actual) {
    if (null == expected || null == actual) {
      assertEquals(msg, expected, actual);
    } else {
      assertTrue(msg + " ... expected not a double: " + 
                 expected + "=>" + expected.getClass(),
                 expected instanceof Number);
      assertTrue(msg + " ... actual not a double: " + 
                 actual + "=>" + actual.getClass(),
                 actual instanceof Number);

      // compute an epsilon relative to the size of the expected value
      double expect = ((Number)expected).doubleValue();
      double epsilon = expect * 0.1E-7D;

      assertEquals(msg, expect, ((Number)actual).doubleValue(), epsilon);
                   
    }
  }

