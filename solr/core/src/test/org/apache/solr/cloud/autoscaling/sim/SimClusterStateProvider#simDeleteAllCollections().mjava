  /**
   * Remove all collections.
   */
  public void simDeleteAllCollections() throws Exception {
    lock.lock();
    try {
      nodeReplicaMap.clear();
      collProperties.clear();
      sliceProperties.clear();
      cloudManager.getSimNodeStateProvider().simGetAllNodeValues().forEach((n, values) -> {
        values.put("cores", 0);
      });
      collectionsStatesRef.set(null);
    } finally {
      lock.unlock();
    }
  }

