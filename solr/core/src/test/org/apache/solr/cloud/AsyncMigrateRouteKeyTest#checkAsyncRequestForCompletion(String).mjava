  protected void checkAsyncRequestForCompletion(String asyncId) throws SolrServerException, IOException {
    ModifiableSolrParams params;
    String message;
    params = new ModifiableSolrParams();
    params.set("action", CollectionParams.CollectionAction.REQUESTSTATUS.toString());
    params.set(OverseerCollectionProcessor.REQUESTID, asyncId);
    // This task takes long enough to run. Also check for the current state of the task to be running.
    message = sendStatusRequestWithRetry(params, 2);
    assertEquals("found " + asyncId + " in submitted tasks", message);
    // Now wait until the task actually completes successfully/fails.
    message = sendStatusRequestWithRetry(params, 20);
    assertEquals("Task " + asyncId + " not found in completed tasks.",
        "found " + asyncId + " in completed tasks", message);
  }

