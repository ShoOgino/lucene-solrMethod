  /**
   * Add a new node and initialize its node values (metrics). The
   * /live_nodes list is updated with the new node id.
   * @return new node id
   */
  public String simAddNode() throws Exception {
    Map<String, Object> values = createNodeValues(null);
    String nodeId = (String)values.get(ImplicitSnitch.NODE);
    clusterStateProvider.simAddNode(nodeId);
    nodeStateProvider.simSetNodeValues(nodeId, values);
    LOG.trace("-- added node " + nodeId);
    return nodeId;
  }

