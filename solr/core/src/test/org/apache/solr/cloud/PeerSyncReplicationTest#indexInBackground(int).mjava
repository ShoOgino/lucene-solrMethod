  private Future<Void> indexInBackground(int numDocs) {
    ExecutorService executorService = Executors.newSingleThreadExecutor();
    Future<Void> f = (Future<Void>) executorService.submit(new Callable<Void>() {

      @Override
      public Void call() throws Exception {
          for (int i = 0; i < numDocs; i++) {
            indexDoc(id, docId, i1, 50, tlong, 50, t1, "document number " + docId++);
            // slow down adds, to get documents indexed while in PeerSync
            Thread.sleep(100);
          }
        return null;
      }
    });

    return f;
  }

