  private boolean runInOldLIRMode(String collection, String shard, Replica replica) {
    try (ZkShardTerms shardTerms = new ZkShardTerms(collection, shard, cluster.getZkClient())) {
      return !shardTerms.registered(replica.getName());
    }
  }

