  // Do all the nodes appear exactly once in the leader election queue and vice-versa?
  Boolean checkAppearOnce() throws KeeperException, InterruptedException {

    for (Map.Entry<String, List<Replica>> ent : initial.entrySet()) {
      List<String> leaderQueue = cloudClient.getZkStateReader().getZkClient().getChildren("/collections/" + COLLECTION_NAME +
          "/leader_elect/" + ent.getKey() + "/election", null, true);

      if (leaderQueue.size() != ent.getValue().size()) {
        return false;
      }
      // Check that each election node has a corresponding replica.
      for (String electionNode : leaderQueue) {
        if (checkReplicaName(LeaderElector.getNodeName(electionNode), ent.getValue())) {
          continue;
        }
        return false;
      }
      // Check that each replica has an election node.
      for (Replica rep : ent.getValue()) {
        if (checkElectionNode(rep.getName(), leaderQueue)) {
          continue;
        }
        return false;
      }
    }
    return true;
  }

