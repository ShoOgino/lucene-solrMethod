  private void checkSortOrder(CloudSolrClient client, List<FieldProps> props, String sortDir, String[] order, String[] orderBool) throws IOException, SolrServerException {
    for (FieldProps prop : props) {
      final SolrQuery solrQuery = new SolrQuery("q", "*:*", "rows", "100");
      solrQuery.setSort(prop.getName(), "asc".equals(sortDir) ? SolrQuery.ORDER.asc : SolrQuery.ORDER.desc);
      solrQuery.addSort("id", SolrQuery.ORDER.asc);
      final QueryResponse rsp = client.query(COLLECTION, solrQuery);
      SolrDocumentList res = rsp.getResults();
      assertEquals("Should have exactly " + order.length + " documents returned", order.length, res.getNumFound());
      String expected;
      for (int idx = 0; idx < res.size(); ++idx) {
        if (prop.getName().startsWith("bool")) expected = orderBool[idx];
        else expected = order[idx];
        //nocommit
        if (res.get(idx).get("id").equals(expected) == false) {
          for (int jdx = 0; jdx < order.length; ++jdx) {
            System.out.println(String.format("EOEOE Val in doc %s for field %s is %s", 
                res.get(jdx).get("id"),
                prop.getName(),
                res.get(jdx).get(prop.getName())));
          }
          for (int jdx = 0; jdx < order.length; ++jdx) {
            System.out.println(String.format("EOEOE order pos %d is %s", jdx, order[jdx]));
          }

          for (int jdx = 0; jdx < orderBool.length; ++jdx) {
            System.out.println(String.format("EOEOE bool order pos %d is %s", jdx, orderBool[jdx]));
          }

        }
        assertEquals("Documents in wrong order for field: " + prop.getName(),
            expected, res.get(idx).get("id"));
      }
    }
  }

