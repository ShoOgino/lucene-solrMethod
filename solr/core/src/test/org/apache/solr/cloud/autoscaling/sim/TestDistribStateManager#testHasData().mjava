  @Test
  public void testHasData() throws Exception {
    assertFalse(stateManager.hasData("/hasData/foo"));
    assertFalse(stateManager.hasData("/hasData/bar"));
    try {
      stateManager.createData("/hasData/foo", new byte[0], CreateMode.PERSISTENT);
      fail("should have failed (parent /hasData doesn't exist)");
    } catch (NoSuchElementException e) {
      // expected
    }
    stateManager.makePath("/hasData");
    stateManager.createData("/hasData/foo", new byte[0], CreateMode.PERSISTENT);
    stateManager.createData("/hasData/bar", new byte[0], CreateMode.PERSISTENT);
    assertTrue(stateManager.hasData("/hasData/foo"));
    assertTrue(stateManager.hasData("/hasData/bar"));
  }

