  private void upgrade(JettySolrRunner solrRunner) {
    File[] corePaths = new File(solrRunner.getSolrHome()).listFiles();
    for (File corePath : corePaths) {
      File coreProperties = new File(corePath, "core.properties");
      if (!coreProperties.exists()) continue;
      Properties properties = new Properties();

      try (Reader reader = new InputStreamReader(new FileInputStream(coreProperties), "UTF-8")) {
        properties.load(reader);
      } catch (Exception e) {
        continue;
      }
      properties.remove("lirVersion");
      try (Writer writer = new OutputStreamWriter(new FileOutputStream(coreProperties), "UTF-8")) {
        properties.store(writer, "Upgraded");
      } catch (Exception e) {
        continue;
      }
    }
  }

