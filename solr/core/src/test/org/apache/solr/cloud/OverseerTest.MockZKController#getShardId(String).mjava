    private String getShardId(final String coreName) {
      Map<String,Slice> slices = zkStateReader.getClusterState().getSlicesMap(
          collection);
      if (slices != null) {
        for (Slice slice : slices.values()) {
          if (slice.getReplicasMap().containsKey(nodeName + "_" + coreName)) {
            return slice.getName();
          }
        }
      }
      return null;
    }

