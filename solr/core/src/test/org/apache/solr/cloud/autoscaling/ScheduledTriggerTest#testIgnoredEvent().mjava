  @Test
  public void testIgnoredEvent() throws Exception {
    CoreContainer container = cluster.getJettySolrRunners().get(0).getCoreContainer();
    long threeDaysAgo = new Date().getTime() - TimeUnit.DAYS.toMillis(3);
    Map<String, Object> properties = createTriggerProperties(new Date(threeDaysAgo).toInstant().toString(),
        TimeZone.getDefault().getID(),
        "+2DAYS", "+1HOUR");
    try (ScheduledTrigger scheduledTrigger = new ScheduledTrigger("sched1")) {
      scheduledTrigger.configure(container.getResourceLoader(), container.getZkController().getSolrCloudManager(), properties);
      scheduledTrigger.init();
      AtomicReference<TriggerEvent> eventRef = new AtomicReference<>();
      scheduledTrigger.setProcessor(event -> {
        eventRef.set(event);
        return true;
      });
      scheduledTrigger.run();
      assertTrue(eventRef.get().isIgnored());
    }
  }

