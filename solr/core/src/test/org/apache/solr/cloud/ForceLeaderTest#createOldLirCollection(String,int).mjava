  private void createOldLirCollection(String collection, int numReplicas) throws IOException, SolrServerException {
    if (onlyLeaderIndexes) {
      CollectionAdminRequest
          .createCollection(collection, "conf1", 1, 0, numReplicas, 0)
          .setCreateNodeSet("")
          .process(cloudClient);
    } else {
      CollectionAdminRequest.createCollection(collection, "conf1", 1, numReplicas)
          .setCreateNodeSet("")
          .process(cloudClient);
    }
    Properties oldLir = new Properties();
    oldLir.setProperty("lirVersion", "old");
    for (int i = 0; i < numReplicas; i++) {
      // this is the only way to create replicas which run in old lir implementation
      CollectionAdminRequest
          .addReplicaToShard(collection, "shard1", onlyLeaderIndexes? Replica.Type.TLOG: Replica.Type.NRT)
          .setProperties(oldLir)
          .process(cloudClient);
    }
  }

