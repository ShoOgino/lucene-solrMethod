  /**
   * Test PersianCharFilterFactory
   */
  public void testPersianCharFilter() throws Exception {
    Reader reader = new StringReader("می‌خورد");
    PersianCharFilterFactory charfilterFactory = new PersianCharFilterFactory();
    StandardTokenizerFactory tokenizerFactory = new StandardTokenizerFactory();
    tokenizerFactory.setLuceneMatchVersion(DEFAULT_VERSION);
    tokenizerFactory.init(EMPTY_PARAMS);
    TokenStream stream = tokenizerFactory.create(charfilterFactory.create(CharReader.get(reader)));
    assertTokenStreamContents(stream, new String[] { "می", "خورد" });
  }

