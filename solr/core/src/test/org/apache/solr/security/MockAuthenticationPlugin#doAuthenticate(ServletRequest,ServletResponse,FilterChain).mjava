  @Override
  public void doAuthenticate(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {
    String user = null;
    if (predicate != null) {
      if (predicate.test(request)) {
        user = (String) request.getAttribute(Principal.class.getName());
        request.removeAttribute(Principal.class.getName());
      }
    }
    forward(user, request, response, filterChain);
  }

