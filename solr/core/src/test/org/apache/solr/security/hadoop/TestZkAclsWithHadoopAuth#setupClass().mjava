  @BeforeClass
  public static void setupClass() throws Exception {
    assumeFalse("Hadoop does not work on Windows", Constants.WINDOWS);
    assumeFalse("FIXME: SOLR-8182: This test fails under Java 9", Constants.JRE_IS_MINIMUM_JAVA9);

    System.setProperty("zookeeper.authProvider.1", DummyZKAuthProvider.class.getName());
    System.setProperty("zkCredentialsProvider", DummyZkCredentialsProvider.class.getName());
    System.setProperty("zkACLProvider", DummyZkAclProvider.class.getName());

    ProviderRegistry.initialize();

    configureCluster(NUM_SERVERS)// nodes
        .withSolrXml(MiniSolrCloudCluster.DEFAULT_CLOUD_SOLR_XML)
        .withSecurityJson(TEST_PATH().resolve("security").resolve("hadoop_simple_auth_with_delegation.json"))
        .addConfig("conf1", TEST_PATH().resolve("configsets").resolve("cloud-minimal").resolve("conf"))
        .configure();
  }

