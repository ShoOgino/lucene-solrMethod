  private void waitForAuditEventCallbacks(int number) throws InterruptedException {
    CallbackReceiver receiver = testHarness.get().receiver;
    int count = 0;
    while(receiver.buffer.size() < number) { 
      Thread.sleep(100);
      if (++count >= 30) fail("Failed waiting for " + number + " callbacks");
    }
  }

