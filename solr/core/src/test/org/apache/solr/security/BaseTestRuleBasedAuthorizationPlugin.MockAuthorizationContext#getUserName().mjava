    @Override
    public String getUserName() {
      Principal userPrincipal = getUserPrincipal();
      return userPrincipal == null ? null : userPrincipal.getName();
    }

