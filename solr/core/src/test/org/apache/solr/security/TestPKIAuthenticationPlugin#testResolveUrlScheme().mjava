  @Test
  public void testResolveUrlScheme() {
    synchronized (this) {
      System.clearProperty("urlScheme");
      System.clearProperty("solr.jetty.keystore");
      assertEquals("http", MockPKIAuthenticationPlugin.resolveUrlScheme());
      System.setProperty("urlScheme", "http");
      assertEquals("http", MockPKIAuthenticationPlugin.resolveUrlScheme());
      System.setProperty("urlScheme", "https");
      assertEquals("https", MockPKIAuthenticationPlugin.resolveUrlScheme());
      System.setProperty("urlScheme", "ftp");
      System.clearProperty("solr.jetty.keystore");
      assertEquals("http", MockPKIAuthenticationPlugin.resolveUrlScheme());
      System.setProperty("solr.jetty.keystore", "foo");
      assertEquals("https", MockPKIAuthenticationPlugin.resolveUrlScheme());
      System.clearProperty("urlScheme");
      System.clearProperty("solr.jetty.keystore");
    }
  }

