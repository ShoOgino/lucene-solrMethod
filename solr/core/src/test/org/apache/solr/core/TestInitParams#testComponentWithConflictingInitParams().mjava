  /*@Test
  public void testComponentWithInitParamAndRequestParam(){
    for (String s : Arrays.asList("/dump4")) {
      SolrRequestHandler handler = h.getCore().getRequestHandler(s);
      SolrQueryResponse rsp = new SolrQueryResponse();
      handler.handleRequest(req("param", "a","param","b" ,"param","c", "useParam","a"), rsp);
      NamedList def = (NamedList) rsp.getValues().get("params");
      assertEquals("A", def.get("a"));
      assertEquals("B", def.get("b"));
      assertEquals("C", def.get("c"));
    }
  }*/
  @Test
  public void testComponentWithConflictingInitParams(){
    SolrRequestHandler handler = h.getCore().getRequestHandler("/dump2");
    SolrQueryResponse rsp = new SolrQueryResponse();
    handler.handleRequest(req("initArgs", "true"), rsp);
    NamedList nl = (NamedList) rsp.getValues().get("initArgs");
    NamedList def = (NamedList) nl.get(PluginInfo.DEFAULTS);
    assertEquals("A1" ,def.get("a"));
    def = (NamedList) nl.get(PluginInfo.INVARIANTS);
    assertEquals("B1" ,def.get("b"));
    def = (NamedList) nl.get(PluginInfo.APPENDS);
    assertEquals(Arrays.asList("C1","C") ,def.getAll("c"));
  }

