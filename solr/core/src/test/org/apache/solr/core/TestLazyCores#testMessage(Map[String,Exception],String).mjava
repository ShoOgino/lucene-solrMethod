  // See fi the message you expect is in the list of failures
  private void testMessage(Map<String, Exception> failures, String lookFor) {
    List<String> messages = new ArrayList<>();
    for (Exception e : failures.values()) {
      String message = e.getCause().getMessage();
      messages.add(message);
      if (message.contains(lookFor)) return;
    }
    fail("Should have found message containing these tokens " + lookFor + " in the failure messages: " + messages);
  }

