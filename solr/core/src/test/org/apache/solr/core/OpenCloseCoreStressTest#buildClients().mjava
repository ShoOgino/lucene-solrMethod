  private void buildClients() throws Exception {

    jetty.start();
    url = buildUrl(jetty.getLocalPort(), "/solr/");

    // Mostly to keep annoying logging messages from being sent out all the time.

    for (int idx = 0; idx < indexingThreads; ++idx) {
      HttpSolrClient client = getHttpSolrClient(url, 30000, 60000);
      indexingClients.add(client);
    }
    for (int idx = 0; idx < queryThreads; ++idx) {
      HttpSolrClient client = getHttpSolrClient(url, 30000, 30000);
      queryingClients.add(client);
    }

  }

