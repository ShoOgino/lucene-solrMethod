  private void assertDataHome(String expected, String instanceDir, RAMDirectoryFactory rdf, MockCoreContainer cc, String... properties) throws IOException {
    String dataHome = rdf.getDataHome(new CoreDescriptor("core_name", Paths.get(instanceDir), cc.containerProperties, cc.isZooKeeperAware(), properties));
    if (Constants.WINDOWS) {
      // TODO: find a less-hacky way to assert this!
      dataHome = dataHome.replaceFirst("^[A-Z]:", "").replace("\\", "/");
    }
    assertEquals(expected, dataHome);
  }

