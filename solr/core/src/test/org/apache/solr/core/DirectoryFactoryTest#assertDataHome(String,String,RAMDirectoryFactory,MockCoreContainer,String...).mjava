  private void assertDataHome(String expected, String instanceDir, RAMDirectoryFactory rdf, MockCoreContainer cc, String... properties) throws IOException {
    String dataHome = rdf.getDataHome(new CoreDescriptor("core_name", Paths.get(instanceDir), cc.containerProperties, cc.isZooKeeperAware(), properties));
    if (IS_WINDOWS) {
      dataHome = dataHome.replaceFirst("^C:", "").replaceAll("\\\\","/");
    }
    assertEquals(expected, dataHome);
  }

