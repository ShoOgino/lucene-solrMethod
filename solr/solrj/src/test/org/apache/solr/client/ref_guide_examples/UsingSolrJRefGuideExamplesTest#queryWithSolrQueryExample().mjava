  @Test
  public void queryWithSolrQueryExample() throws Exception {
    final int numResultsToReturn = 1;
    final SolrClient client = getSolrClient();

    // tag::solrj-query-with-solrquery[]
    final SolrQuery query = new SolrQuery("*:*");
    query.addField("id");
    query.addField("name");
    query.setRows(numResultsToReturn);
    // end::solrj-query-with-solrquery[]

    final QueryResponse response = client.query("techproducts", query);
    final SolrDocumentList documents = response.getResults();

    assertEquals(NUM_INDEXED_DOCUMENTS, documents.getNumFound());
    assertEquals(numResultsToReturn, documents.size());
    for(SolrDocument document : documents) {
      assertTrue(document.getFieldNames().contains("id"));
      assertTrue(document.getFieldNames().contains("name"));
    }
  }

