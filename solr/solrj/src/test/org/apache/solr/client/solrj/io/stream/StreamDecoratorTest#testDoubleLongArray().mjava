  public void testDoubleLongArray() throws Exception {
    String expr = "let(a=list(tuple(d=\"1.1\", l=\"5000\"), tuple(d=\"1.3\", l=\"7000\"))," +
        "              b=col(a, d)," +
        "              c=col(a, l)," +
        "              tuple(doubles=double(b)," +
        "                    longs=long(c)))";
    ModifiableSolrParams paramsLoc = new ModifiableSolrParams();
    paramsLoc.set("expr", expr);
    paramsLoc.set("qt", "/stream");

    String url = cluster.getJettySolrRunners().get(0).getBaseUrl().toString() + "/" + COLLECTIONORALIAS;
    TupleStream solrStream = new SolrStream(url, paramsLoc);

    StreamContext context = new StreamContext();
    solrStream.setStreamContext(context);
    List<Tuple> tuples = getTuples(solrStream);
    assertEquals(tuples.size(),  1);

    List<Double> doubles = (List<Double>)tuples.get(0).get("doubles");
    List<Long> longs = (List<Long>)tuples.get(0).get("longs");
    assertEquals(doubles.get(0), 1.1, 0);
    assertEquals(doubles.get(1), 1.3, 0);

    assertEquals(longs.get(0).longValue(), 5000L);
    assertEquals(longs.get(1).longValue(), 7000L);
  }

