  public void testAddReplica() {
    // with shard parameter
    CollectionAdminRequest.AddReplica request = new CollectionAdminRequest.AddReplica()
            .setShardName("shard")
            .setCollectionName("collection");
    assertContainsParams(request.getParams(), ACTION, COLLECTION, SHARD);
    
    // with route parameter
    request = new CollectionAdminRequest.AddReplica()
            .setRouteKey("route")
            .setCollectionName("collection");
    assertContainsParams(request.getParams(), ACTION, COLLECTION, ShardParams._ROUTE_);
    
    // with type parameter
    request = new CollectionAdminRequest.AddReplica()
            .setShardName("shard")
            .setCollectionName("collection")
            .setType(Replica.Type.NRT);
    assertContainsParams(request.getParams(), ACTION, COLLECTION, SHARD, ZkStateReader.REPLICA_TYPE);
  }

