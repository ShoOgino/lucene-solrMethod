  @Test
  public void testEqualsHashCode() {
    assertHashMatchesEquals("equals should match hash (names are equal)",
        new Condition("node", null, null, null, null),
        new Condition("node", null, null, null, null));
    assertHashMatchesEquals("equals should match hash (names aren't equal)",
        new Condition("node", null, null, null, null),
        new Condition("host", null, null, null, null));
    assertHashMatchesEquals("equals should match hash (values are equal)",
        new Condition("node", "localhost", null, null, null),
        new Condition("node", "localhost", null, null, null));
    assertHashMatchesEquals("equals should match hash (values aren't equal)",
        new Condition("node", "localhost", null, null, null),
        new Condition("node", "lucene.apache.org", null, null, null));
    assertHashMatchesEquals("equals should match hash (operands are equal)",
        new Condition("node", null, Operand.EQUAL, null, null),
        new Condition("node", null, Operand.EQUAL, null, null));
    assertHashMatchesEquals("equals should match hash (operands aren't equal)",
        new Condition("node", null, Operand.EQUAL, null, null),
        new Condition("node", null, Operand.NOT_EQUAL, null, null));

    Condition condition = new Condition("host", "localhost", Operand.EQUAL, null, null);
    assertHashMatchesEquals("equals should match hash when compared to self", condition, condition);
    assertTrue("equals should be true when compared to self", condition.equals(condition));
  }

