  @Test
  public void testSimpleJsonQuery() throws Exception {
    SolrClient solrClient = cluster.getSolrClient();
    final int expectedResults = 3;

    // tag::solrj-json-query-simple[]
    final JsonQueryRequest simpleQuery = new JsonQueryRequest()
        .setQuery("memory")
        .withFilter("inStock:true");
    QueryResponse queryResponse = simpleQuery.process(solrClient, COLLECTION_NAME);
    // end::solrj-json-query-simple[]

    assertEquals(0, queryResponse.getStatus());
    assertEquals(expectedResults, queryResponse.getResults().size());
  }

