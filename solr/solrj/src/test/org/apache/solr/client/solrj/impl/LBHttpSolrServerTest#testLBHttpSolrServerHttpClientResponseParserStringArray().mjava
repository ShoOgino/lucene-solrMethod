  /**
   * Test method for {@link org.apache.solr.client.solrj.impl.LBHttpSolrServer#LBHttpSolrServer(org.apache.http.client.HttpClient, org.apache.solr.client.solrj.ResponseParser, java.lang.String[])}.
   * 
   * Validate that the parser passed in is used in the <code>HttpSolrServer</code> instances created.
   * 
   * @throws MalformedURLException If URL is invalid, no URL passed, so won't happen.
   */
  @Test
  public void testLBHttpSolrServerHttpClientResponseParserStringArray() throws MalformedURLException {
    LBHttpSolrServer testServer = new LBHttpSolrServer(new DefaultHttpClient(), (ResponseParser) null);
    HttpSolrServer httpServer = testServer.makeServer("http://127.0.0.1:8080");
    assertNull("Generated server should have null parser.", httpServer.getParser());

    ResponseParser parser = new BinaryResponseParser();
    testServer = new LBHttpSolrServer(new DefaultHttpClient(), parser);
    httpServer = testServer.makeServer("http://127.0.0.1:8080");
    assertEquals("Invalid parser passed to generated server.", parser, httpServer.getParser());
  }

