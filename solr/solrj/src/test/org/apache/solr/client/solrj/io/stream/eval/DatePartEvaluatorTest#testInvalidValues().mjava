  @Test
  public void testInvalidValues() throws Exception {
    StreamEvaluator evaluator = factory.constructEvaluator("year(a)");

    try {
      values.clear();
      values.put("a", 12);
      Object result = evaluator.evaluate(new Tuple(values));
      assertTrue(false);
    } catch (Exception e) {
      assertEquals("Invalid parameter 12 - The parameter must be a string formatted ISO_INSTANT or of type Instant,Date or LocalDateTime.", e.getMessage());
    }

    try {
      values.clear();
      values.put("a", "1995-12-31");
      Object result = evaluator.evaluate(new Tuple(values));
      assertTrue(false);
    } catch (Exception e) {
      assertEquals("Invalid parameter 1995-12-31 - The String must be formatted in the ISO_INSTANT date format.", e.getMessage());
    }

    try {
      values.clear();
      values.put("a", "");
      Object result = evaluator.evaluate(new Tuple(values));
      assertTrue(false);
    } catch (Exception e) {
      assertEquals("Invalid parameter  - The parameter must be a string formatted ISO_INSTANT or of type Instant,Date or LocalDateTime.", e.getMessage());
    }

    values.clear();
    values.put("a", null);
    assertNull(evaluator.evaluate(new Tuple(values)));
  }

