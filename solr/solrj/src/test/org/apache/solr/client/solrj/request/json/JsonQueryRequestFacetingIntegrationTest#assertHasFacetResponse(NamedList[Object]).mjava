  private NamedList<Object> assertHasFacetResponse(NamedList<Object> topLevelResponse) {
    Object o = topLevelResponse.get("facets");
    if (o == null) fail("Response has no top-level 'facets' property as expected");
    if (!(o instanceof NamedList)) fail("Response has a top-level 'facets' property, but it is not a NamedList");

    return (NamedList<Object>) o;
  }

