  public void reserve(int num) {
    if (end + num > buf.length) resize(end + num);
  }

