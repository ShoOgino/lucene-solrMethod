  /**
   * Allows package private classes to update volatile ZooKeeper.
   * 
   * @param keeper
   * @throws InterruptedException 
   */
  void updateKeeper(SolrZooKeeper keeper) throws InterruptedException {
   if (isClosed) throw new RuntimeException("client is closed");
   SolrZooKeeper oldKeeper = this.keeper;
   this.keeper = keeper;
   if (oldKeeper != null) {
     oldKeeper.close();
   }
   if (isClosed) this.keeper.close();
  }

