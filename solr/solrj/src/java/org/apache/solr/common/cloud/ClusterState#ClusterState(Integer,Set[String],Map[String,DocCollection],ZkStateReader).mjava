  /**
   * Use this constr when ClusterState is meant for consumption.
   */
  public ClusterState(Integer zkClusterStateVersion, Set<String> liveNodes,
      Map<String, DocCollection> collectionStates, ZkStateReader stateReader) {
    assert stateReader != null;
    this.zkClusterStateVersion = zkClusterStateVersion;
    this.liveNodes = new HashSet<>(liveNodes.size());
    this.liveNodes.addAll(liveNodes);
    this.collectionStates = new LinkedHashMap<>(collectionStates.size());
    this.collectionStates.putAll(collectionStates);
    this.stateReader = stateReader;

  }

