  private static DocRouter getRouter(Object routerSpec) {
    if (routerSpec == null) return new PlainIdRouter();   // back compat with 4.0

    if (DocRouter.DEFAULT_NAME.equals(routerSpec)) {
      return DocRouter.DEFAULT;
    }

    // TODO: how to instantiate custom routers?

    throw new SolrException(ErrorCode.SERVER_ERROR, "Unknown document router '"+ routerSpec + "'");
  }

