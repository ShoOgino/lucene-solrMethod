  @Override
  public int write(int start, byte[] buffer, int pos) {
    if (start == -1 || start >= length) return -1;
    if (length == 0) return 0;
    int writableBytes = Math.min(length - start, buffer.length - pos);
    System.arraycopy(buf, offset + start, buffer, pos, writableBytes);
    return writableBytes;
  }

