  public synchronized boolean isConnectedAndNotClosed() {
    return !isClosed() && connected;
  }

