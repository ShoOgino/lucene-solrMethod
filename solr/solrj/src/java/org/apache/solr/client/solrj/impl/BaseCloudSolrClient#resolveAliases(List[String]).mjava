  /** Resolves the input collections to their possible aliased collections. Doesn't validate collection existence. */
  private LinkedHashSet<String> resolveAliases(List<String> inputCollections) {
    LinkedHashSet<String> collectionNames = new LinkedHashSet<>(); // consistent ordering
    for (String collectionName : inputCollections) {
      if (getClusterStateProvider().getState(collectionName) == null) {
        // perhaps it's an alias
        collectionNames.addAll(getClusterStateProvider().resolveAlias(collectionName));
      } else {
        collectionNames.add(collectionName); // it's a collection
      }
    }
    return collectionNames;
  }

