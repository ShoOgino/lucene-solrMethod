  public ReplicaInfo(Map<String, Object> map) {
    this.name = map.keySet().iterator().next();
    Map details = (Map) map.get(name);
    details = Utils.getDeepCopy(details, 4);
    this.collection = (String) details.remove("collection");
    this.shard = (String) details.remove("shard");
    this.core = (String) details.remove("core");
    this.node = (String) details.remove("node_name");
    this.isLeader = Boolean.parseBoolean((String) details.getOrDefault("leader", "false"));
    details.remove("leader");
    type = Replica.Type.valueOf((String) details.getOrDefault("type", "NRT"));
    details.remove("type");
    this.variables.putAll(details);
  }

