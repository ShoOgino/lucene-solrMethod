  /**
   * Peek multiple elements from the queue in a single call.
   * @param max maximum elements to retrieve
   * @param waitMillis if less than maximum element is in the queue then wait at most this time for at least one new element.
   * @param acceptFilter peek only elements that pass this filter
   * @return peeked elements
   * @throws Exception on errors
   */
  Collection<Pair<String, byte[]>> peekElements(int max, long waitMillis, Predicate<String> acceptFilter) throws Exception;

