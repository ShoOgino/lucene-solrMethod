  private void setupCollection(HashSet<Pair<String, String>> collectionShardPairs) {
    ClusterStateProvider stateProvider = session.cloudManager.getClusterStateProvider();
    for (Pair<String, String> shard : collectionShardPairs) {
      // if this is not a known collection from the existing clusterstate,
      // then add it
      if (session.matrix.stream().noneMatch(row -> row.hasColl(shard.first()))) {
        session.addClausesForCollection(stateProvider, shard.first());
      }
      for (Row row : session.matrix) row.createCollShard(shard);
    }
  }

