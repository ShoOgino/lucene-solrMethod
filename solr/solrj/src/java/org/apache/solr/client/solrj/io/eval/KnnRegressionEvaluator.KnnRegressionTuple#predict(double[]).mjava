    public double predict(double[] values) {

      Matrix knn = KnnEvaluator.search(scaledObservations, values, k, distanceMeasure);
      List<Number> indexes = (List<Number>)knn.getAttribute("indexes");

      double sum = 0;

      //Collect the outcomes for the nearest neighbors
      for(Number n : indexes) {
        sum += outcomes[n.intValue()];
      }

      //Return the average of the outcomes as the prediction.

      return sum/((double)indexes.size());
    }

