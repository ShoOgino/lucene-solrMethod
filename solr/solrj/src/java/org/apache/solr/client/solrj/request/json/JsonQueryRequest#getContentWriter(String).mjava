  public RequestWriter.ContentWriter getContentWriter(String expectedType) {
    return new RequestWriter.ContentWriter() {
      @Override
      public void write(OutputStream os) throws IOException {
        //TODO consider whether using Utils.writeJson would work here as that'd be more mem efficient
        OutputStreamWriter writer = new OutputStreamWriter(os, StandardCharsets.UTF_8);

        writer.write(Utils.toJSONString(jsonRequestMap));
        writer.flush();
      }

      @Override
      public String getContentType() {
        return ClientUtils.TEXT_JSON;
      }
    };
  }

