    public Long delta(Object val) {
      if (val instanceof ReplicaCount) val = ((ReplicaCount) val).getVal(type);
      if (this.val instanceof String) {
        if (op == LESS_THAN || op == GREATER_THAN) {
          return op
              .opposite(isReplicaZero() && this == tag)
              .delta(Clause.parseDouble(name, this.val), Clause.parseDouble(name, val));
        } else {
          return 0l;
        }
      } else return op
          .opposite(isReplicaZero() && this == tag)
          .delta(this.val, val);
    }

