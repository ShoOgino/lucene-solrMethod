  public Suggester hint(Hint hint, Object value) {
    hint.validator.accept(value);
    if (hint.multiValued) {
      Collection<?> values = value instanceof Collection ? (Collection) value : Collections.singletonList(value);
      ((Set) hints.computeIfAbsent(hint, h -> new HashSet<>())).addAll(values);
    } else {
      if (value == null) {
        hints.put(hint, null);
      } else {
        if ((value instanceof Map) || (value instanceof Number)) {
          hints.put(hint, value);
        } else {
          hints.put(hint, String.valueOf(value));
        }
      }
    }
    return this;
  }

