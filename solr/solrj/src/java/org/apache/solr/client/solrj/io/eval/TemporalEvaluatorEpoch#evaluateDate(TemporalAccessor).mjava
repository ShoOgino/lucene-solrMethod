  @Override
  public Object evaluateDate(TemporalAccessor aDate) throws IOException {
    if (aDate instanceof LocalDateTime) {
      return ((LocalDateTime)aDate).atZone(ZoneOffset.UTC).toInstant().toEpochMilli();
    }
    throw new IOException(String.format(Locale.ROOT, "Unsupported function '%s' called on %s", FUNCTION_NAME, aDate.toString()));
  }

