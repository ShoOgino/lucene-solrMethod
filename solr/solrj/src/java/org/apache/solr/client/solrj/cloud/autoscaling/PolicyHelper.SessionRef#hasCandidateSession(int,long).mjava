    /**
     * Returns true if there's a session in the cache that could be returned (if it was free). This is required to
     * know if there's any point in waiting or if a new session should better be created right away.
     */
    private boolean hasCandidateSession(int zkVersion, long oldestUpdateTimeNs) {
      for (SessionWrapper sw : sessionWrapperSet) {
        if (sw.getLastUpdateTime() >= oldestUpdateTimeNs && sw.zkVersion == zkVersion) {
          return true;
        }
      }
      return false;
    }

