  public B withSubFacet(String facetName, JsonFacetMap map) {
    if (! containsKey("facet")) {
      put("facet", new HashMap<String, Object>());
    }

    final Map<String, Object> subFacetMap = (Map<String, Object>) get("facet");
    subFacetMap.put(facetName, map);
    return getThis();
  }

