  List<Clause.Violation> testChangedMatrix(boolean strict, List<Row> rows) {
    Policy.setApproxValuesAndSortNodes(session.getPolicy().clusterPreferences,rows);
    List<Clause.Violation> errors = new ArrayList<>();
    for (Clause clause : session.expandedClauses) {
      if (strict || clause.strict) {
        List<Clause.Violation> errs = clause.test(rows);
        if (!errs.isEmpty()) {
          errors.addAll(errs);
        }
      }
    }
    return errors;
  }

