  @Override
  public int compareViolation(Violation v1, Violation v2) {
    //TODO use tolerance compare
    return Double.compare(
        v1.getViolatingReplicas().stream().mapToDouble(v -> v.delta == null ? 0 : v.delta).max().orElse(0d),
        v2.getViolatingReplicas().stream().mapToDouble(v3 -> v3.delta == null ? 0 : v3.delta).max().orElse(0d));
  }

