  public Tuple evaluate(Tuple tuple) throws IOException {

    StreamEvaluator se1 = subEvaluators.get(0);
    StreamEvaluator se2 = subEvaluators.get(1);

    KolmogorovSmirnovTest ks = new KolmogorovSmirnovTest();
    List<Number> sample = (List<Number>)se2.evaluate(tuple);
    double[] data = new double[sample.size()];

    for(int i=0; i<data.length; i++) {
      data[i] = sample.get(i).doubleValue();
    }

    Object o = se1.evaluate(tuple);

    if(o instanceof RealDistribution) {
      RealDistribution realDistribution = (RealDistribution)o;
      double d = ks.kolmogorovSmirnovStatistic(realDistribution, data);
      double p = ks.kolmogorovSmirnovTest(realDistribution, data);


      Map m = new HashMap();
      m.put("p-value", p);
      m.put("d-statistic", d);
      return new Tuple(m);
    } else {
      List<Number> sample2 = (List<Number>)o;
      double[] data2 = new double[sample2.size()];
      for(int i=0; i<data2.length; i++) {
        data2[i] = sample2.get(i).doubleValue();
      }

      double d = ks.kolmogorovSmirnovStatistic(data, data2);
      //double p = ks.(data, data2);
      Map m = new HashMap();
      //m.put("p-value", p);
      m.put("d-statistic", d);
      return new Tuple(m);
    }
  }

