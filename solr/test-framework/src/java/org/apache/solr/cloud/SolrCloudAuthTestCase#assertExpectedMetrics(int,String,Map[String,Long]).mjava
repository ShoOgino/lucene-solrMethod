  // Check that the actual metric is equal to or greater than the expected value, never less
  private void assertExpectedMetrics(int expected, String key, Map<String, Long> counts) {
    long cnt = counts.get(key);
    log.debug("Asserting that auth metrics count ({}) > expected ({})", cnt, expected);
    assertTrue("Expected " + key + " metric count to be " + expected + " or higher, but got " + cnt, 
        cnt >= expected);
  }

