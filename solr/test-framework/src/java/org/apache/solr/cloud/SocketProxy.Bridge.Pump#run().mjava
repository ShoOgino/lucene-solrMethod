      public void run() {
        byte[] buf = new byte[1024];
        try {
          InputStream in = src.getInputStream();
          OutputStream out = destination.getOutputStream();
          while (true) {
            int len = in.read(buf);
            if (len == -1) {
              log.debug("read eof from:" + src);
              break;
            }
            pause.get().await();
            out.write(buf, 0, len);
          }
        } catch (Exception e) {
          log.debug("read/write failed, reason: " + e.getLocalizedMessage());
          try {
            if (!receiveSocket.isClosed()) {
              // for halfClose, on read/write failure if we close the
              // remote end will see a close at the same time.
              close();
            }
          } catch (Exception ignore) {}
        }
      }

