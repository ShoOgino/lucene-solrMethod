  public JettySolrRunner createJetty(File solrHome, String dataDir, String shardList, String solrConfigOverride, String schemaOverride) throws Exception {
    // randomly test a relative solr.home path
    if (random().nextBoolean()) {
      solrHome = getRelativeSolrHomePath(solrHome);
    }

    JettyConfig jettyconfig = JettyConfig.builder()
        .setContext(context)
        .stopAtShutdown(false)
        .withServlets(getExtraServlets())
        .withFilters(getExtraRequestFilters())
        .withSSLConfig(sslConfig)
        .build();
    
    JettySolrRunner jetty = new JettySolrRunner(solrHome.getPath(), solrConfigOverride, schemaOverride, jettyconfig);

    jetty.setShards(shardList);
    jetty.setDataDir(getDataDir(dataDir));
    jetty.start();

    return jetty;
  }

