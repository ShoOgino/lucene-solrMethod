  @Override
  public void distribTearDown() throws Exception {
    if (VERBOSE || printLayoutOnTearDown) {
      super.printLayout();
    }
    if (commonCloudSolrClient != null) {
      commonCloudSolrClient.close();
    }
    if (controlClient != null) {
      controlClient.close();
    }
    if (cloudClient != null) {
      cloudClient.close();
    }
    if (controlClientCloud != null) {
      controlClientCloud.close();
    }
    super.distribTearDown();

    System.clearProperty("zkHost");
    System.clearProperty("numShards");

    // close socket proxies after super.distribTearDown
    if (!proxies.isEmpty()) {
      for (SocketProxy proxy : proxies.values()) {
        proxy.close();
      }
    }
  }

