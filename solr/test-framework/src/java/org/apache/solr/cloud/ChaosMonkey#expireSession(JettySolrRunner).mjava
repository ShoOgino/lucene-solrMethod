  // TODO: expire all clients at once?
  public void expireSession(final JettySolrRunner jetty) {
    monkeyLog("expire session for " + jetty.getLocalPort() + " !");
    
    SolrDispatchFilter solrDispatchFilter = (SolrDispatchFilter) jetty
        .getDispatchFilter().getFilter();
    if (solrDispatchFilter != null) {
      CoreContainer cores = solrDispatchFilter.getCores();
      if (cores != null) {
        causeConnectionLoss(jetty, cores.getZkController().getClientTimeout() + 200);
      }
    }
    

//    Thread thread = new Thread() {
//      {
//        setDaemon(true);
//      }
//      public void run() {
//        SolrDispatchFilter solrDispatchFilter = (SolrDispatchFilter) jetty.getDispatchFilter().getFilter();
//        if (solrDispatchFilter != null) {
//          CoreContainer cores = solrDispatchFilter.getCores();
//          if (cores != null) {
//            try {
//              Thread.sleep(ZkTestServer.TICK_TIME * 2 + 800);
//            } catch (InterruptedException e) {
//              // we act as only connection loss
//              return;
//            }
//            long sessionId = cores.getZkController().getZkClient().getSolrZooKeeper().getSessionId();
//            zkServer.expire(sessionId);
//          }
//        }
//      }
//    };
//    thread.start();

  }

