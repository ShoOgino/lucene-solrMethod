  /**
   * Call this from @BeforeClass to set up the test harness and update handler with no cores.
   *
   * @param solrHome The solr home directory.
   * @param xmlStr - the text of an XML file to use. If null, use the what's the absolute minimal file.
   * @throws Exception Lost of file-type things can go wrong.
   */
  public static void setupNoCoreTest(File solrHome, String xmlStr) throws Exception {

    File tmpFile = new File(solrHome, ConfigSolr.SOLR_XML_FILE);
    if (xmlStr == null) {
      xmlStr = "<solr></solr>";
    }
    FileUtils.write(tmpFile, xmlStr, IOUtils.CHARSET_UTF_8.toString());

    SolrResourceLoader loader = new SolrResourceLoader(solrHome.getAbsolutePath());
    h = new TestHarness(loader, ConfigSolr.fromFile(loader, new File(solrHome, "solr.xml")));
    lrf = h.getRequestFactory("standard", 0, 20, CommonParams.VERSION, "2.2");
  }

