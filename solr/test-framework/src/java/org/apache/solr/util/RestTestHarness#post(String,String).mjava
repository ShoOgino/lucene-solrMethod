  /**
   * Processes a POST request using a URL path (with no context path) + optional query params,
   * e.g. "/schema/fields/newfield", PUTs the given content, and returns the response content.
   *
   * @param request The URL path and optional query params
   * @param content The content to include with the POST request
   * @return The response to the PUT request
   */
  public String post(String request, String content) throws IOException {
    URL url = new URL(getBaseURL() + request);
    HttpURLConnection connection = (HttpURLConnection)url.openConnection();
    connection.setDoOutput(true);
    connection.setRequestMethod("POST");
    connection.setRequestProperty("Content-Type", "application/json; charset=utf-8");

    OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream(), "UTF-8");
    out.write(content);
    out.close();
    InputStream inputStream = null;
    StringWriter stringWriter;
    try {
      try {
        inputStream = connection.getInputStream();
      } catch (IOException e) {
        inputStream = connection.getErrorStream();
      }
      stringWriter = new StringWriter();
      IOUtils.copy(new InputStreamReader(inputStream, "UTF-8"), stringWriter);
    } finally {
      IOUtils.closeQuietly(inputStream);
    }
    return stringWriter.toString();
  }

