  public TestHarness(String coreName, CoreContainer.Initializer init) {
    try {
      container = init.initialize();
      if (coreName == null)
        coreName = CoreContainer.DEFAULT_DEFAULT_CORE_NAME;
      // get the core & decrease its refcount:
      // the container holds the core for the harness lifetime
      core = container.getCore(coreName);
      if (core != null)
        core.close();

      updater = new XmlUpdateRequestHandler();
      updater.init( null );
    } catch (Exception e) {
      throw new RuntimeException(e);
    }
  }

