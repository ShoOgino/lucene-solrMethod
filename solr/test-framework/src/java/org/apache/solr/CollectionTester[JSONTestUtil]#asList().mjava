  @SuppressWarnings({"rawtypes"})
  List asList() {
    // TODO: handle native arrays
    if (val instanceof List) {
      return (List)val;
    }
    setErr("expected List");
    return null;
  }

