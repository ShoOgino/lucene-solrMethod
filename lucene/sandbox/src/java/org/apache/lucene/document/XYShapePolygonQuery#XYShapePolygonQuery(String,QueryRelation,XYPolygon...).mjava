  /**
   * Creates a query that matches all indexed shapes to the provided polygons
   */
  public XYShapePolygonQuery(String field, QueryRelation queryRelation, XYPolygon... polygons) {
    super(field, queryRelation);
    if (polygons == null) {
      throw new IllegalArgumentException("polygons must not be null");
    }
    if (polygons.length == 0) {
      throw new IllegalArgumentException("polygons must not be empty");
    }
    for (int i = 0; i < polygons.length; i++) {
      if (polygons[i] == null) {
        throw new IllegalArgumentException("polygon[" + i + "] must not be null");
      } else if (polygons[i].minX > polygons[i].maxX) {
        throw new IllegalArgumentException("XYShapePolygonQuery: minX cannot be greater than maxX.");
      } else if (polygons[i].minY > polygons[i].maxY) {
        throw new IllegalArgumentException("XYShapePolygonQuery: minY cannot be greater than maxY.");
      }
    }
    this.polygons = polygons.clone();
    this.poly2D = XYPolygon2D.create(polygons);
  }

