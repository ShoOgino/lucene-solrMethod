  /** Returns a hash code value for this object.  This is very costly! */
  @Override
  public int hashCode() {
    if (det == null) {
      throw new IllegalStateException("please call finish first");
    }
    return super.hashCode() ^ termToID.hashCode() + det.toDot().hashCode();
  }

