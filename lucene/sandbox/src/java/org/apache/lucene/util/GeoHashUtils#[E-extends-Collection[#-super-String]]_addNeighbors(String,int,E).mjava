  /**
   * Add all geohashes of the cells next to a given geohash to a list.
   *
   * @param geohash   Geohash of a specified cell
   * @param length    level of the given geohash
   * @param neighbors list to add the neighbors to
   * @return the given list
   */
  public static final <E extends Collection<? super String>> E addNeighbors(String geohash, int length, E neighbors) {
    String south = neighbor(geohash, length, 0, -1);
    String north = neighbor(geohash, length, 0, +1);
    if (north != null) {
      neighbors.add(neighbor(north, length, -1, 0));
      neighbors.add(north);
      neighbors.add(neighbor(north, length, +1, 0));
    }

    neighbors.add(neighbor(geohash, length, -1, 0));
    neighbors.add(neighbor(geohash, length, +1, 0));

    if (south != null) {
      neighbors.add(neighbor(south, length, -1, 0));
      neighbors.add(south);
      neighbors.add(neighbor(south, length, +1, 0));
    }

    return neighbors;
  }

