  public void testTermDoesNotMatch() throws Exception {
    searchAndCheckResults(field(0), 100, "nomatch", "e*");
    // We expect that createWeight() is not called because the first term does
    // not match so the query is early stopped without multi-term expansion.
    assertEquals(1, TestCounters.get().singleTermAnalysisCount);
    assertEquals(0, TestCounters.get().multiTermAnalysisCount);
    assertEquals(2, TestCounters.get().segmentUseCount);
    assertEquals(2, TestCounters.get().segmentSkipCount);

    searchAndCheckResults(field(0), 100, "t*", "nomatch", "e*");
    assertEquals(1, TestCounters.get().singleTermAnalysisCount);
    assertEquals(0, TestCounters.get().multiTermAnalysisCount);
    assertEquals(2, TestCounters.get().segmentUseCount);
    assertEquals(2, TestCounters.get().segmentSkipCount);
  }

