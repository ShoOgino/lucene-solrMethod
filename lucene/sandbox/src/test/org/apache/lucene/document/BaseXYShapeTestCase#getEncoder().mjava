  @Override
  protected Encoder getEncoder() {
    return new Encoder() {
      @Override
      double quantizeX(double raw) {
        return decode(encode(raw));
      }

      @Override
      double quantizeXCeil(double raw) {
        return decode(encode(raw));
      }

      @Override
      double quantizeY(double raw) {
        return decode(encode(raw));
      }

      @Override
      double quantizeYCeil(double raw) {
        return decode(encode(raw));
      }

      @Override
      double[] quantizeTriangle(double ax, double ay, double bx, double by, double cx, double cy) {
        int[] decoded = encodeDecodeTriangle(ax, ay, bx, by, cx, cy);
        return new double[]{decode(decoded[0]), decode(decoded[1]), decode(decoded[2]), decode(decoded[3]), decode(decoded[4]), decode(decoded[5])};
      }

      @Override
      int[] encodeDecodeTriangle(double ax, double ay, double bx, double by, double cx, double cy) {
        byte[] encoded = new byte[7 * ShapeField.BYTES];
        ShapeField.encodeTriangle(encoded, encode(ay), encode(ax), encode(by), encode(bx), encode(cy), encode(cx));
        int[] decoded = new int[6];
        ShapeField.decodeTriangle(encoded, decoded);
        return decoded;
      }
    };
  }

