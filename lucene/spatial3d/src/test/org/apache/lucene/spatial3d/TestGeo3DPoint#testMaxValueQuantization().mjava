  public void testMaxValueQuantization(){
    int encoded = Geo3DUtil.MAX_ENCODED_VALUE;
    double maxValue= PlanetModel.WGS84.getMaximumMagnitude();
    //Normal encoding
    double decoded = Geo3DUtil.decodeValue(encoded);
    assertEquals(maxValue, decoded, 0d);
    assertEquals(encoded, Geo3DUtil.encodeValue(decoded));
    //Encoding floor
    double decodedFloor = Geo3DUtil.decodeValueFloor(encoded);
    assertTrue(decodedFloor <  maxValue);
    assertEquals(encoded, Geo3DUtil.encodeValue(decodedFloor));
    //Encoding ceiling
    double decodedCeiling = Geo3DUtil.decodeValueCeil(encoded);
    assertEquals(maxValue, decodedCeiling, 0d);
    assertEquals(encoded, Geo3DUtil.encodeValue(decodedCeiling));
  }

