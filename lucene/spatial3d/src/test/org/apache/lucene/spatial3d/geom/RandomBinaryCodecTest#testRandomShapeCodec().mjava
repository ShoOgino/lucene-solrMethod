  @Test
  @Repeat(iterations = 100)
  public void testRandomShapeCodec() throws IOException{
    PlanetModel planetModel = randomPlanetModel();
    int type = randomShapeType();
    while (type == COMPLEX_POLYGON){
      //We need to implement equals method
      type = randomShapeType();
    }

    GeoShape shape = randomGeoShape(type, planetModel);
    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
    SerializableObject.writeObject(outputStream, shape);
    ByteArrayInputStream inputStream = new ByteArrayInputStream(outputStream.toByteArray());
    SerializableObject shapeCopy = SerializableObject.readObject(planetModel, inputStream);
    assertEquals(shape, shapeCopy);
  }

