  // For non-stream access from thread that might be concurrent with writing
  synchronized long getLength() {
    return length;
  }

