  /** Adds field info for a Document. */
  public static void add(Document doc, FieldInfos fieldInfos) {
    List<Fieldable> fields = doc.getFields();
    for (Fieldable field : fields) {
      fieldInfos.addOrUpdate(field.name(), field.isIndexed(), field.isTermVectorStored(), field.isStorePositionWithTermVector(),
              field.isStoreOffsetWithTermVector(), field.getOmitNorms(), false, field.getOmitTermFreqAndPositions());
    }
  }

