  @Override
  public void files(Directory dir, SegmentInfo segmentInfo, int codecId, Set<String> files) throws IOException {
    final String codecIdAsString = codecId + "";
    final String seedFileName = IndexFileNames.segmentFileName(segmentInfo.name, codecIdAsString, SEED_EXT);    
    files.add(seedFileName);
    SepPostingsReaderImpl.files(segmentInfo, codecIdAsString, files);
    StandardPostingsReader.files(dir, segmentInfo, codecIdAsString, files);
    BlockTermsReader.files(dir, segmentInfo, codecIdAsString, files);
    FixedGapTermsIndexReader.files(dir, segmentInfo, codecIdAsString, files);
    VariableGapTermsIndexReader.files(dir, segmentInfo, codecIdAsString, files);
    
    // hackish!
    Iterator<String> it = files.iterator();
    while(it.hasNext()) {
      final String file = it.next();
      if (!dir.fileExists(file)) {
        it.remove();
      }
    }
    //System.out.println("MockRandom.files return " + files);
  }

