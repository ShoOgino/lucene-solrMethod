    public Similarity get(String field) {
      return new DefaultSimilarity() {
    
        // TODO: Remove warning after API has been finalized
        @Override
        public float scorePayload(int docId, int start, int end, BytesRef payload) {
          //we know it is size 4 here, so ignore the offset/length
          return payload.bytes[payload.offset];
        }

        //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        //Make everything else 1 so we see the effect of the payload
        //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        @Override 
        public void computeNorm(FieldInvertState state, Norm norm) {
          norm.setByte(encodeNormValue(state.getBoost()));
        }

        @Override
        public float sloppyFreq(int distance) {
          return 1;
        }

        @Override
        public float idf(long docFreq, long numDocs) {
          return 1;
        }

        @Override
        public float tf(float freq) {
          return freq == 0 ? 0 : 1;
        }
      };
    }

