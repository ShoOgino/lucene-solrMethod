    public Similarity get(String field) {
      return new DefaultSimilarity() {
    
        @Override 
        public float scorePayload(int docId, int start, int end, BytesRef payload) {
          //we know it is size 4 here, so ignore the offset/length
          return payload.bytes[payload.offset];
        }
    
        //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        //Make everything else 1 so we see the effect of the payload
        //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        @Override 
        public byte computeNorm(FieldInvertState state) {
          return encodeNormValue(state.getBoost());
        }

        @Override 
        public float sloppyFreq(int distance) {
          return 1.0f;
        }

        @Override 
        public float tf(float freq) {
          return 1.0f;
        }
    
        // idf used for phrase queries
        @Override 
        public Explanation idfExplain(TermContext states[], IndexSearcher searcher) throws IOException {
          return new Explanation(1.0f, "Inexplicable");
        }
      };
    }

