  /** Test whether all similarities return document 3 before documents 7 and 8. */
  public void testHeartRanking() throws IOException {
    assumeFalse("PreFlex codec does not support the stats necessary for this test!", 
        "PreFlex".equals(CodecProvider.getDefault().getDefaultFieldCodec()));

    Query q = new TermQuery(new Term(FIELD_BODY, "heart"));
    
    for (SimilarityBase sim : sims) {
      searcher.setSimilarityProvider(new BasicSimilarityProvider(sim));
      TopDocs topDocs = searcher.search(q, 1000);
      assertEquals("Failed: " + sim.toString(), "2", reader.document(topDocs.scoreDocs[0].doc).get(FIELD_ID));
    }
  }

