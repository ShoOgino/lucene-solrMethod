  @BeforeClass
  public static void makeIndex() throws Exception {
    dir = new RAMDirectory();
    Random random = newStaticRandom(TestSubScorerFreqs.class);
    RandomIndexWriter w = new RandomIndexWriter(
        random, dir);
    // make sure we have more than one segment occationally
    for (int i = 0; i < 31 * RANDOM_MULTIPLIER; i++) {
      Document doc = new Document();
      doc.add(newField(random, "f", "a b c d b c d c d d", Field.Store.NO,
          Field.Index.ANALYZED));
      w.addDocument(doc);

      doc = new Document();
      doc.add(newField(random, "f", "a b c d", Field.Store.NO, Field.Index.ANALYZED));
      w.addDocument(doc);
    }

    s = new IndexSearcher(w.getReader());
    w.close();
  }

