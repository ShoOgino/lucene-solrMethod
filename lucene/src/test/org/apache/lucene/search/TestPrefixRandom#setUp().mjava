  @Override
  protected void setUp() throws Exception {
    super.setUp();
    random = newRandom();
    dir = new MockRAMDirectory();
    // TODO: fix mocktokenizer to not extend chartokenizer, so you can have an 'empty' keyword.
    RandomIndexWriter writer = new RandomIndexWriter(random, dir, new MockAnalyzer(MockTokenizer.KEYWORD, false));
    
    Document doc = new Document();
    Field field = new Field("field", "", Field.Store.NO, Field.Index.ANALYZED);
    doc.add(field);

    int num = 2000 * RANDOM_MULTIPLIER;
    for (int i = 0; i < num; i++) {
      field.setValue(_TestUtil.randomUnicodeString(random, 10));
      writer.addDocument(doc);
    }
    reader = writer.getReader();
    searcher = new IndexSearcher(reader);
    writer.close();
  }

