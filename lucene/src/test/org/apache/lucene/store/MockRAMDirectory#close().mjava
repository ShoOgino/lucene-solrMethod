  @Override
  public synchronized void close() {
    if (openFiles == null) {
      openFiles = new HashMap<String,Integer>();
    }
    if (noDeleteOpenFile && openFiles.size() > 0) {
      // RuntimeException instead of IOException because
      // super() does not throw IOException currently:
      throw new RuntimeException("MockRAMDirectory: cannot close: there are still open files: " + openFiles);
    }
  }

