  public MockDirectoryWrapper(Random random, Directory delegate) {
    this.delegate = delegate;
    // must make a private random since our methods are
    // called from different threads; else test failures may
    // not be reproducible from the original seed
    this.randomState = new Random(random.nextInt());
    init();
  }

