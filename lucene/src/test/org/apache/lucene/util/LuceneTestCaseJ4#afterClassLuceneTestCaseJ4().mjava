  @AfterClass
  public static void afterClassLuceneTestCaseJ4() {
    removeTestCodecs(codec);
    Locale.setDefault(savedLocale);
    TimeZone.setDefault(savedTimeZone);
    // now look for unclosed resources
    for (MockDirectoryWrapper d : stores.keySet()) {
      if (d.isOpen()) {
        StackTraceElement elements[] = stores.get(d);
        StackTraceElement element = (elements.length > 1) ? elements[1] : null;
        fail("directory of test was not closed, opened from: " + element);
      }
    }
    stores = null;
  }

