  public static CodecProvider alwaysCodec(final Codec c) {
    return new CodecProvider() {
      @Override
      public Codec getWriter(SegmentWriteState state) {
        return c;
      }

      @Override
      public Codec lookup(String name) {
        // can't do this until we fix PreFlexRW to not
        //impersonate PreFlex:
        //return CodecProvider.getDefault().lookup(name);
        return c;
      }
    };
  }

