    RandomCodecProvider(Random random) {
      if (random.nextInt(5) == 0) {
        /*
         * We randomly swap in a exclusive PreFlexCodec to provide random test coverage
         * for preFlex indexes. In realistic a PreFlex-Environment newer codecs don't occur.    
         */
        this.codecs = new Codec[] { new PreFlexRWCodec() };
      } else {
        this.codecs = new Codec[] { new StandardCodec(), new SimpleTextCodec(),
            new MockSepCodec(), new PulsingCodec(1 + random.nextInt(10)),
            new MockVariableIntBlockCodec(1 + random.nextInt(10)),
            new MockFixedIntBlockCodec(1 + random.nextInt(10)), };
        register(new PreFlexCodec()); // register this for read support
      }
      for (int i = 0; i < codecs.length; i++) {
        register(codecs[i]);
      }

      this.random = random;
    }

