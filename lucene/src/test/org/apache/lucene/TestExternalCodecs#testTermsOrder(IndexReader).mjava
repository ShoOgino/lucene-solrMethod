  private void testTermsOrder(IndexReader r) throws Exception {

    // Verify sort order matches what my comparator said:
    BytesRef lastBytesRef = null;
    TermsEnum terms = MultiFields.getFields(r).terms("id").iterator();
    //System.out.println("id terms:");
    while(true) {
      BytesRef t = terms.next();
      if (t == null) {
        break;
      }
      //System.out.println("  " + t);
      if (lastBytesRef == null) {
        lastBytesRef = new BytesRef(t);
      } else {
        assertTrue("terms in wrong order last=" + lastBytesRef.utf8ToString() + " current=" + t.utf8ToString(), reverseUnicodeComparator.compare(lastBytesRef, t) < 0);
        lastBytesRef.copy(t);
      }
    }
  }

