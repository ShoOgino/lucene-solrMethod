    /** This test creates compound file based on a single file.
     *  Files of different sizes are tested: 0, 1, 10, 100 bytes.
     */
    public void testSingleFile() throws IOException {
        int data[] = new int[] { 0, 1, 10, 100 };
        for (int i=0; i<data.length; i++) {
            String name = "t" + data[i];
            createSequenceFile(dir, name, (byte) 0, data[i]);
            CompoundFileDirectory csw = dir.createCompoundOutput(name + ".cfs", newIOContext(random));
            dir.copy(csw, name, name, newIOContext(random));
            csw.close();

            CompoundFileDirectory csr = dir.openCompoundInput(name + ".cfs", newIOContext(random));
            IndexInput expected = dir.openInput(name, newIOContext(random));
            IndexInput actual = csr.openInput(name, newIOContext(random));
            assertSameStreams(name, expected, actual);
            assertSameSeekBehavior(name, expected, actual);
            expected.close();
            actual.close();
            csr.close();
        }
    }

