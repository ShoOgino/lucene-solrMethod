  public static void checkNorms(IndexReader reader) throws IOException {
        // test omit norms
    for (int i=0; i<DocHelper.fields.length; i++) {
      IndexableField f = DocHelper.fields[i];
      if (f.indexed()) {
        assertEquals(reader.hasNorms(f.name()), !f.omitNorms());
        assertEquals(reader.hasNorms(f.name()), !DocHelper.noNorms.containsKey(f.name()));
        if (!reader.hasNorms(f.name())) {
          // test for norms of null
          byte [] norms = MultiNorms.norms(reader, f.name());
          assertNull(norms);
        }
      }
    }
  }

