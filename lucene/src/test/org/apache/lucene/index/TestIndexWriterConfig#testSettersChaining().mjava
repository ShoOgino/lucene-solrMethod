  @Test
  public void testSettersChaining() throws Exception {
    // Ensures that every setter returns IndexWriterConfig to enable easy
    // chaining.
    for (Method m : IndexWriterConfig.class.getDeclaredMethods()) {
      if (m.getDeclaringClass() == IndexWriterConfig.class
          && m.getName().startsWith("set")
          && !Modifier.isStatic(m.getModifiers())) {
        assertEquals("method " + m.getName() + " does not return IndexWriterConfig", 
            IndexWriterConfig.class, m.getReturnType());
      }
    }
  }

