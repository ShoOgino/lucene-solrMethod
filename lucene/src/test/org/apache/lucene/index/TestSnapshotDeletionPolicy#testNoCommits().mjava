  @Test(expected=IllegalStateException.class)
  public void testNoCommits() throws Exception {
    // Tests that if there were no commits when snapshot() is called, then
    // IllegalStateException is thrown rather than NPE.
    SnapshotDeletionPolicy sdp = new SnapshotDeletionPolicy(new KeepOnlyLastCommitDeletionPolicy());
    sdp.snapshot();
  }

