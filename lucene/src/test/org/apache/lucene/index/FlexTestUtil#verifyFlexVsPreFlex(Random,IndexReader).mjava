  public static void verifyFlexVsPreFlex(Random rand, IndexReader r) throws Exception {
    // First test on DirReader

    verifyFlexVsPreFlexSingle(rand, r);

    // Then on each individual sub reader
    IndexReader[] subReaders = r.getSequentialSubReaders();
    for(int i=0;i<subReaders.length;i++) {
      verifyFlexVsPreFlexSingle(rand, subReaders[i]);
    }

    // Then on a new MultiReader
    IndexReader m = new MultiReader(subReaders, false);
    verifyFlexVsPreFlexSingle(rand, m);
    m.close();
  }

