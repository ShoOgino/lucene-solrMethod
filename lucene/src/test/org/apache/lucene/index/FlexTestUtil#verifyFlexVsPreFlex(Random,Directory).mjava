  // test advanceTo, mixed with getting or not getting positions
  // test that custom/null skipDocs work
  // test: direct flex compared to flex on non flex on flex
  // test with flex on one index and non-flex on the other
  //   (two dirs above)
  // temporarily force pre-flex emulation on flex emulation
  //   on pre-flex segment (in back compat test)
  // a sub-reader that has nonzero doc count but 100% are deleted
  // foreign bitdocs
  // advancing in DocsEnum, then next'ing, nextPosition'ing
  // mutlti-reader w/ empty sub-reader
  //   - eg from merge that had all del docs
  //   - eg from empty flush
  // make sure we test empty field (no terms)
  //  created from empty field in doc, but also, from
  //  removing all docs that had the field
  // test 1 vs many segment index
  // test multireader vs dir reader
  // test bulk read api
  // wrap reader as "external" reader -- double emulation test
  public static void verifyFlexVsPreFlex(Random rand, Directory d) throws Exception {
    IndexReader r = IndexReader.open(d);
    verifyFlexVsPreFlex(rand, r);
    r.close();
  }

