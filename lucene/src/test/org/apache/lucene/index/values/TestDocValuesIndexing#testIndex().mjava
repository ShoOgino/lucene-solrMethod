  /**
   * Tests complete indexing of {@link Values} including deletions, merging and
   * sparse value fields on None-Compound-File
   */
  public void testIndex() throws IOException {
    //
    // without deletions
    IndexWriterConfig cfg = writerConfig(false);
    // primitives - no deletes
    runTestNumerics(cfg, false);

    cfg = writerConfig(false);
    // bytes - no deletes
    runTestIndexBytes(cfg, false);

    // with deletions
    cfg = writerConfig(false);
    // primitives
    runTestNumerics(cfg, true);

    cfg = writerConfig(false);
    // bytes
    runTestIndexBytes(cfg, true);
  }

