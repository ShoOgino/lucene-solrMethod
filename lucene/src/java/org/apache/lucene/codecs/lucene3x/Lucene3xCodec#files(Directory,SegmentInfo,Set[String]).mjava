  // overrides the default implementation in codec.java to handle CFS without CFE, and shared docstores
  @Override
  public void files(Directory dir, SegmentInfo info, Set<String> files) throws IOException {
    // TODO: shared doc stores
    if (info.getUseCompoundFile()) {
      files.add(IndexFileNames.segmentFileName(info.name, "", IndexFileNames.COMPOUND_FILE_EXTENSION));
      // NOTE: we don't add the CFE extension: because 3.x format doesn't use it.
    } else {
      super.files(dir, info, files);
    }
  }

