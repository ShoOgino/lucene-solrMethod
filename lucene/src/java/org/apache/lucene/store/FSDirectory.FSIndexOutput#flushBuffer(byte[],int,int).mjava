    /** output methods: */
    @Override
    public void flushBuffer(byte[] b, int offset, int size) throws IOException {
      assert isOpen;
      if (rateLimiter != null) {
        rateLimiter.pause(size);
      }
      file.write(b, offset, size);
    }

