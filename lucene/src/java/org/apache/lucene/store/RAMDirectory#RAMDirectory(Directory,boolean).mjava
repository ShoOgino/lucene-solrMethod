  private RAMDirectory(Directory dir, boolean closeDir) throws IOException {
    this();
    for (String file : dir.listAll()) {
      dir.copy(this, file, file);
    }
    if (closeDir) {
      dir.close();
    }
  }

