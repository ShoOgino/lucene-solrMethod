  /**
   * <p>Copy all files of this directory to destination directory. All conflicting files at destination are overwritten</p>
   * <p><b>NOTE:</b> this method only copies files that look like index files (ie, have extensions matching the known
   * extensions of index files).
   * <p><b>NOTE:</b> the source directory should not change while this method is running.  Otherwise the results are
   * undefined and you could easily hit a FileNotFoundException. </p>
   *
   * @param to        destination directory
   */
  public final void copyTo(Directory to) throws IOException {
    List<String> filenames = new ArrayList<String>();
    IndexFileNameFilter filter = IndexFileNameFilter.getFilter();

    for (String name : listAll())
      if (filter.accept(null, name))
        filenames.add(name);

    copyTo(to, filenames);
  }

