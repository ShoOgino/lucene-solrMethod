  private final void initWriter() {
    assert openForWrite;
    assert entries == SENTINEL;
    if (writer == null) {
      writer = new CompoundFileWriter(directory, fileName);
    }
  }

