  /**
   * Removes transitions to dead states and calls {@link #reduce()} and
   * {@link #clearHashCode()}. (A state is "dead" if no accept state is
   * reachable from it.)
   */
  public void removeDeadTransitions() {
    clearHashCode();
    if (isSingleton()) return;
    Set<State> states = getStates();
    Set<State> live = getLiveStates(states);
    for (State s : states) {
      Set<Transition> st = s.transitions;
      s.resetTransitions();
      for (Transition t : st)
        if (live.contains(t.to)) s.transitions.add(t);
    }
    reduce();
  }

