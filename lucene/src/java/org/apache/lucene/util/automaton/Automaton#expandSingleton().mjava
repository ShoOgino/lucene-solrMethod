  /**
   * Expands singleton representation to normal representation. Does nothing if
   * not in singleton representation.
   */
  public void expandSingleton() {
    if (isSingleton()) {
      State p = new State();
      initial = p;
      for (int i = 0; i < singleton.length(); i++) {
        State q = new State();
        p.transitions.add(new Transition(singleton.charAt(i), q));
        p = q;
      }
      p.accept = true;
      deterministic = true;
      singleton = null;
    }
  }

