  /**
   * Returns a string representation of this automaton.
   */
  @Override
  public String toString() {
    StringBuilder b = new StringBuilder();
    if (isSingleton()) {
      b.append("singleton: ");
      for (char c : singleton.toCharArray())
        Transition.appendCharString(c, b);
      b.append("\n");
    } else {
      Set<State> states = getStates();
      setStateNumbers(states);
      b.append("initial state: ").append(initial.number).append("\n");
      for (State s : states)
        b.append(s.toString());
    }
    return b.toString();
  }

