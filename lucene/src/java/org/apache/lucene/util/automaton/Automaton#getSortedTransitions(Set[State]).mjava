  /**
   * Returns a sorted array of transitions for each state (and sets state
   * numbers).
   */
  static Transition[][] getSortedTransitions(Set<State> states) {
    setStateNumbers(states);
    Transition[][] transitions = new Transition[states.size()][];
    for (State s : states)
      transitions[s.number] = s.getSortedTransitionArray(false);
    return transitions;
  }

