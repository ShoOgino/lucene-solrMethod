  /**
   * Returns a clone of this automaton unless <code>allow_mutation</code> is
   * set, expands if singleton.
   */
  Automaton cloneExpandedIfRequired() {
    if (allow_mutation) {
      expandSingleton();
      return this;
    } else return cloneExpanded();
  }

