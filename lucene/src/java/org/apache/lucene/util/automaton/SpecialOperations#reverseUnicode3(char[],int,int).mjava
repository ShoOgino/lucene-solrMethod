  /**
   * Intentionally use a unicode 3 reverse.
   * This is because it is only used by getCommonSuffix(),
   * which will reverse the entire FSM using code unit reversal,
   * so we must then reverse its common prefix back using the 
   * same code unit reversal.
   */
  private static void reverseUnicode3(char[] buffer, int start, int len){
    if (len <= 1) return;
    int num = len>>1;
    for (int i = start; i < ( start + num ); i++) {
      char c = buffer[i];
      buffer[i] = buffer[start * 2 + len - i - 1];
      buffer[start * 2 + len - i - 1] = c;
    }
  }

