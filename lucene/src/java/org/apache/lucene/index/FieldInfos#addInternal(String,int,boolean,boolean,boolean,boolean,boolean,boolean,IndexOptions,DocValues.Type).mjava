  /*
   * NOTE: if you call this method from a public method make sure you check if we are modifiable and throw an exception otherwise
   */
  private FieldInfo addInternal(String name, int fieldNumber, boolean isIndexed,
                                boolean storeTermVector, boolean storePositionWithTermVector, 
                                boolean storeOffsetWithTermVector, boolean omitNorms, boolean storePayloads, IndexOptions indexOptions, DocValues.Type docValuesType) {
    // don't check modifiable here since we use that to initially build up FIs
    if (globalFieldNumbers != null) {
      globalFieldNumbers.setIfNotSet(fieldNumber, name);
    } 
    final FieldInfo fi = new FieldInfo(name, isIndexed, fieldNumber, storeTermVector, storePositionWithTermVector,
                                       storeOffsetWithTermVector, omitNorms, storePayloads, indexOptions, docValuesType);
    putInternal(fi);
    return fi;
  }

