    /* Allocate another byte[] from the shared pool */
    @Override
    byte[] getByteBlock() {
      synchronized(DocumentsWriter.this) {
        final int size = freeByteBlocks.size();
        final byte[] b;
        if (0 == size) {
          b = new byte[blockSize];
          numBytesUsed += blockSize;
        } else
          b = freeByteBlocks.remove(size-1);
        return b;
      }
    }

