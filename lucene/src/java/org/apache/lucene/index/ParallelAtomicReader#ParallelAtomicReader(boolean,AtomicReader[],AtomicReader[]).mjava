  // only called from builder!!!
  ParallelAtomicReader(boolean closeSubReaders, AtomicReader[] readers, AtomicReader[] storedFieldReaders) throws IOException {
    this.closeSubReaders = closeSubReaders;
    assert readers.length >= storedFieldReaders.length;
    this.parallelReaders = readers;
    this.storedFieldReaders = storedFieldReaders;
    this.numDocs = (readers.length > 0) ? readers[0].numDocs() : 0;
    this.maxDoc = (readers.length > 0) ? readers[0].maxDoc() : 0;
    this.hasDeletions = (readers.length > 0) ? readers[0].hasDeletions() : false;
    
    for (final AtomicReader reader : readers) {
      final FieldInfos readerFieldInfos = reader.getFieldInfos();
      for(FieldInfo fieldInfo : readerFieldInfos) { // update fieldToReader map
        // NOTE: first reader having a given field "wins":
        if (fieldToReader.get(fieldInfo.name) == null) {
          fieldInfos.add(fieldInfo);
          fieldToReader.put(fieldInfo.name, reader);
          this.fields.addField(fieldInfo.name, reader.terms(fieldInfo.name));
        }
      }
      if (!closeSubReaders) {
        reader.incRef();
      }
    } 
  }

