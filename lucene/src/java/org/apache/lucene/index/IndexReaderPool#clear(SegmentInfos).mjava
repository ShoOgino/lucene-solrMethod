  /** Forcefully clear changes for the specified segments,
   *  and remove from the pool.   This is called on successful merge. */
  synchronized void clear(SegmentInfos infos) throws IOException {
    if (infos == null) {
      for (Map.Entry<SegmentInfo,SegmentReader> ent: readerMap.entrySet()) {
        ent.getValue().hasChanges = false;
      }
    } else {
      for (final SegmentInfo info: infos) {
        if (readerMap.containsKey(info)) {
          readerMap.get(info).hasChanges = false;
        }
      }     
    }
  }

