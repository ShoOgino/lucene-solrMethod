  /**
   * Expert: set the {@link SimilarityProvider} implementation used by this IndexWriter.
   * <p>
   * <b>NOTE:</b> the similarity provider cannot be null. If <code>null</code> is passed,
   * the similarity provider will be set to the default implementation (unspecified).
   *
   * <p>Only takes effect when IndexWriter is first created. */
  public IndexWriterConfig setSimilarityProvider(SimilarityProvider similarityProvider) {
    this.similarityProvider = similarityProvider == null ? IndexSearcher.getDefaultSimilarityProvider() : similarityProvider;
    return this;
  }

