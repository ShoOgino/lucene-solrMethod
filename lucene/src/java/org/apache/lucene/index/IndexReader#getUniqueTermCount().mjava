  /** Returns the number of unique terms (across all fields)
   *  in this reader.
   *
   *  @return number of unique terms or -1 if this count
   *  cannot be easily determined (eg Multi*Readers).
   *  Instead, you should call {@link
   *  #getSequentialSubReaders} and ask each sub reader for
   *  its unique term count. */
  public final long getUniqueTermCount() throws IOException {
    if (!getTopReaderContext().isAtomic) {
      return -1;
    }
    final Fields fields = fields();
    if (fields == null) {
      return 0;
    }
    return fields.getUniqueTermCount();
  }

