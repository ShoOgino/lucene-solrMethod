  private synchronized boolean assertUnreleasedThreadStatesInactive() {
    for (int i = numThreadStatesActive; i < perThreads.length; i++) {
      assert perThreads[i].tryLock() : "unreleased threadstate should not be locked";
      try {
        assert !perThreads[i].isActive() : "expected unreleased thread state to be inactive";
      } finally {
        perThreads[i].unlock();
      }
    }
    return true;
  }

