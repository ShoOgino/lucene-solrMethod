  // Appends a new packet of buffered deletes to the stream,
  // setting its generation:
  public synchronized void push(BufferedDeletes packet) {
    assert packet.any();
    assert checkDeleteStats();    
    packet.gen = nextGen++;
    deletes.add(packet);
    numTerms.addAndGet(packet.numTermDeletes.get());
    bytesUsed.addAndGet(packet.bytesUsed.get());
    if (infoStream != null) {
      message("push deletes " + packet + " delGen=" + packet.gen + " packetCount=" + deletes.size());
    }
    assert checkDeleteStats();    
  }

