  /**
   * used only by assert: checks that filenames about to be put in cfs belong.
   */
  private static boolean assertNoSeparateFiles(Collection<String> files, 
      Directory dir, SegmentInfo info) throws IOException {
    // maybe this is overkill, but codec naming clashes would be bad.
    Set<String> separateFiles = new HashSet<String>();
    info.getCodec().separateFiles(info, separateFiles);
    
    for (String file : files) {
      assert !separateFiles.contains(file) : file + " should not go in CFS!";
    }
    return true;
  }

