  /**
   * Construct a FieldInfos object using the directory and the name of the file
   * IndexInput
   * @param d The directory to open the IndexInput from
   * @param name The name of the file to open the IndexInput from in the Directory
   * @throws IOException
   */
  public FieldInfos(Directory d, String name) throws IOException {
    this(new FieldNumberBiMap());
    /*
     * TODO: in the read case we create a FNBM for each FIs which is a wast of resources.
     * Yet, we must not seed this with a global map since due to addIndexes(Dir) we could
     * have non-matching field numbers. we should use a null FNBM here and set the FIs 
     * to READ-ONLY once this ctor is done. Each modificator should check if we are readonly
     * with an assert
     */
    IndexInput input = d.openInput(name);
    try {
      read(input, name);
    } finally {
      input.close();
    }
  }

