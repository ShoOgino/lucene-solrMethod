  /** @deprecated Switch to the flex API {@link
   *  IndexReader#termDocsEnum} instead. */
  @Deprecated
  @Override
  public TermDocs termDocs() throws IOException {
    ensureOpen();
    if (core.isPreFlex) {
      // For old API on an old segment, instead of
      // converting old API -> new API -> old API, just give
      // direct access to old:
      final PreFlexFields pre = (PreFlexFields) core.fields;
      SegmentTermDocs std = new SegmentTermDocs(pre.freqStream, pre.tis, core.fieldInfos);
      std.setSkipDocs(deletedDocs);
      return std;
    } else {
      // Emulate old API
      return new LegacyTermDocs();
    }
  }

