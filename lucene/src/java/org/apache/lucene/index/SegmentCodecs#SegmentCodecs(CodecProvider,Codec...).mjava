  SegmentCodecs(CodecProvider provider, Codec... codecs) {
    this.provider = provider;
    this.codecs = codecs;
    if (codecs.length == 1 && codecs[0] instanceof PreFlexCodec) {
      this.codec = codecs[0]; // hack for backwards break... don't wrap the codec in preflex
    } else {
      this.codec = new PerFieldCodecWrapper(this);
    }
  }

