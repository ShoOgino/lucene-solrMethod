      public long ramBytesUsed() {
        // TODO(simonw): move ram calculation to PackedInts?!
        return RamUsageEstimator.NUM_BYTES_ARRAY_HEADER
            + data.length
            + (RamUsageEstimator.NUM_BYTES_ARRAY_HEADER + index
                .getBitsPerValue()
                * index.size());
      }

