    /**
     * Writes this {@link FieldNumberBiMap} to the given output and returns its
     * version.
     */
    public synchronized long write(IndexOutput output) throws IOException{
      Set<Entry<String, Integer>> entrySet = nameToNumber.entrySet();
      CodecUtil.writeHeader(output, CODEC_NAME, VERSION_CURRENT); 
      output.writeVInt(entrySet.size());
      for (Entry<String, Integer> entry : entrySet) {
        output.writeVInt(entry.getValue().intValue());
        output.writeString(entry.getKey());
      }
      return version;
    }

