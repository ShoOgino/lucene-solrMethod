  /** Replaces all segments in this instance, but keeps
   *  generation, version, counter so that future commits
   *  remain write once.
   */
  void replace(SegmentInfos other) {
    clear();
    addAll(other);
    lastGeneration = other.lastGeneration;
    lastGlobalFieldMapVersion = other.lastGlobalFieldMapVersion;
    format = other.format;
  }

