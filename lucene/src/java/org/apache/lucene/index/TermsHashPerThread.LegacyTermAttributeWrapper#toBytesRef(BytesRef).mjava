    public int toBytesRef(BytesRef target) {
      assert target.bytes != null : "target byteref must be != null, because utf8 is used here";
      return UnicodeUtil.UTF16toUTF8WithHash(termAtt.termBuffer(), 0, termAtt.termLength(), target);
    }

