  synchronized void doOnDelete(ThreadState state) {
    if (!state.flushPending) {
      flushPolicy.onDelete(this, state);
    }
  }

