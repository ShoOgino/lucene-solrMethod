      public SegmentTermsEnum() throws IOException {
        //if (DEBUG) System.out.println("BTTR.init seg=" + segment);
        in = (IndexInput) BlockTreeTermsReader.this.in.clone();
        stack = new Frame[5];
        for(int stackOrd=0;stackOrd<stack.length;stackOrd++) {
          stack[stackOrd] = new Frame(stackOrd);
        }
        // Used to hold seek by TermState, or cached seek
        staticFrame = new Frame(-1);

        for(int arcIdx=0;arcIdx<arcs.length;arcIdx++) {
          arcs[arcIdx] = new FST.Arc<BytesRef>();
        }

        // Init w/ root block; don't use index since it may
        // not (and need not) have been loaded
        //final FST.Arc<BytesRef> arc = index.getFirstArc(arcs[0]);

        // Empty string prefix must have an output in the index!
        //assert arc.isFinal();

        currentFrame = staticFrame;
        final FST.Arc<BytesRef> arc;
        if (index != null) {
          arc = index.getFirstArc(arcs[0]);
          // Empty string prefix must have an output in the index!
          assert arc.isFinal();
        } else {
          arc = null;
        }
        currentFrame = pushFrame(arc, rootCode, 0);
        currentFrame.loadBlock();
        validIndexPrefix = 0;
        // if (DEBUG) {
        //   System.out.println("init frame state " + currentFrame.ord);
        //   printSeekState();
        // }

        //System.out.println();
        // computeBlockStats().print(System.out);
      }

