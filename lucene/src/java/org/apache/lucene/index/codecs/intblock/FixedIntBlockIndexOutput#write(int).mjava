  @Override
  public void write(int v) throws IOException {
    pending[upto++] = v;
    if (upto == blockSize) {
      flushBlock(pending, out);
      upto = 0;
    }
  }

