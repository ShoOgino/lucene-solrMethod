  protected final DirectoryReader doOpenIfChanged(IndexWriter writer, boolean applyAllDeletes) throws CorruptIndexException, IOException {
    ensureOpen();
    if (writer == this.writer && applyAllDeletes == this.applyAllDeletes) {
      return doOpenFromWriter(null);
    } else {
      // fail by calling supers impl throwing UOE
      throw new UnsupportedOperationException("This reader cannot be reopened from the given IndexWriter, as they don't match.");
    }
  }

