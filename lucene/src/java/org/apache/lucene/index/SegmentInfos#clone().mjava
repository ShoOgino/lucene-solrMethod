  /**
   * Returns a copy of this instance, also copying each
   * SegmentInfo.
   */
  
  @Override
  public Object clone() {
    SegmentInfos sis = (SegmentInfos) super.clone();
    for(int i=0;i<sis.size();i++) {
      final SegmentInfo info = sis.info(i);
      assert info.getCodec() != null;
      sis.set(i, (SegmentInfo) info.clone());
    }
    sis.userData = new HashMap<String,String>(userData);
    return sis;
  }

