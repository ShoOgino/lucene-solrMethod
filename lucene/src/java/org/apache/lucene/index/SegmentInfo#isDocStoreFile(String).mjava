  // TODO: a little messy, but sizeInBytes above that uses this is the real problem.
  private boolean isDocStoreFile(String fileName) throws IOException {
    Set<String> docStoreFiles = new HashSet<String>();
    codec.storedFieldsFormat().files(dir, this, docStoreFiles);
    return IndexFileNames.isDocStoreFile(fileName) || docStoreFiles.contains(fileName);
  }

