    public synchronized void initWritableLiveDocs() {
      assert Thread.holdsLock(IndexWriter.this);
      //System.out.println("initWritableLivedocs seg=" + info + " liveDocs=" + liveDocs + " shared=" + shared);
      if (shared) {
        // Copy on write: this means we've cloned a
        // SegmentReader sharing the current liveDocs
        // instance; must now make a private clone so we can
        // change it:
        if (liveDocs == null) {
          //System.out.println("create BV seg=" + info);
          liveDocs = new BitVector(info.docCount);
          liveDocs.setAll();
        } else {
          liveDocs = (BitVector) liveDocs.clone();
        }
        shared = false;
      } else {
        assert liveDocs != null;
      }
    }

