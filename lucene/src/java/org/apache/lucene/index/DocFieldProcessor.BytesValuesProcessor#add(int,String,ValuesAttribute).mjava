    // nocommit -- make this thread private and not sync'd
    @Override
    public synchronized void add(int docID, String name, ValuesAttribute attr) throws IOException {
      final BytesRef bytes = attr.bytes();
      if(bytes != null) {
        writer.add(docID, bytes);
        return;
      }
      throw new IllegalArgumentException("could not extract byte[] from field " + name);
    }

