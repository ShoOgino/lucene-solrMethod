    /** Add an AtomicReader whose stored fields will not be returned.  This can
     * accelerate search when stored fields are only needed from a subset of
     * the IndexReaders.
     *
     * @throws IllegalArgumentException if not all indexes contain the same number
     *     of documents
     * @throws IllegalArgumentException if not all indexes have the same value
     *     of {@link AtomicReader#maxDoc()}
     * @throws IOException if there is a low-level IO error
     */
    public Builder add(AtomicReader reader, boolean ignoreStoredFields) throws IOException {
      if (parallelReaders.isEmpty()) {
        this.maxDoc = reader.maxDoc();
        this.numDocs = reader.numDocs();
      } else {
        // check compatibility
        if (reader.maxDoc() != maxDoc)
          throw new IllegalArgumentException("All readers must have same maxDoc: "+maxDoc+"!="+reader.maxDoc());
        if (reader.numDocs() != numDocs)
          throw new IllegalArgumentException("All readers must have same numDocs: "+numDocs+"!="+reader.numDocs());
      }
      
      if (!ignoreStoredFields)
        storedFieldReaders.add(reader); // add to storedFieldReaders
      parallelReaders.add(reader);
      return this;
    }

