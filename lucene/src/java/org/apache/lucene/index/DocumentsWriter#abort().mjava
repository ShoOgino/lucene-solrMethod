  void abort() throws IOException {
    threadPool.abort(new DocumentsWriterThreadPool.AbortTask() {
      
      @Override
      void abort() throws IOException {
        try {
          abortedFiles = openFiles();
        } catch (Throwable t) {
          abortedFiles = null;
        }
    
        deletesInRAM.clear();
        // nocommit
    //        deletesFlushed.clear();
    
        openFiles.clear();
        deletesInRAM.clear();
      }
    });
  }

