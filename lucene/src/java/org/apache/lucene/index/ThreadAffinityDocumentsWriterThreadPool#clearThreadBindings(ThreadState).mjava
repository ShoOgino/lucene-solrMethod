  @Override
  protected void clearThreadBindings(ThreadState flushedThread) {
    Iterator<Entry<Thread, AffinityThreadState>> it = threadBindings.entrySet().iterator();
    while (it.hasNext()) {
      Entry<Thread, AffinityThreadState> e = it.next();
      if (e.getValue() == flushedThread) {
        it.remove();
      }
    }
  }

