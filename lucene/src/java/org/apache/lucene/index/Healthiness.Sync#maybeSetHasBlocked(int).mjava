    // only used for testing
    private boolean maybeSetHasBlocked(int state) {
      hasBlockedThreads |= getState() != 0;
      return true;
    }

