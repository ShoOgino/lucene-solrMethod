    /** finds the smallest Lev(n) DFA that accepts the term. */
    @Override
    protected AcceptStatus accept(BytesRef term) {
      if (term.equals(termRef)) { // ed = 0
        boostAtt.setBoost(1.0F);
        return AcceptStatus.YES_AND_SEEK;
      }
      
      int codePointCount = -1;
      
      // TODO: benchmark doing this backwards
      for (int i = 1; i < matchers.length; i++)
        if (matchers[i].run(term.bytes, 0, term.length)) {
          // this sucks, we convert just to score based on length.
          if (codePointCount == -1) {
            codePointCount = UnicodeUtil.codePointCount(term);
          }
          final float similarity = 1.0f - ((float) i / (float) 
              (Math.min(codePointCount, termLength)));
          if (similarity > minSimilarity) {
            boostAtt.setBoost((float) ((similarity - minSimilarity) * scale_factor));
            return AcceptStatus.YES_AND_SEEK;
          } else {
            return AcceptStatus.NO_AND_SEEK;
          }
        }
      
      return AcceptStatus.NO_AND_SEEK;
    }

