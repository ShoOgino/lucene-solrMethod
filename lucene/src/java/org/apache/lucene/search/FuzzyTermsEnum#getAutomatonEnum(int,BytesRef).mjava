  /**
   * return an automata-based enum for matching up to editDistance from
   * lastTerm, if possible
   */
  private TermsEnum getAutomatonEnum(int editDistance, BytesRef lastTerm)
      throws IOException {
    initAutomata(editDistance);
    if (automata != null && editDistance < automata.size()) {
      return new AutomatonFuzzyTermsEnum(automata.get(editDistance), term,
          reader, minSimilarity, runAutomata.subList(0, editDistance + 1)
              .toArray(new RunAutomaton[0]), lastTerm);
    } else {
      return null;
    }
  }

