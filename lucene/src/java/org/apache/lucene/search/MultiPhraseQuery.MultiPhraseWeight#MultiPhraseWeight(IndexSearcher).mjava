    public MultiPhraseWeight(IndexSearcher searcher)
      throws IOException {
      this.similarity = getSimilarity(searcher);

      // compute idf
      final int maxDoc = searcher.maxDoc();
      for(final Term[] terms: termArrays) {
        for (Term term: terms) {
          idf += this.similarity.idf(searcher.docFreq(term), maxDoc);
        }
      }
    }

