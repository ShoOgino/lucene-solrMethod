    public TermWeight(IndexSearcher searcher, PerReaderTermState termStates, int docFreq)
      throws IOException {
      assert termStates != null : "PerReaderTermState must not be null";
      this.termStates = termStates;
      this.similarity = searcher.getSimilarity();
      if (docFreq != -1) {
        idfExp = similarity.idfExplain(term, searcher, docFreq);
      } else {
        idfExp = similarity.idfExplain(term, searcher);
      }
      idf = idfExp.getIdf();
    }

