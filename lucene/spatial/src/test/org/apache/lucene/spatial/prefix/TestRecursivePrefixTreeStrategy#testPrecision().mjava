  @Test
  public void testPrecision() throws IOException{
    init(GeohashPrefixTree.getMaxLevelsPossible());

    Point iPt = ctx.makePoint(2.8028712999999925, 48.3708044);//lon, lat
    addDocument(newDoc("iPt", iPt));
    commit();

    Point qPt = ctx.makePoint(2.4632387000000335, 48.6003516);

    final double DIST = 35.75;//35.7499...
    assertEquals(DIST, ctx.getDistCalc().distance(iPt, qPt), 0.001);

    //distPrec will affect the query shape precision. The indexed precision
    // was set to nearly zilch via init(GeohashPrefixTree.getMaxLevelsPossible());
    final double distPrec = 0.025; //the suggested default, by the way
    final double distMult = 1+distPrec;

    assertTrue(35.74*distMult >= DIST);
    checkHits(q(qPt, 35.74, distPrec), 1, null);

    assertTrue(30*distMult < DIST);
    checkHits(q(qPt, 30, distPrec), 0, null);

    assertTrue(33*distMult < DIST);
    checkHits(q(qPt, 33, distPrec), 0, null);

    assertTrue(34*distMult < DIST);
    checkHits(q(qPt, 34, distPrec), 0, null);
  }

