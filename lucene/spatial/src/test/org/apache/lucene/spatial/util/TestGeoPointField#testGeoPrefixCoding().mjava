  /**
   * Tests stability of {@link GeoPointField#geoCodedToPrefixCoded}
   */
  public void testGeoPrefixCoding() throws Exception {
    int numIters = atLeast(1000);
    long hash;
    long decodedHash;
    BytesRefBuilder brb = new BytesRefBuilder();
    while (numIters-- >= 0) {
      hash = encodeLatLon(nextLatitude(), nextLongitude());
      for (int i=32; i<64; ++i) {
        geoCodedToPrefixCoded(hash, i, brb);
        decodedHash = prefixCodedToGeoCoded(brb.get());
        assertEquals((hash >>> i) << i, decodedHash);
      }
    }
  }

