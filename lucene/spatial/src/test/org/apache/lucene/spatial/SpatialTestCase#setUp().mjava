  @Override
  @Before
  public void setUp() throws Exception {
    super.setUp();

    directory = newDirectory();
    final Random random = random();
    indexWriter = new RandomIndexWriter(random,directory, newIndexWriterConfig(random));
    indexReader = indexWriter.getReader();
    indexSearcher = newSearcher(indexReader);
  }

