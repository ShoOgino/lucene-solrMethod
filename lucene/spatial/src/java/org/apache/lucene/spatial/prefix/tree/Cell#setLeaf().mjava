  /** Modifies the bytes to reflect that this is a leaf. Warning: never invoke from a cell
   * initialized to reference the same bytes from termsEnum, which should be treated as immutable.
   * Note: not supported at level 0. */
  public void setLeaf() {
    assert getLevel() != 0;
    if (isLeaf())
      return;
    //if isn't big enough, we have to copy
    if (bytes.length < b_off + b_len) {
      //hopefully this copying doesn't happen too much (DWS: I checked and it doesn't seem to happen)
      byte[] copy = new byte[b_len + 1];
      System.arraycopy(bytes, b_off, copy, 0, b_len);
      copy[b_len++] = LEAF_BYTE;
      bytes = copy;
      b_off = 0;
    } else {
      bytes[b_off + b_len++] = LEAF_BYTE;
    }
  }

