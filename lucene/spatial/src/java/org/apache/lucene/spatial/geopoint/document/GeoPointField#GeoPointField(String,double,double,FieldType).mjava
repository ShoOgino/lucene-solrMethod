  /** Expert: allows you to customize the {@link
   *  FieldType}.
   *  @param name field name
   *  @param latitude latitude double value [-90.0 : 90.0]
   *  @param longitude longitude double value [-180.0 : 180.0]
   *  @param type customized field type
   *  @throws IllegalArgumentException if the field name or type is null
   */
  public GeoPointField(String name, double latitude, double longitude, FieldType type) {
    super(name, type);

    GeoUtils.checkLatitude(latitude);
    GeoUtils.checkLongitude(longitude);

    // field must be indexed
    // todo does it make sense here to provide the ability to store a GeoPointField but not index?
    if (type.indexOptions() == IndexOptions.NONE && type.stored() == false) {
      throw new IllegalArgumentException("type.indexOptions() is set to NONE but type.stored() is false");
    } else if (type.indexOptions() == IndexOptions.DOCS) {
      if (type.docValuesType() != DocValuesType.SORTED_NUMERIC) {
        throw new IllegalArgumentException("type.docValuesType() must be SORTED_NUMERIC but got " + type.docValuesType());
      }
    } else {
      throw new IllegalArgumentException("type.indexOptions() must be one of NONE or DOCS but got " + type.indexOptions());
    }

    // set field data
    fieldsData = encodeLatLon(latitude, longitude);
  }

