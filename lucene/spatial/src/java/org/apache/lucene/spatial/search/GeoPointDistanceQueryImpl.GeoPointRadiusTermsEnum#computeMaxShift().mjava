    /**
     * Computes the maximum shift for the given pointDistanceQuery. This prevents unnecessary depth traversal
     * given the size of the distance query.
     */
    @Override
    protected short computeMaxShift() {
      final short shiftFactor;

      if (query.radiusMeters > 1000000) {
        shiftFactor = 5;
      } else {
        shiftFactor = 4;
      }

      return (short)(GeoPointField.PRECISION_STEP * shiftFactor);
    }

