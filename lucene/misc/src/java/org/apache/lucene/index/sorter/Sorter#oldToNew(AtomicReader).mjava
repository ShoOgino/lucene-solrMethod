  /**
   * Returns a mapping from the old document ID to its new location in the
   * sorted index. Implementations can use the auxiliary
   * {@link #compute(int[], List)} to compute the old-to-new permutation
   * given an array of documents and their corresponding values.
   * <p>
   * <b>NOTE:</b> deleted documents are expected to appear in the mapping as
   * well, they will however be dropped when the index is actually sorted.
   */
  public abstract int[] oldToNew(AtomicReader reader) throws IOException;

