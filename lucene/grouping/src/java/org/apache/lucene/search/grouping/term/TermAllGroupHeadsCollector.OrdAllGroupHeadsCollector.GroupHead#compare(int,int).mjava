      public int compare(int compIDX, int doc) throws IOException {
        if (sortOrds[compIDX] < 0) {
          // The current segment doesn't contain the sort value we encountered before. Therefore the ord is negative.
          if (sortsIndex[compIDX].getOrd(doc) == -1) {
            scratchBytesRef.length = 0;
          } else {
            sortsIndex[compIDX].getTerm(doc, scratchBytesRef);
          }
          return sortValues[compIDX].compareTo(scratchBytesRef);
        } else {
          return sortOrds[compIDX] - sortsIndex[compIDX].getOrd(doc);
        }
      }

