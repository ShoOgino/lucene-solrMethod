  @Override
  public SeekableByteChannel newByteChannel(Path path, Set<? extends OpenOption> options, FileAttribute<?>... attrs) throws IOException {
    SeekableByteChannel channel = new FilterSeekableByteChannel(super.newByteChannel(path, options, attrs)) {
      @Override
      public void close() throws IOException {
        onClose(path, this);
        super.close();
      }

      @Override
      public String toString() {
        return "SeekableByteChannel(" + path.toString() + ")";
      }
      
      @Override
      public int hashCode() {
        return System.identityHashCode(this);
      }

      @Override
      public boolean equals(Object obj) {
        return this == obj;
      }
    };
    callOpenHook(path, channel);
    return channel;
  }

