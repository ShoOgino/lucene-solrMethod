  /** Create a random set which has <code>numBitsSet</code> of its <code>numBits</code> bits set. */
  protected static BitSet randomSet(int numBits, int numBitsSet) {
    assert numBitsSet <= numBits;
    final BitSet set = new BitSet(numBits);
    if (numBitsSet == numBits) {
      set.set(0, numBits);
    } else {
      for (int i = 0; i < numBitsSet; ++i) {
        while (true) {
          final int o = random().nextInt(numBits);
          if (!set.get(o)) {
            set.set(o);
            break;
          }
        }
      }
    }
    return set;
  }

