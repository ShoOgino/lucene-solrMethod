  public static void keepFullyDeletedSegments(IndexWriter w) {
    try {
      // Carefully invoke what is a package-private (test
      // only, internal) method on IndexWriter:
      Method m = IndexWriter.class.getDeclaredMethod("setKeepFullyDeletedSegments", boolean.class);
      m.setAccessible(true);
      m.invoke(w, Boolean.TRUE);
    } catch (Exception e) {
      // Should not happen?
      throw new RuntimeException(e);
    }
  }

