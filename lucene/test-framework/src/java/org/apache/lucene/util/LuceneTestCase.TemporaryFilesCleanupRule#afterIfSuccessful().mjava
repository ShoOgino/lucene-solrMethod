    @Override
    protected void afterIfSuccessful() throws Throwable {
      synchronized (cleanupQueue) {
        File [] everything = new File [cleanupQueue.size()];
        for (int i = 0; !cleanupQueue.isEmpty(); i++) {
          everything[i] = cleanupQueue.removeFirst();
        }

        // Will throw an IOException on un-removable files.
        TestUtil.rm(everything);
      }
    }

