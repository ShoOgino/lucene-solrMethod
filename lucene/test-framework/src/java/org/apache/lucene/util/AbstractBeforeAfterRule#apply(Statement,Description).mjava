  @Override
  public Statement apply(final Statement s, final Description d) {
    return new Statement() {
      public void evaluate() throws Throwable {
        before();
        
        final ArrayList<Throwable> errors = new ArrayList<Throwable>();
        try {
          s.evaluate();
        } catch (Throwable t) {
          errors.add(t);
        }
        
        try {
          after();
        } catch (Throwable t) {
          errors.add(t);
        }

        MultipleFailureException.assertEmpty(errors);
      }
    };
  }

