  /** Returns a copy of directory, entirely in RAM */
  public static RAMDirectory ramCopyOf(Directory dir) throws IOException {
    RAMDirectory ram = new RAMDirectory();
    for (String file : dir.listAll()) {
      ram.copyFrom(dir, file, file, IOContext.DEFAULT);
    }
    return ram;
  }

