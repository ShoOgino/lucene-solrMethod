  public FieldFilterAtomicReader(AtomicReader in, Set<String> fields, boolean negate) {
    super(in);
    this.fields = fields;
    this.negate = negate;
    this.fieldInfos = new MutableFieldInfos();
    for (FieldInfo fi : in.getFieldInfos()) {
      if (hasField(fi.name)) {
        fieldInfos.add(fi);
      }
    }
  }

