  @Override
  protected DirectoryReader doOpenIfChanged(IndexWriter writer, boolean applyAllDeletes) throws IOException {
    DirectoryReader d = in.doOpenIfChanged(writer, applyAllDeletes);
    return d == null ? null : new AssertingDirectoryReader(d);
  }

