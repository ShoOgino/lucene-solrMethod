  @Override
  public void score(LeafCollector collector) throws IOException {
    collector = new AssertingLeafCollector(random, collector, DocsEnum.NO_MORE_DOCS);
    if (random.nextBoolean()) {
      try {
        final boolean remaining = in.score(collector, DocsEnum.NO_MORE_DOCS);
        assert !remaining;
      } catch (UnsupportedOperationException e) {
        in.score(collector);
      }
    } else {
      in.score(collector);
    }
  }

