  @Override
  public int endPosition() {
    assert state == State.ITERATING : state;
    return in.endPosition();
  }

