    private static Scorer wrap(Random random, Scorer other, TopScorer topScorer, boolean inOrder) {
      if (other == null || other instanceof AssertingScorer) {
        return other;
      }
      final AssertingScorer assertScorer = new AssertingScorer(random, other, topScorer, inOrder);
      ASSERTING_INSTANCES.put(other, new WeakReference<AssertingScorer>(assertScorer));
      return assertScorer;
    }

