    @Override
    public boolean obtain() throws IOException {
      if (delegateLock.obtain()) {
        assert delegateLock == NoLockFactory.SINGLETON_LOCK || !openLocks.containsKey(name);
        openLocks.put(name, new RuntimeException("lock \"" + name + "\" was not released"));
        return true;
      } else {
        return false;
      }
    }

