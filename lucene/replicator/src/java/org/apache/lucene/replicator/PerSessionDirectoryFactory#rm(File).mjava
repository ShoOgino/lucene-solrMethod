  private void rm(File file) throws IOException {
    if (file.isDirectory()) {
      for (File f : file.listFiles()) {
        rm(f);
      }
    }
    
    // This should be either an empty directory, or a file
    if (!file.delete() && file.exists()) {
      throw new IOException("failed to delete " + file);
    }
  }

