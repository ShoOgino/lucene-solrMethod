  public boolean commit() {
    try (Connection c = new Connection(tcpPort)) {
      c.out.writeByte(SimplePrimaryNode.CMD_COMMIT);
      c.flush();
      c.s.shutdownOutput();
      if (c.in.readByte() != 1) {
        throw new RuntimeException("commit failed");
      }
      return true;
    } catch (Throwable t) {
      // nocommit throw this
      // Something wrong with this replica; skip it:
      System.out.println("PARENT: top: hit SocketException during commit with R" + id + ": " + t + "; skipping");
      return false;
    }
  }

