  @Override
  public void encode(int data) throws IOException {
    if (data == 1) {
      indicator |= encodeTable[ordinal];
    } else {
      encodeQueue[encodeQueueSize++] = data - 2;
    }
    ++ordinal;

    // If 8 values were encoded thus far, 'flush' them including the indicator.
    if ((ordinal & 0x7) == 0) {
      encodeChunk();
    }
  }

