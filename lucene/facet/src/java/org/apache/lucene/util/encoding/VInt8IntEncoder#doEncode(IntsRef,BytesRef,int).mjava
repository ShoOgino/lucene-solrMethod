  @Override
  protected void doEncode(IntsRef values, BytesRef buf, int upto) {
    int maxBytesNeeded = 5 * values.length; // at most 5 bytes per VInt
    if (buf.bytes.length < maxBytesNeeded) {
      buf.grow(maxBytesNeeded);
    }
    
    for (int i = values.offset; i < upto; i++) {
      VInt8.encode(values.ints[i], buf);
    }
  }

