  /**
   * Encodes the values of the current chunk. First it writes the indicator, and
   * then it encodes the values outside the indicator.
   */
  protected void encodeChunk() throws IOException {
    out.write(indicator);
    for (int i = 0; i < encodeQueueSize; ++i) {
      encoder.encode(encodeQueue[i]);
    }
    encodeQueueSize = 0;
    ordinal = 0;
    indicator = 0;
  }

