  /**
   * Allocates a new {@code int[]}. If there's an available array in the pool,
   * it is used, otherwise a new array is allocated.
   */
  public final int[] allocateIntArray() {
    int[] arr = intsPool.poll();
    if (arr == null) {
      return new int[arrayLength];
    }
    Arrays.fill(arr, 0); // reset array
    return arr;
  }

