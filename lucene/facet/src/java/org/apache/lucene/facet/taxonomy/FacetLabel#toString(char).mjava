  /**
   * Returns a string representation of the path, separating components with the
   * given delimiter.
   */

  public String toString(char delimiter) {
    // nocommit
    if (delimiter == '\u001F') {
      return DocumentBuilder.pathToString(components, length);
    } else {
      if (length == 0) return "";
      StringBuilder sb = new StringBuilder();
      for (int i = 0; i < length; i++) {
        if (components[i].indexOf(delimiter) != -1) {
          hasDelimiter(components[i], delimiter);
        }
        sb.append(components[i]).append(delimiter);
      }
      sb.setLength(sb.length() - 1); // remove last delimiter
      return sb.toString();
    }
  }

