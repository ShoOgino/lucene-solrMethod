  /** Create {@code RangeFacetCounts}, using the provided
   *  {@link ValueSource}. */
  public RangeFacetCounts(String field, ValueSource valueSource, FacetsCollector hits, Range... ranges) throws IOException {
    this.ranges = ranges;
    this.field = field;
    counts = new int[ranges.length];
    count(valueSource, hits.getMatchingDocs());
  }

