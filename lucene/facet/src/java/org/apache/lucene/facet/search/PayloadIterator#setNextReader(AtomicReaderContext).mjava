  /**
   * Sets the {@link AtomicReaderContext} for which {@link #getPayload(int)}
   * calls will be made. Returns true iff this reader has payload for any of the
   * documents belonging to the {@link Term} given to the constructor.
   */
  public boolean setNextReader(AtomicReaderContext context) throws IOException {
    hasMore = false;
    Fields fields = context.reader().fields();
    if (fields != null) {
      Terms terms = fields.terms(term.field());
      if (terms != null) {
        reuseTE = terms.iterator(reuseTE);
        if (reuseTE.seekExact(term.bytes(), true)) {
          // this class is usually used to iterate on whatever a Query matched
          // if it didn't match deleted documents, we won't receive them. if it
          // did, we should iterate on them too, therefore we pass liveDocs=null
          dpe = reuseTE.docsAndPositions(null, dpe, DocsAndPositionsEnum.FLAG_PAYLOADS);
          if (dpe != null && (curDocID = dpe.nextDoc()) != DocIdSetIterator.NO_MORE_DOCS) {
            hasMore = true;
          }
        }
      }
    }
    return hasMore;
  }

