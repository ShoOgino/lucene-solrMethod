  private int rollupCounts(int ordinal, int[] children, int[] siblings, int[] counts) {
    int count = 0;
    while (ordinal != TaxonomyReader.INVALID_ORDINAL) {
      int childCount = counts[ordinal];
      childCount += rollupCounts(children[ordinal], children, siblings, counts);
      counts[ordinal] = childCount;
      count += childCount;
      ordinal = siblings[ordinal];
    }
    return count;
  }

