  public RangeFacetCounts(String field, ValueSource valueSource, SimpleFacetsCollector hits, Range... ranges) throws IOException {
    this.ranges = ranges;
    this.field = field;
    counts = new int[ranges.length];
    count(valueSource, hits.getMatchingDocs());
  }

