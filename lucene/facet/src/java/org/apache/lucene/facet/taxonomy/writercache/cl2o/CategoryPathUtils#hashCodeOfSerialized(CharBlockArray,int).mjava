  /**
   * Calculates a hash function of a path that was serialized with
   * {@link #serialize(CategoryPath, CharBlockArray)}.
   */
  public static int hashCodeOfSerialized(CharBlockArray charBlockArray, int offset) {
    int length = charBlockArray.charAt(offset++);
    if (length == 0) {
      return 0;
    }
    
    int hash = length;
    for (int i = 0; i < length; i++) {
      int len = charBlockArray.charAt(offset++);
      hash = hash * 31 + charBlockArray.subSequence(offset, offset + len).hashCode();
      offset += len;
    }
    return hash;
  }

