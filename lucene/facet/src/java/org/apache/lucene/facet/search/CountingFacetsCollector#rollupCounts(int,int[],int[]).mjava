  /**
   * Computes the counts of ordinals under the given ordinal's tree, by
   * recursively going down to leaf nodes and rollin up their counts (called
   * only with categories are indexing with OrdinalPolicy.NO_PARENTS).
   */
  private int rollupCounts(int ordinal, int[] children, int[] siblings) {
    int count = 0;
    while (ordinal != TaxonomyReader.INVALID_ORDINAL) {
      int childCount = counts[ordinal];
      childCount += rollupCounts(children[ordinal], children, siblings);
      counts[ordinal] = childCount;
      count += childCount;
      ordinal = siblings[ordinal];
    }
    return count;
  }

