  /**
   * Allocates a new {@code float[]}. If there's an available array in the pool,
   * it is used, otherwise a new array is allocated.
   */
  public final float[] allocateFloatArray() {
    float[] arr = floatsPool.poll();
    if (arr == null) {
      return new float[arrayLength];
    }
    Arrays.fill(arr, 0f); // reset array
    return arr;
  }

