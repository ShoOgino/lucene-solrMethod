    void add(long value, int inc) {
      if (size >= threshold) {
        rehash();
      }
      final int h = hash(value);
      for (int slot = h;; slot = (slot + 1) & mask) {
        if (counts[slot] == 0) {
          values[slot] = value;
          ++size;
        } else if (values[slot] != value) {
          continue;
        }
        counts[slot] += inc;
        break;
      }
    }

