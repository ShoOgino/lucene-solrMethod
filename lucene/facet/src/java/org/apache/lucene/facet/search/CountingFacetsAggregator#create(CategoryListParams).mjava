  /**
   * Returns a {@link FacetsAggregator} suitable for counting categories given
   * the {@link CategoryListParams}.
   */
  public static FacetsAggregator create(CategoryListParams clp) {
    if (clp.createEncoder().createMatchingDecoder().getClass() == DGapVInt8IntDecoder.class) {
      return new FastCountingFacetsAggregator();
    } else {
      return new CountingFacetsAggregator();
    }
  }

