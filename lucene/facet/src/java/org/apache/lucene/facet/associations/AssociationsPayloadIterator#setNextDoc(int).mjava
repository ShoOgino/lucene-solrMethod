  /**
   * Skip to the requested document. Returns true iff the document has category
   * association values and they were read successfully. Associations are
   * handled through {@link #handleAssociation(int, CategoryAssociation)} by
   * extending classes.
   */
  protected final boolean setNextDoc(int docID) throws IOException {
    if (!hasAssociations) { // there are no associations at all
      return false;
    }

    BytesRef bytes = pi.getPayload(docID);
    if (bytes == null) { // no associations for the requested document
      return false;
    }
    
    ByteArrayDataInput in = new ByteArrayDataInput(bytes.bytes, bytes.offset, bytes.length);
    while (!in.eof()) {
      int ordinal = in.readInt();
      association.deserialize(in);
      handleAssociation(ordinal, association);
    }
    return true;
  }

