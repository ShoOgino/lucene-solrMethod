  /**
   * Returns the most optimized {@link FacetsCollector} for the given search
   * parameters. The returned {@link FacetsCollector} is guaranteed to satisfy
   * the requested parameters.
   */
  public static FacetsCollector create(FacetSearchParams fsp, IndexReader indexReader, TaxonomyReader taxoReader) {
    if (CountingFacetsCollector.assertParams(fsp) == null) {
      return new CountingFacetsCollector(fsp, taxoReader);
    }
    
    return new StandardFacetsCollector(fsp, indexReader, taxoReader);
  }

