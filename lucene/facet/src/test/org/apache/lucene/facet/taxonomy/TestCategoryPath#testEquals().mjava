  @Test 
  public void testEquals() {
    // check that two empty paths are equal, even if they have different
    // capacities:
    CategoryPath p1 = new CategoryPath(0,0);
    CategoryPath p2 = new CategoryPath(1000,300);
    assertEquals(true, p1.equals(p2));
    // If we make p2 different, it is no longer equals:
    p2.add("hi");
    assertEquals(false, p1.equals(p2));
    // A categoryPath is definitely not equals to an object of some other
    // type:
    assertEquals(false, p1.equals(Integer.valueOf(3)));
    // Build two paths separately, and compare them
    p1.clear();
    p1.add("hello");
    p1.add("world");
    p2.clear();
    p2.add("hello");
    p2.add("world");
    assertEquals(true, p1.equals(p2));    
    // Check that comparison really don't look at old data which might
    // be stored in the array
    p1.clear();
    p1.add("averylongcategoryname");
    p1.clear();
    p1.add("hi");
    p2.clear();
    p2.add("hi");
    assertEquals(true, p1.equals(p2));
    // Being of the same length is obviously not enough to be equal
    p1.clear();
    p1.add("hi");
    p2.clear();
    p2.add("hello");
    assertEquals(false, p1.equals(p2));
    p1.clear();
    p1.add("hi");
    p2.clear();
    p2.add("ho");
    assertEquals(false, p1.equals(p2));
  }

