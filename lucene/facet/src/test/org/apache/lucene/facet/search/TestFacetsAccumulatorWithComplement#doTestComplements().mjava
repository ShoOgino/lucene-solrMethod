  private void doTestComplements() throws Exception {
    Query q = new MatchAllDocsQuery(); //new TermQuery(new Term(TEXT,"white"));
    if (VERBOSE) {
      System.out.println("Query: "+q);
    }
    ScoredDocIdCollector dCollector = 
      ScoredDocIdCollector.create(indexReader.maxDoc(),false); // scoring is disabled
    searcher.search(q, dCollector);
    
    // verify by facet values
    List<FacetResult> countResWithComplement = findFacets(dCollector.getScoredDocIDs(), true);
    List<FacetResult> countResNoComplement = findFacets(dCollector.getScoredDocIDs(), false);
    
    assertEquals("Wrong number of facet count results with complement!",1,countResWithComplement.size());
    assertEquals("Wrong number of facet count results no complement!",1,countResNoComplement.size());
    
    FacetResultNode parentResWithComp = countResWithComplement.get(0).getFacetResultNode();
    FacetResultNode parentResNoComp = countResWithComplement.get(0).getFacetResultNode();
    
    assertEquals("Wrong number of top count aggregated categories with complement!",3,parentResWithComp.subResults.size());
    assertEquals("Wrong number of top count aggregated categories no complement!",3,parentResNoComp.subResults.size());
    
  }

