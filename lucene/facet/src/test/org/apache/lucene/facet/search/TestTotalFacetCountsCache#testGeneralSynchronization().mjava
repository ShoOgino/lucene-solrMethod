  /** runs few searches in parallel */
  public void testGeneralSynchronization() throws Exception {
    int numIters = atLeast(4);
    Random random = random();
    for (int i = 0; i < numIters; i++) {
      int numThreads = random.nextInt(3) + 2; // 2-4
      int sleepMillis = random.nextBoolean() ? -1 : random.nextInt(10) + 1 /*1-10*/;
      int cacheSize = random.nextInt(4); // 0-3
      doTestGeneralSynchronization(numThreads, sleepMillis, cacheSize);
    }
  }

