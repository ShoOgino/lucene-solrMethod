    @Override
    public Query rewrite(IndexReader reader) throws IOException {
      final Query inRewritten = in.rewrite(reader);
      if (in != inRewritten) {
        Query rewritten = new UsedQuery(inRewritten, used);
        rewritten.setBoost(getBoost());
        return rewritten;
      }
      return super.rewrite(reader);
    }

