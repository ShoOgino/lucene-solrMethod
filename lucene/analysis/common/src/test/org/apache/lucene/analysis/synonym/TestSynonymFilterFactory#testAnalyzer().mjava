  /** Test that analyzer and tokenizerFactory is both specified */
  public void testAnalyzer() throws Exception {
    final String analyzer = CJKAnalyzer.class.getName();
    final String tokenizerFactory = PatternTokenizerFactory.class.getName();
    TokenFilterFactory factory = null;

    factory = tokenFilterFactory("Synonym",
        "synonyms", "synonyms2.txt",
        "analyzer", analyzer);
    assertNotNull(factory);

    try {
      tokenFilterFactory("Synonym",
          "synonyms", "synonyms.txt",
          "analyzer", analyzer,
          "tokenizerFactory", tokenizerFactory);
      fail();
    } catch (IllegalArgumentException expected) {
      assertTrue(expected.getMessage().contains("Analyzer and TokenizerFactory can't be specified both"));
    }
  }

