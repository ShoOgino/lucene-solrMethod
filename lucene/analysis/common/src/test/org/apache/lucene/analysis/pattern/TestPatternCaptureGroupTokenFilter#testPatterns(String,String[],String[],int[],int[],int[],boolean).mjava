  private void testPatterns(String input, String[] regexes, String[] tokens,
      int[] startOffsets, int[] endOffsets, int[] positions,
      boolean preserveOriginal) throws Exception {
    Pattern[] patterns = new Pattern[regexes.length];
    for (int i = 0; i < regexes.length; i++) {
      patterns[i] = Pattern.compile(regexes[i]);
    }
    TokenStream ts = new PatternCaptureGroupTokenFilter(new MockTokenizer(
        new StringReader(input), MockTokenizer.WHITESPACE, false),
        preserveOriginal, patterns);
    assertTokenStreamContents(ts, tokens, startOffsets, endOffsets, positions);
  }

