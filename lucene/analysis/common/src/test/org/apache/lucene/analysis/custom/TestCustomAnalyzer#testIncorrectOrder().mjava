  public void testIncorrectOrder() throws Exception {
    try {
      CustomAnalyzer.builder()
          .addCharFilter("htmlstrip")
          .withDefaultMatchVersion(Version.LATEST)
          .withTokenizer("whitespace")
          .build();
      fail();
    } catch (IllegalStateException e) {
      // pass
    }
  }

