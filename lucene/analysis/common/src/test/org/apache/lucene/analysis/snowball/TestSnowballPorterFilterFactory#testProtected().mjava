  /**
   * Test the protected words mechanism of SnowballPorterFilterFactory
   */
  public void testProtected() throws Exception {
    Reader reader = new StringReader("ridding of some stemming");
    TokenStream stream = new MockTokenizer(reader, MockTokenizer.WHITESPACE, false);
    stream = tokenFilterFactory("SnowballPorter", TEST_VERSION_CURRENT,
        new StringMockResourceLoader("ridding"),
        "protected", "protwords.txt",
        "language", "English").create(stream);

    assertTokenStreamContents(stream, new String[] { "ridding", "of", "some", "stem" });
  }

