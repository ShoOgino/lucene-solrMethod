  /**
   * Initialize this factory via a set of key-value pairs.
   */
  protected AbstractAnalysisFactory(Map<String,String> args) {
    originalArgs = Collections.unmodifiableMap(new HashMap<String,String>(args));
    String version = get(args, LUCENE_MATCH_VERSION_PARAM);
    luceneMatchVersion = version == null ? null : Version.parseLeniently(version);
    args.remove(CLASS_NAME);  // consume the class arg
  }

