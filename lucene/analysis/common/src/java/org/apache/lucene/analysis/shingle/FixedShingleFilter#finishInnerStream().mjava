  private void finishInnerStream() throws IOException {
    input.end();
    inputStreamExhausted = true;
    // check for gaps at the end of the tokenstream
    endToken.posIncAtt.setPositionIncrement(this.incAtt.getPositionIncrement());
    OffsetAttribute inputOffsets = input.getAttribute(OffsetAttribute.class);
    endToken.offsetAtt.setOffset(inputOffsets.startOffset(), inputOffsets.endOffset());
  }

