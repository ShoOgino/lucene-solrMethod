  @Override
  public boolean incrementToken() throws IOException {
    if (input.incrementToken()) {
      if (!keywordAtt.isKeyword()) { // don't muck with already-keyworded terms
        final BytesRef stem = stemmerOverrideMap.get(termAtt.buffer(), termAtt.length(), scratchArc, fstReader);
        if (stem != null) {
          final char[] buffer = spare.chars = termAtt.buffer();
          UnicodeUtil.UTF8toUTF16(stem.bytes, stem.offset, stem.length, spare);
          if (spare.chars != buffer) {
            termAtt.copyBuffer(spare.chars, spare.offset, spare.length);
          }
          termAtt.setLength(spare.length);
          keywordAtt.setKeyword(true);
        }
      }
      return true;
    } else {
      return false;
    }
  }

