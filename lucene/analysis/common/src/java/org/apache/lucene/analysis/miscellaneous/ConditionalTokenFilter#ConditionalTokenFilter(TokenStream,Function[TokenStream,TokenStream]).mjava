  /**
   * Create a new BypassingTokenFilter
   * @param input         the input TokenStream
   * @param inputFactory  a factory function to create a new instance of the TokenFilter to wrap
   */
  protected ConditionalTokenFilter(TokenStream input, Function<TokenStream, TokenStream> inputFactory) {
    super(input);
    this.delegate = inputFactory.apply(new OneTimeWrapper(this));
  }

