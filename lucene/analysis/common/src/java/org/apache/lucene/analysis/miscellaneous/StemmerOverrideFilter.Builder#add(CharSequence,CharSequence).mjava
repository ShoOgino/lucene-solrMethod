    /**
     * Adds an input string and it's stemmer override output to this builder.
     * 
     * @param input the input char sequence 
     * @param output the stemmer override output char sequence
     * @return <code>false</code> iff the input has already been added to this builder otherwise <code>true</code>.
     */
    public boolean add(CharSequence input, CharSequence output) {
      final int length = input.length();
      if (ignoreCase) {
        // convert on the fly to lowercase
        charsSpare.grow(length);
        final char[] buffer = charsSpare.chars;
        for (int i = 0; i < length; ) {
            i += Character.toChars(
                    Character.toLowerCase(
                        Character.codePointAt(input, i)), buffer, i);
        }
        UnicodeUtil.UTF16toUTF8(buffer, 0, length, spare);
      } else {
        UnicodeUtil.UTF16toUTF8(input, 0, length, spare);
      }
      if (hash.add(spare) >= 0) {
        outputValues.add(output);
        return true;
      }
      return false;
    }

