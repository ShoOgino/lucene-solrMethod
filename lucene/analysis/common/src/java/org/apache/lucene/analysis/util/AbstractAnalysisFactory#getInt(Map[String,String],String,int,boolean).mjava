  protected final int getInt(Map<String,String> args, String name, int defaultVal, boolean useDefault) {
    String s = args.remove(name);
    if (s == null) {
      if (useDefault) {
        return defaultVal;
      }
      throw new IllegalArgumentException("Configuration Error: missing parameter '" + name + "'");
    }
    return Integer.parseInt(s);
  }

