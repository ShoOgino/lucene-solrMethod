  protected void writePosDict(String filename) throws IOException {
    new File(filename).getParentFile().mkdirs();
    OutputStream os = new FileOutputStream(filename);
    try {
      os = new BufferedOutputStream(os);
      final DataOutput out = new OutputStreamDataOutput(os);
      CodecUtil.writeHeader(out, BinaryDictionary.POSDICT_HEADER, BinaryDictionary.VERSION);
      out.writeVInt(posDict.size());
      for (String s : posDict) {
        if (s == null) {
          out.writeByte((byte) POS.Tag.UNKNOWN.ordinal());
        } else {
          String data[] = CSVUtil.parse(s);
          assert data.length == 2 : "malformed pos/semanticClass: " + s;
          out.writeByte((byte) POS.Tag.valueOf(data[0]).ordinal());
        }
      }
    } finally {
      os.close();
    }
  }

