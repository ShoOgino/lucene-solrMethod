  private String readFully(CharStream stream) throws IOException {
    StringBuffer buffer = new StringBuffer();
    int ch;
    while ((ch = stream.read()) != -1) {
      buffer.append((char) ch);
    }
    return buffer.toString();
  }

