  // clone for merge: when merging we don't do any instances.put()s
  MemoryDocValuesProducer(MemoryDocValuesProducer original) throws IOException {
    assert Thread.holdsLock(original);
    numerics.putAll(original.numerics);
    binaries.putAll(original.binaries);
    fsts.putAll(original.fsts);
    sortedSets.putAll(original.sortedSets);
    sortedNumerics.putAll(original.sortedNumerics);
    data = original.data.clone();
    
    numericInstances.putAll(original.numericInstances);
    pagedBytesInstances.putAll(original.pagedBytesInstances);
    fstInstances.putAll(original.fstInstances);
    docsWithFieldInstances.putAll(original.docsWithFieldInstances);
    addresses.putAll(original.addresses);
    
    numericInfo.putAll(original.numericInfo);
    
    numEntries = original.numEntries;
    maxDoc = original.maxDoc;
    ramBytesUsed = new AtomicLong(original.ramBytesUsed.get());
    version = original.version;
    merging = true;
  }

