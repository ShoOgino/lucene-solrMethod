      void pushFrame(Frame frame) {
        final FST.Arc<Long> arc = frame.arc;
        frame.output = fstOutputs.add(topFrame().output, frame.output);
        term = grow(arc.label());
        level++;
        assert frame == stack[level];
      }

