  @Override
  public void addPosition(int position, BytesRef payload, int startOffset, int endOffset) throws IOException {
    if (lastPosition != -1) {
      // nocommit need test
      throw new IllegalArgumentException("term appears more than once in document");
    }
    lastPosition = position;
    if (payload == null) {
      // nocommit need test
      throw new IllegalArgumentException("token doens't have a payload");
    }
    if (payload.length != 8) {
      // nocommit need test
      throw new IllegalArgumentException("payload.length != 8 (got " + payload.length + ")");
    }
    
    lastVersion = IDVersionPostingsFormat.bytesToLong(payload);
  }

