  private Set<Term> collectTerms(Query query) {
    return collectTerms(analyzer.buildTree(query, TermWeightor.DEFAULT));
  }

