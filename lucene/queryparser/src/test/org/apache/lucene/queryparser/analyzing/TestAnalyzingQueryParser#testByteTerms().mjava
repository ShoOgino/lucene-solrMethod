  // LUCENE-4176
  public void testByteTerms() throws Exception {
    Directory ramDir = newDirectory();
    Analyzer analyzer = new MockBytesAnalyzer();
    RandomIndexWriter writer = new RandomIndexWriter(random(), ramDir, analyzer);
    Document doc = new Document();
    FieldType fieldType = new FieldType();
    fieldType.setIndexed(true);
    fieldType.setTokenized(true);
    fieldType.setStored(true);
    Field field = new Field("content","เข", fieldType);
    doc.add(field);
    writer.addDocument(doc);
    writer.close();
    DirectoryReader ir = DirectoryReader.open(ramDir);
    IndexSearcher is = new IndexSearcher(ir);
    QueryParser qp = new AnalyzingQueryParser(TEST_VERSION_CURRENT, "content", analyzer);
    Query q = qp.parse("[เข TO เข]");
    assertEquals(1, is.search(q, 10).totalHits);
    ir.close();
    ramDir.close();
  }

