  /** forms graph query */
  public void testMultiWordSynonymsPhrase() throws Exception {
    SpanNearQuery expectedNear = SpanNearQuery.newOrderedNearQuery("field")
        .addClause(new SpanTermQuery(new Term("field", "guinea")))
        .addClause(new SpanTermQuery(new Term("field", "pig")))
        .setSlop(0)
        .build();

    SpanTermQuery expectedTerm = new SpanTermQuery(new Term("field", "cavy"));

    QueryBuilder queryBuilder = new QueryBuilder(new MockSynonymAnalyzer());
    assertEquals(new SpanOrQuery(new SpanQuery[]{expectedNear, expectedTerm}),
        queryBuilder.createPhraseQuery("field", "guinea pig"));
  }

