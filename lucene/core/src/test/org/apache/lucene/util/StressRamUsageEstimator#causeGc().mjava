  /**
   * Very hacky, very crude, but (sometimes) works. 
   * Don't look, it will burn your eyes out. 
   */
  private void causeGc() {
    List<GarbageCollectorMXBean> garbageCollectorMXBeans = ManagementFactory.getGarbageCollectorMXBeans();
    List<Long> ccounts = new ArrayList<>();
    for (GarbageCollectorMXBean g : garbageCollectorMXBeans) {
      ccounts.add(g.getCollectionCount());
    }
    List<Long> ccounts2 = new ArrayList<>();
    do {
      System.gc();
      ccounts.clear();
      for (GarbageCollectorMXBean g : garbageCollectorMXBeans) {
        ccounts2.add(g.getCollectionCount());
      }
    } while (ccounts2.equals(ccounts));
  }  

