  public void testSecondLower() {
    RankBitSet rank = new RankBitSet(3000);
    rank.set(2500);
    rank.buildRankCache();

    assertEquals("The rank at index 2500 should be correct", 0, rank.rank(2500));
    assertEquals("The rank at index 2500 should be correct", 1, rank.rank(2501));
  }

