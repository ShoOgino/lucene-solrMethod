  private FST<Object> buildFST(List<String> words, boolean useDirectAddressing) throws Exception {
    long start = System.nanoTime();
    final Outputs<Object> outputs = NoOutputs.getSingleton();
    final Builder<Object> b = new Builder<>(FST.INPUT_TYPE.BYTE1, 0, 0, true, true, Integer.MAX_VALUE, outputs, true, 15, useDirectAddressing);

    for (String word : words) {
      b.add(Util.toIntsRef(new BytesRef(word), new IntsRefBuilder()), outputs.getNoOutput());
    }
    FST<Object> fst = b.finish();
    long t = System.nanoTime();
    printf("Built FST of %d bytes in %d ms", fst.ramBytesUsed(), nsToMs(t - start));
    return fst;
  }

