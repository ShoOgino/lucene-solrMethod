  public void testQuickSort() {
    for (int i = 0, c = atLeast(500); i < c; i++) {
      List<Integer> list1 = createRandomList(2000), list2 = new ArrayList<Integer>(list1);
      CollectionUtil.quickSort(list1);
      Collections.sort(list2);
      assertEquals(list2, list1);
      
      list1 = createRandomList(2000);
      list2 = new ArrayList<Integer>(list1);
      CollectionUtil.quickSort(list1, Collections.reverseOrder());
      Collections.sort(list2, Collections.reverseOrder());
      assertEquals(list2, list1);
      // reverse back, so we can test that completely backwards sorted array (worst case) is working:
      CollectionUtil.quickSort(list1);
      Collections.sort(list2);
      assertEquals(list2, list1);
    }
  }

