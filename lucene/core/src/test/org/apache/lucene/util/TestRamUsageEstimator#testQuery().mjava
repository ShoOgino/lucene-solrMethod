  public void testQuery() {
    DisjunctionMaxQuery dismax = new DisjunctionMaxQuery(
        Arrays.asList(new TermQuery(new Term("foo", "bar")), new TermQuery(new Term("baz", "bam"))), 1.0f);
    BooleanQuery bq = new BooleanQuery.Builder()
        .add(new TermQuery(new Term("foo", "bar")), BooleanClause.Occur.SHOULD)
        .add(new FuzzyQuery(new Term("foo", "baz")), BooleanClause.Occur.MUST_NOT)
        .add(dismax, BooleanClause.Occur.MUST)
        .build();
    long actual = sizeOf(bq);
    long estimated = RamUsageEstimator.sizeOfObject(bq);
    assertTrue(actual < estimated);
  }

