  public void testIntEquals() {
    assertFalse(FutureArrays.equals(ints("ab"), 0, 2, ints("a"), 0, 1));
    assertFalse(FutureArrays.equals(ints("ab"), 0, 2, ints("aa"), 0, 2));
    assertTrue(FutureArrays.equals(ints("ab"), 0, 2, ints("ab"), 0, 2));
    assertFalse(FutureArrays.equals(ints("a"), 0, 1, ints("ab"), 0, 2));

    expectThrows(IllegalArgumentException.class, () -> {
      FutureArrays.equals(ints("ab"), 2, 1, ints("a"), 0, 1);
    });
    expectThrows(IllegalArgumentException.class, () -> {
      FutureArrays.equals(ints("ab"), 2, 1, ints("a"), 1, 0);
    });
    expectThrows(NullPointerException.class, () -> {
      FutureArrays.equals(null, 0, 2, ints("a"), 0, 1);
    });
    expectThrows(NullPointerException.class, () -> {
      FutureArrays.equals(ints("ab"), 0, 2, null, 0, 1);
    });
    expectThrows(IndexOutOfBoundsException.class, () -> {
      FutureArrays.equals(ints("ab"), 0, 3, ints("a"), 0, 1);
    });
    expectThrows(IndexOutOfBoundsException.class, () -> {
      FutureArrays.equals(ints("ab"), 0, 2, ints("a"), 0, 2);
    });
  }

