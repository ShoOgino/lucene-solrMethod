  private DocValuesFieldUpdates singleUpdate(List<Integer> docsDeleted, int maxDoc) {
    return new DocValuesFieldUpdates(maxDoc, 0, "_soft_deletes", DocValuesType.NUMERIC) {
      @Override
      public void add(int doc, Object value) {
      }

      @Override
      public Iterator iterator() {
        return new Iterator() {
          java.util.Iterator<Integer> iter = docsDeleted.iterator();
          int doc = -1;

          @Override
          int nextDoc() {
            return doc = iter.next();
          }

          @Override
          int doc() {
            return doc;
          }

          @Override
          Object value() {
            return 1;
          }

          @Override
          long delGen() {
            return 0;
          }
        };
      }

      @Override
      public void finish() {
      }

      @Override
      public boolean any() {
        return true;
      }

      @Override
      public long ramBytesUsed() {
        return 0;
      }

      @Override
      public int size() {
        return 1;
      }
    };
  }

