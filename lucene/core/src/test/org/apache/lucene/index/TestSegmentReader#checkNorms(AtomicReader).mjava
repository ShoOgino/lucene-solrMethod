  public static void checkNorms(AtomicReader reader) throws IOException {
    Assume.assumeTrue(_TestUtil.canUseSimpleNorms());
    // test omit norms
    for (int i=0; i<DocHelper.fields.length; i++) {
      IndexableField f = DocHelper.fields[i];
      if (f.fieldType().indexed()) {
        assertEquals(reader.simpleNormValues(f.name()) != null, !f.fieldType().omitNorms());
        assertEquals(reader.simpleNormValues(f.name()) != null, !DocHelper.noNorms.containsKey(f.name()));
        if (reader.simpleNormValues(f.name()) == null) {
          // test for norms of null
          NumericDocValues norms = MultiSimpleDocValues.simpleNormValues(reader, f.name());
          assertNull(norms);
        }
      }
    }
  }

