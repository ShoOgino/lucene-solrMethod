  // here we do better, there is no current segments file, so we don't delete anything.
  // however, if you actually go and make a commit, the next time you run indexwriter
  // this file will be gone.
  public void testOtherFiles2() throws Throwable {
    Directory dir = newDirectory();
    try {
      // Create my own random file:
      IndexOutput out = dir.createOutput("_a.frq", newIOContext(random()));
      out.writeByte((byte) 42);
      out.close();
      
      new IndexWriter(dir, newIndexWriterConfig( TEST_VERSION_CURRENT, new MockAnalyzer(random()))).close();
      
      assertTrue(slowFileExists(dir, "_a.frq"));
      
      IndexWriter iw = new IndexWriter(dir, 
          newIndexWriterConfig(TEST_VERSION_CURRENT, new MockAnalyzer(random())));
      iw.addDocument(new Document());
      iw.close();
      
      assertFalse(slowFileExists(dir, "_a.frq"));
    } finally {
      dir.close();
    }
  }

