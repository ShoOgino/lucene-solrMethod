  private void addDoc(IndexWriter writer, IndexableField... fields)
      throws CorruptIndexException, IOException {
    Document doc = new Document();
    for (IndexableField indexableField : fields) {
      doc.add(indexableField);
    }
    writer.addDocument(doc);
  }

