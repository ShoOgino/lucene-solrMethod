  public void tryCompressAndDecompress(final int[] data, int sz) throws Exception {
    byte[] res = new byte[4+sz*8];      // loosely upperbound
    IntBuffer resBuffer = ByteBuffer.wrap(res).asIntBuffer();

    int ensz = PForUtil.compress(data,sz,resBuffer);
    
    assert (ensz <= sz*8+4);  // must not exceed the loose upperbound

    int[] copy = new int[sz];
    PForUtil.decompress(resBuffer,copy);

//    println(getHex(data,sz)+"\n");
//    println(getHex(res,ensz)+"\n");
//    println(getHex(copy,sz)+"\n");

    assert cmp(data,sz,copy,sz)==true;
  }

