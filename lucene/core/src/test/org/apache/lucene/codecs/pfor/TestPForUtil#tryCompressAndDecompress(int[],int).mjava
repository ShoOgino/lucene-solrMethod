  public void tryCompressAndDecompress(final int[] data, int sz) throws Exception {
    byte[] res = new byte[sz*8];      // loosely upperbound
    IntBuffer resBuffer = ByteBuffer.wrap(res).asIntBuffer();

    int header = PForUtil.compress(data,resBuffer);
    int ensz = PForUtil.getEncodedSize(header);
    
    assert (ensz <= sz*8);  // must not exceed the loose upperbound

    int[] copy = new int[sz];
    PForUtil.decompress(resBuffer,copy,header);

//    println(getHex(data,sz)+"\n");
//    println(getHex(res,ensz)+"\n");
//    println(getHex(copy,sz)+"\n");

    assert cmp(data,sz,copy,sz)==true;
  }

