  /**
   * Should not encode extra information other than header
   */
  public void testPForAllZeros() throws Exception {
    int sz=ForPostingsFormat.DEFAULT_BLOCK_SIZE;
    int ensz;
    int[] data=new int[sz];
    byte[] res = new byte[4+sz*8];
    int[] copy = new int[sz];
    IntBuffer resBuffer = ByteBuffer.wrap(res).asIntBuffer();

    Arrays.fill(data,0);
    ensz = ForUtil.compress(data,sz,resBuffer); // test For
    ForUtil.decompress(resBuffer,copy);
    assert ensz == 4;
    assert cmp(data,sz,copy,sz)==true;

    Arrays.fill(data,0);
    ensz = PForUtil.compress(data,sz,resBuffer); // test PFor
    PForUtil.decompress(resBuffer,copy);
    assert ensz == 4;
    assert cmp(data,sz,copy,sz)==true;
  }

