  // Test correctness of ignored forced exception
  public void tryForcedException() throws Exception {
    int sz=128;
    Integer[] buff= new Integer[sz];
    int[] data = new int[sz];
    int[] copy = new int[sz];
    byte[] res = new byte[4+sz*8];
    IntBuffer resBuffer = ByteBuffer.wrap(res).asIntBuffer();
    for (int i=0; i<sz-1; ++i)
      buff[i]=gen.nextInt() & 0;
    buff[sz-1]=gen.nextInt() & 0xffffffff;   // create only one exception

    Collections.shuffle(Arrays.asList(buff),new Random(seed));
    for (int i=0; i<sz; ++i)
      data[i] = buff[i];

    int ensz = ForUtil.compress(data,sz,resBuffer);

    if (ensz > sz*8+4) {
      println("Excceed? "+ensz+">"+(sz*8+4));
      ensz=sz*8+4;
    }
    resBuffer.rewind();
    ForUtil.decompress(resBuffer,copy);

//    println(getHex(data,sz)+"\n");
//    println(getHex(res,ensz)+"\n");
//    println(getHex(copy,sz)+"\n");
    
    assert cmp(data,sz,copy,sz)==true;
  }

