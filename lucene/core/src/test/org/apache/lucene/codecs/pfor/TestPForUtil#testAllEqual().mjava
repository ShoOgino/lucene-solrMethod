  /**
   * Should not encode extra information other than single int
   */
  public void testAllEqual() throws Exception {
    initRandom();
    int sz=ForPostingsFormat.DEFAULT_BLOCK_SIZE;
    int[] data=new int[sz];
    byte[] res = new byte[sz*8];
    int[] copy = new int[sz];
    IntBuffer resBuffer = ByteBuffer.wrap(res).asIntBuffer();
    int ensz;
    int header;

    Arrays.fill(data,gen.nextInt());
    header = ForUtil.compress(data,resBuffer); // test For
    ensz = ForUtil.getEncodedSize(header);
    assert ensz == 4;

    ForUtil.decompress(resBuffer,copy,header);
    assert cmp(data,sz,copy,sz)==true;

    Arrays.fill(data,gen.nextInt());
    header = PForUtil.compress(data,resBuffer); // test PFor
    ensz = PForUtil.getEncodedSize(header);
    assert ensz == 4;

    PForUtil.decompress(resBuffer,copy,header);
    assert cmp(data,sz,copy,sz)==true;
  }

