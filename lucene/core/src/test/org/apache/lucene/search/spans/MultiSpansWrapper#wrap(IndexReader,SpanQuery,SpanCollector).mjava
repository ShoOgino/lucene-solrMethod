  public static Spans wrap(IndexReader reader, SpanQuery spanQuery, SpanCollector collector) throws IOException {

    LeafReader lr = SlowCompositeReaderWrapper.wrap(reader); // slow, but ok for testing
    LeafReaderContext lrContext = lr.getContext();
    IndexSearcher searcher = new IndexSearcher(lr);
    searcher.setQueryCache(null);

    SpanWeight w = (SpanWeight) searcher.createNormalizedWeight(spanQuery, false);

    return w.getSpans(lrContext, new Bits.MatchAllBits(lr.numDocs()), collector);
  }

