  /**
   * Test String sorting: small queue to many matches, multi field sort, reverse sort
   */
  public void testStringSort() throws Exception {
    // Normal string field, var length
    sort.setSort(
        new SortField("string", SortField.Type.STRING),
        new SortField("string2", SortField.Type.STRING, true),
        SortField.FIELD_DOC);
    verifyStringSort(sort);

    // Normal string field, fixed length
    sort.setSort(
        new SortField("string_fixed", SortField.Type.STRING),
        new SortField("string2_fixed", SortField.Type.STRING, true),
        SortField.FIELD_DOC);
    verifyStringSort(sort);

    // Doc values field, var length
    sort.setSort(
                 useDocValues(new SortField("string", getDVStringSortType())),
                 useDocValues(new SortField("string2", getDVStringSortType(), true)),
                 SortField.FIELD_DOC);
    verifyStringSort(sort);

    // Doc values field, fixed length
    sort.setSort(
                 useDocValues(new SortField("string_fixed", getDVStringSortType())),
                 useDocValues(new SortField("string2_fixed", getDVStringSortType(), true)),
                 SortField.FIELD_DOC);
    verifyStringSort(sort);
  }

