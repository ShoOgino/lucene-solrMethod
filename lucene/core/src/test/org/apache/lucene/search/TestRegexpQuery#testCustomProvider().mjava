  public void testCustomProvider() throws IOException {
    LightAutomatonProvider myProvider = new LightAutomatonProvider() {
      // automaton that matches quick or brown
      private LightAutomaton quickBrownAutomaton = BasicOperations.unionLight(Arrays
          .asList(BasicAutomata.makeStringLight("quick"),
          BasicAutomata.makeStringLight("brown"),
          BasicAutomata.makeStringLight("bob")));
      
      @Override
      public LightAutomaton getAutomaton(String name) {
        if (name.equals("quickBrown")) return quickBrownAutomaton;
        else return null;
      }
    };
    RegexpQuery query = new RegexpQuery(newTerm("<quickBrown>"), RegExp.ALL, myProvider);
    assertEquals(1, searcher.search(query, 5).totalHits);
  }

