  private static void assertTopDocsEquals(TopDocs td1, TopDocs td2) {
    assertEquals(td1.scoreDocs.length, td2.scoreDocs.length);
    for (int i = 0; i < td1.scoreDocs.length; ++i) {
      ScoreDoc sd1 = td1.scoreDocs[i];
      ScoreDoc sd2 = td2.scoreDocs[i];
      assertEquals(sd1.doc, sd2.doc);
      assertEquals(sd1.score, sd2.score, 0f);
    }
  }

