  // LUCENE-1468
  @SuppressWarnings("resource")
  public void testCopySubdir() throws Throwable {
    Path path = createTempDir("testsubdir");
    try {
      Files.createDirectory(path.resolve("subdir"));
      Directory fsDir = new SimpleFSDirectory(path);
      assertEquals(0, new RAMDirectory(fsDir, newIOContext(random())).listAll().length);
    } finally {
      IOUtils.rm(path);
    }
  }

