  // LUCENE-1468
  @SuppressWarnings("resource")
  public void testCopySubdir() throws Throwable {
    Path path = createTempDir("testsubdir");
    try {
      Files.createDirectory(path.resolve("subdir"));
      FSDirectory fsDir = new SimpleFSDirectory(path);
      RAMDirectory ramDir = new RAMDirectory(fsDir, newIOContext(random()));
      List<String> files = Arrays.asList(ramDir.listAll());
      assertFalse(files.contains("subdir"));
    } finally {
      IOUtils.rm(path);
    }
  }

