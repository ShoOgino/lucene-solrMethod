  // LUCENE-1468
  public void testNotDirectory() throws Throwable {
    Path path = createTempDir("testnotdir");
    Directory fsDir = new SimpleFSDirectory(path);
    try {
      IndexOutput out = fsDir.createOutput("afile", newIOContext(random()));
      out.close();
      assertTrue(slowFileExists(fsDir, "afile"));
      try {
        new SimpleFSDirectory(path.resolve("afile"));
        fail("did not hit expected exception");
      } catch (IOException nsde) {
        // Expected
      }
    } finally {
      fsDir.close();
    }
  }

