  // LUCENE-1468
  public void testCopySubdir() throws Throwable {
    Path path = createTempDir("testsubdir");
    FSDirectory fsDir = null;
    try {
      Files.createDirectory(path.resolve("subdir"));
      fsDir = new SimpleFSDirectory(path);
      assertEquals(0, new RAMDirectory(fsDir, newIOContext(random())).listAll().length);
    } finally {
      IOUtils.close(fsDir);
      IOUtils.rm(path);
    }
  }

