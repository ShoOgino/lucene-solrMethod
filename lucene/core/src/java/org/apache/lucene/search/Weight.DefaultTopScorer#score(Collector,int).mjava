    @Override
    public boolean score(Collector collector, int max) throws IOException {
      // TODO: this may be sort of weird, when we are
      // embedded in a BooleanScorer, because we are
      // called for every chunk of 2048 documents.  But,
      // then, scorer is a FakeScorer in that case, so any
      // Collector doing something "interesting" in
      // setScorer will be forced to use BS2 anyways:
      collector.setScorer(scorer);
      if (scorer.docID() == -1) {
        scorer.nextDoc();
      }
      int doc;
      for (doc = scorer.docID(); doc < max; doc = scorer.nextDoc()) {
        collector.collect(doc);
      }
      return doc != DocsEnum.NO_MORE_DOCS;
    }

