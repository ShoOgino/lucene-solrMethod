    /** 
     * Creates a new comparator based on {@link Double#compare} for {@code numHits}.
     * When a document has no value for the field, {@code missingValue} is substituted.
     */
    public DoubleComparator(int numHits, String field, Double missingValue) {
      super(field, missingValue != null ? missingValue : 0.0);
      values = new double[numHits];
    }

