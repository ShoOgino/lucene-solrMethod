  private boolean scoreWindow(LeafCollector collector, int base, int max) throws IOException {
    this.max = Math.min(base + SIZE, max);
    hasMatches = false;
    boolean more = collectMatches();

    if (hasMatches) {
      scoreMatches(collector, base);
      Arrays.fill(matching, 0L);
    }

    return more;
  }

