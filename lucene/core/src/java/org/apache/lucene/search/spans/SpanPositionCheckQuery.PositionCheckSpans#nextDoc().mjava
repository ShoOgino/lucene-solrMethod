    @Override
    public int nextDoc() throws IOException {
      if (in.nextDoc() == NO_MORE_DOCS)
        return NO_MORE_DOCS;

      return toNextDocWithAllowedPosition();
    }

