  private BulkScorerAndDoc scoreWindow(LeafCollector collector, int base, int min, int max,
      PriorityQueue<BulkScorerAndDoc> optionalScorers, BulkScorerAndDoc top) throws IOException {
    assert top.next < max;
    do {
      top.next = top.scorer.score(orCollector, min, max);
      top = optionalScorers.updateTop();
    } while (top.next < max);

    scoreMatches(collector, base);
    Arrays.fill(matching, 0L);
    return top;
  }

