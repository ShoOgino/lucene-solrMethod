    @Override
    public float score(int doc, int freq) {
      // TODO: maybe score cache is more trouble than its worth?
      return freq < SCORE_CACHE_SIZE        // check cache
        ? scoreCache[freq]                  // cache hit
        : weightValue * freq / (freq + k1); // cache miss
    }

