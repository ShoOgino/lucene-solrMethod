  /**
   * Return a key for the given query that only takes matching documents into
   * account. Boosts will be ignored.
   * @lucene.internal
   */
  public static Query cacheKey(Query query) {
    if (query.getBoost() == 1f) {
      return query;
    } else {
      Query key = query.clone();
      key.setBoost(1f);
      assert key == cacheKey(key);
      return key;
    }
  }

