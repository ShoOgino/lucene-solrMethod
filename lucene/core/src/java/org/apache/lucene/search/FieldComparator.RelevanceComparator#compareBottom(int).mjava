    @Override
    public int compareBottom(int doc) throws IOException {
      float score = scorer.score();
      assert !Float.isNaN(score);
      return bottom > score ? -1 : (bottom < score ? 1 : 0);
    }

