    @Override
    public int compareDocToValue(int doc, Float valueObj) throws IOException {
      final float value = valueObj.floatValue();
      float docValue = scorer.score();
      assert !Float.isNaN(docValue);
      return Float.compare(value, docValue);
    }

