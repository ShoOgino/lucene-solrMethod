  /**
   * Rewrites to a single query or a boolean query where each query is a SHOULD clause.
   */
  @Override
  public Query rewrite(IndexReader reader) throws IOException {
    if (queries.length == 0) {
      return new BooleanQuery.Builder().build();
    }

    if (queries.length == 1) {
      return queries[0];
    }

    BooleanQuery.Builder q = new BooleanQuery.Builder();
    for (Query clause : queries) {
      q.add(clause, BooleanClause.Occur.SHOULD);
    }

    return q.build();
  }

