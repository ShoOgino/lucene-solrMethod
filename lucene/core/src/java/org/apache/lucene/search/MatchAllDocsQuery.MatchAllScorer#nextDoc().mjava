    @Override
    public int nextDoc() throws IOException {
      doc++;
      while(liveDocs != null && doc < maxDoc && !liveDocs.get(doc)) {
        doc++;
      }
      if (doc >= maxDoc) { // can be > maxDoc when called from advance()
        doc = NO_MORE_DOCS;
      }
      return doc;
    }

