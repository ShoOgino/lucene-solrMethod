  /** Expert: Get the {@link Similarity} to use to compute scores. When
   *  {@code needsScores} is {@code false}, this method will return a simple
   *  {@link Similarity} that does not leverage scoring factors such as norms.
   *  When {@code needsScores} is {@code true}, this returns the
   *  {@link Similarity} that has been set through {@link #setSimilarity(Similarity)}
   *  or the {@link #getDefaultSimilarity()} default {@link Similarity} if none
   *  has been set explicitly. */
  public Similarity getSimilarity(boolean needsScores) {
    return needsScores ? similarity : NON_SCORING_SIMILARITY;
  }

