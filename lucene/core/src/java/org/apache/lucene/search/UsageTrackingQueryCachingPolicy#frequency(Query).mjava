  int frequency(Query query) {
    
    // call possible Query clone and hashCode outside of sync block
    // in case it's somewhat expensive:
    int hashCode = QueryCache.cacheKey(query).hashCode();

    synchronized (this) {
      return recentlyUsedFilters.frequency(hashCode);
    }
  }

