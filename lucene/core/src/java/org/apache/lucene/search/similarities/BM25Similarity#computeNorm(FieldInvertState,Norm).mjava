  @Override
  public final void computeNorm(FieldInvertState state, Norm norm) {
    final int numTerms = discountOverlaps ? state.getLength() - state.getNumOverlap() : state.getLength();
    norm.setByte(encodeNormValue(state.getBoost(), numTerms));
  }

