    float getLengthValue(int doc) throws IOException {
      if (norms == null) {
        return 1F;
      }
      if (norms.advanceExact(doc)) {
        return LENGTH_TABLE[Byte.toUnsignedInt((byte) norms.longValue())];
      } else {
        return 0;
      }
    }

