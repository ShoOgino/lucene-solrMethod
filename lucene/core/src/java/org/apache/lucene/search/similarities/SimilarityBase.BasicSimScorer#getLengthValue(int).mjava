    double getLengthValue(int doc) throws IOException {
      if (norms == null) {
        return 1D;
      }
      if (norms.advanceExact(doc)) {
        return LENGTH_TABLE[Byte.toUnsignedInt((byte) norms.longValue())];
      } else {
        return 0;
      }
    }

