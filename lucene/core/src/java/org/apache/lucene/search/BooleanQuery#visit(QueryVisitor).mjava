  @Override
  public void visit(QueryVisitor visitor) {
    for (Map.Entry<Occur, Collection<Query>> entry : clauseSets.entrySet()) {
      Occur clauseOccur = entry.getKey();
      Collection<Query> clauseQueries = entry.getValue();

      if (clauseQueries.size() > 0) {
        QueryVisitor v = visitor.getSubVisitor(clauseOccur, this);
        for (Query q : clauseQueries) {
          q.visit(v);
        }
      }
    }
  }

