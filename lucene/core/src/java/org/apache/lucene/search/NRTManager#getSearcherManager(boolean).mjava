  /**
   * Returns a {@link SearcherManager}. If <code>applyAllDeletes</code> is
   * <code>true</code> the returned manager is guaranteed to have all deletes
   * applied on the last reopen. Otherwise the latest manager with or without deletes
   * is returned.
   */
  public SearcherManager getSearcherManager(boolean applyAllDeletes) {
    if (applyAllDeletes) {
      return withDeletes.manager;
    } else {
      if (withDeletes.generation > withoutDeletes.generation) {
        return withDeletes.manager;
      } else {
        return withoutDeletes.manager;
      }
    }
  }

