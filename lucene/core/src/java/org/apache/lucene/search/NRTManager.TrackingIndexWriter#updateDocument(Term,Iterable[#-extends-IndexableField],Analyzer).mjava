    public long updateDocument(Term t, Iterable<? extends IndexableField> d, Analyzer a) throws IOException {
      writer.updateDocument(t, d, a);
      // Return gen as of when indexing finished:
      return indexingGen.get();
    }

