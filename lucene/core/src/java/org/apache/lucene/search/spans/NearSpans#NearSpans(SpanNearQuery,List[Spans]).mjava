  NearSpans(SpanNearQuery query, List<Spans> subSpans)
  throws IOException {
    this.query = Objects.requireNonNull(query);
    this.allowedSlop = query.getSlop();
    if (subSpans.size() < 2) {
      throw new IllegalArgumentException("Less than 2 subSpans: " + query);
    }
    this.subSpans = Objects.requireNonNull(subSpans); // in query order
    this.conjunction = ConjunctionDISI.intersect(subSpans);
  }

