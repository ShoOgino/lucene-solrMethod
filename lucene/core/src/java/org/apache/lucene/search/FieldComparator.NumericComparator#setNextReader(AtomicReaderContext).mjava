    @Override
    public FieldComparator<T> setNextReader(AtomicReaderContext context) throws IOException {
      currentReaderValues = getNumericDocValues(context, field);
      if (missingValue != null) {
        docsWithField = DocValues.getDocsWithField(context.reader(), field);
        // optimization to remove unneeded checks on the bit interface:
        if (docsWithField instanceof Bits.MatchAllBits) {
          docsWithField = null;
        }
      } else {
        docsWithField = null;
      }
      return this;
    }

