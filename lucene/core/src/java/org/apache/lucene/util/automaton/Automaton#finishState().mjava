  /** Finishes the current state; call this once you are done adding transitions for a state. */
  public void finishState() {
    if (curState != -1) {
      //System.out.println("finish: finish current state " + curState);
      finishCurrentState();
      curState = -1;
    }
  }

