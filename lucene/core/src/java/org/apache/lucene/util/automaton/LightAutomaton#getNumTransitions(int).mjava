  public int getNumTransitions(int state) {
    //assert curState == -1: "not finished";
    int count = states[2*state+1];
    if (count == -1) {
      return 0;
    } else {
      return count;
    }
  }

