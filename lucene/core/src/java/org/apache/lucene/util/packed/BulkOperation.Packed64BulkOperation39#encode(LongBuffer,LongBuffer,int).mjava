    public void encode(LongBuffer values, LongBuffer blocks, int iterations) {
      assert blocks.position() + iterations * blocks() <= blocks.limit();
      assert values.position() + iterations * values() <= values.limit();
      for (int i = 0; i < iterations; ++i) {
        blocks.put((values.get() << 25) | (values.get(values.position()) >>> 14));
        blocks.put((values.get() << 50) | (values.get() << 11) | (values.get(values.position()) >>> 28));
        blocks.put((values.get() << 36) | (values.get(values.position()) >>> 3));
        blocks.put((values.get() << 61) | (values.get() << 22) | (values.get(values.position()) >>> 17));
        blocks.put((values.get() << 47) | (values.get() << 8) | (values.get(values.position()) >>> 31));
        blocks.put((values.get() << 33) | (values.get(values.position()) >>> 6));
        blocks.put((values.get() << 58) | (values.get() << 19) | (values.get(values.position()) >>> 20));
        blocks.put((values.get() << 44) | (values.get() << 5) | (values.get(values.position()) >>> 34));
        blocks.put((values.get() << 30) | (values.get(values.position()) >>> 9));
        blocks.put((values.get() << 55) | (values.get() << 16) | (values.get(values.position()) >>> 23));
        blocks.put((values.get() << 41) | (values.get() << 2) | (values.get(values.position()) >>> 37));
        blocks.put((values.get() << 27) | (values.get(values.position()) >>> 12));
        blocks.put((values.get() << 52) | (values.get() << 13) | (values.get(values.position()) >>> 26));
        blocks.put((values.get() << 38) | (values.get(values.position()) >>> 1));
        blocks.put((values.get() << 63) | (values.get() << 24) | (values.get(values.position()) >>> 15));
        blocks.put((values.get() << 49) | (values.get() << 10) | (values.get(values.position()) >>> 29));
        blocks.put((values.get() << 35) | (values.get(values.position()) >>> 4));
        blocks.put((values.get() << 60) | (values.get() << 21) | (values.get(values.position()) >>> 18));
        blocks.put((values.get() << 46) | (values.get() << 7) | (values.get(values.position()) >>> 32));
        blocks.put((values.get() << 32) | (values.get(values.position()) >>> 7));
        blocks.put((values.get() << 57) | (values.get() << 18) | (values.get(values.position()) >>> 21));
        blocks.put((values.get() << 43) | (values.get() << 4) | (values.get(values.position()) >>> 35));
        blocks.put((values.get() << 29) | (values.get(values.position()) >>> 10));
        blocks.put((values.get() << 54) | (values.get() << 15) | (values.get(values.position()) >>> 24));
        blocks.put((values.get() << 40) | (values.get() << 1) | (values.get(values.position()) >>> 38));
        blocks.put((values.get() << 26) | (values.get(values.position()) >>> 13));
        blocks.put((values.get() << 51) | (values.get() << 12) | (values.get(values.position()) >>> 27));
        blocks.put((values.get() << 37) | (values.get(values.position()) >>> 2));
        blocks.put((values.get() << 62) | (values.get() << 23) | (values.get(values.position()) >>> 16));
        blocks.put((values.get() << 48) | (values.get() << 9) | (values.get(values.position()) >>> 30));
        blocks.put((values.get() << 34) | (values.get(values.position()) >>> 5));
        blocks.put((values.get() << 59) | (values.get() << 20) | (values.get(values.position()) >>> 19));
        blocks.put((values.get() << 45) | (values.get() << 6) | (values.get(values.position()) >>> 33));
        blocks.put((values.get() << 31) | (values.get(values.position()) >>> 8));
        blocks.put((values.get() << 56) | (values.get() << 17) | (values.get(values.position()) >>> 22));
        blocks.put((values.get() << 42) | (values.get() << 3) | (values.get(values.position()) >>> 36));
        blocks.put((values.get() << 28) | (values.get(values.position()) >>> 11));
        blocks.put((values.get() << 53) | (values.get() << 14) | (values.get(values.position()) >>> 25));
        blocks.put((values.get() << 39) | values.get());
      }
    }

