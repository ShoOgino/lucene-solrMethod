  @Override
  public void set(int index, long value) {
    final int o = blockOffset(index);
    final int b = offsetInBlock(index);

    blocks[o] = (blocks[o] & writeMasks[b]) | (value << shifts[b]);
  }

