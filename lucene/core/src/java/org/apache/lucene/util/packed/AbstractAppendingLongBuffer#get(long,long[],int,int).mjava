  /**
   * Bulk get: read at least one and at most <code>len</code> longs starting
   * from <code>index</code> into <code>arr[off:off+len]</code> and return
   * the actual number of values that have been read.
   */
  public final int get(long index, long[] arr, int off, int len) {
    assert len > 0 : "len must be > 0 (got " + len + ")";
    assert index >= 0 && index < size();
    assert off + len <= arr.length;

    int block = (int) (index >> pageShift);
    int element = (int) (index & pageMask);
    return get(block, element, arr, off, len);
  }

