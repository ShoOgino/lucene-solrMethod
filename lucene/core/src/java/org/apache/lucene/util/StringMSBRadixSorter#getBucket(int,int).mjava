  /** Return a number for the k-th character between 0 and {@link #HISTOGRAM_SIZE}. */
  private int getBucket(int id, int k) {
    BytesRef ref = get(id);
    if (ref.length <= k) {
      return 0;
    }
    final int b = ref.bytes[ref.offset + k] & 0xff;
    return b + 1;
  }

