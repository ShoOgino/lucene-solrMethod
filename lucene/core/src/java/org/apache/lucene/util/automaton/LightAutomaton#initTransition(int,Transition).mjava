  // nocommit kinda awkward iterator api...
  /** Initialize the provided Transition for iteration; you
   *  must call {@link #getNextTransition} to get the first
   *  transition for the state.  Returns the number of transitions
   *  leaving this state. */
  public int initTransition(int state, Transition t) {
    // assert curState == -1: "not finished";
    t.source = state;
    //System.out.println("initTrans source=" + state  + " numTrans=" + getNumTransitions(state));
    t.transitionUpto = states[2*state];
    return getNumTransitions(state);
  }

