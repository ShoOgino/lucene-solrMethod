  /** Return the index of the last decoded value.
   * The first value encoded by {@link EliasFanoEncoder#encodeNext} has index 0.
   * Only valid directly after
   * {@link #nextValue}, {@link #advanceToValue},
   * {@link #previousValue}, or {@link #backToValue}
   * returned another value than {@link #NO_MORE_VALUES}.
   */
  public long index() {
    if (efIndex < 0) {
      throw new IllegalStateException("index before sequence");
    }
    if (efIndex >= numEncoded) {
      throw new IllegalStateException("index after sequence");
    }
    return efIndex;
  }

