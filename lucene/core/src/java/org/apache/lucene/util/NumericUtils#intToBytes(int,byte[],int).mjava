  public static void intToBytes(int x, byte[] dest, int offset) {
    // Flip the sign bit, so negative ints sort before positive ints correctly:
    x ^= 0x80000000;
    for (int i = 0; i < 4; i++) {
      dest[offset+i] = (byte) (x >> 24-i*8);
    }
  }

