  /**
   * Reserve space so that this builder can hold {@code numDocs} MORE documents.
   */
  public void grow(int numDocs) {
    if (bitSet == null) {
      final long newLength = bufferSize + numDocs;
      if (newLength <= threshold) {
        buffer = ArrayUtil.grow(buffer, (int) newLength);
      } else {
        upgradeToBitSet();
      }
    }
  }

