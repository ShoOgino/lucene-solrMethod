    /** Return the current byte position. */
    public long getPosition() {
      if (currentBlock == null) {
        return 0;
      } else {
        return blocks.size() * blockSize + upto;
      }
    }

