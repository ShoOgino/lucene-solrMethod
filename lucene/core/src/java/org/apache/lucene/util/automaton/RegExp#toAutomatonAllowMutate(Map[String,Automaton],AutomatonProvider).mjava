  private Automaton toAutomatonAllowMutate(Map<String,Automaton> automata,
      AutomatonProvider automaton_provider) throws IllegalArgumentException {
    boolean b = false;
    if (allow_mutation) b = Automaton.setAllowMutate(true); // thread unsafe
    Automaton a = toAutomaton(automata, automaton_provider);
    if (allow_mutation) Automaton.setAllowMutate(b);
    return a;
  }

