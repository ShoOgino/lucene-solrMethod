    public int get(int index, long[] arr, int off, int len) {
      assert index >= 0 && index < valueCount;
      assert off + len <= arr.length;

      final int gets = Math.min(valueCount - index, len);
      for (int i = index, o = off, end = index + gets; i < end; ++i, ++o) {
        arr[o] = get(i);
      }
      return gets;
    }

