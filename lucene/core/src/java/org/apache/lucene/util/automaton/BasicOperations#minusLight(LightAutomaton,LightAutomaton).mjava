  /**
   * Returns a (deterministic) automaton that accepts the intersection of the
   * language of <code>a1</code> and the complement of the language of
   * <code>a2</code>. As a side-effect, the automata may be determinized, if not
   * already deterministic.
   * <p>
   * Complexity: quadratic in number of states (if already deterministic).
   */
  static public LightAutomaton minusLight(LightAutomaton a1, LightAutomaton a2) {
    if (BasicOperations.isEmpty(a1) || a1 == a2) {
      return BasicAutomata.makeEmptyLight();
    }
    if (BasicOperations.isEmpty(a2)) {
      return a1;
    }
    return intersectionLight(a1, complementLight(a2));
  }

