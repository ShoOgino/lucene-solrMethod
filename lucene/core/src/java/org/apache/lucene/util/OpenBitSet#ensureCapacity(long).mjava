  /**
   * Ensure that the long[] is big enough to hold numBits, expanding it if
   * necessary.
   */
  public void ensureCapacity(long numBits) {
    ensureCapacityWords(bits2words(numBits));
    // ensureCapacityWords sets numBits to a multiple of 64, but we want to set
    // it to exactly what the app asked.
    assert (this.numBits = Math.max(this.numBits, numBits)) >= 0;
  }

