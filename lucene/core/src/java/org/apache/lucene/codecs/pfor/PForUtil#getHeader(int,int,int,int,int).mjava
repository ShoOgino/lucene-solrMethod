  /** 
   * Generate the 4 byte header, which contains (from lsb to msb):
   *
   * 8 bits for uncompressed int num - 1 (use up to 7 bits i.e 128 actually)
   *
   * 8 bits for exception num - 1 (when no exceptions, this is undefined)
   *
   * 8 bits for the index of the first exception + 1 (when no exception, this is 0)
   *
   * 5 bits for num of frame bits - 1
   * 2 bits for the exception code: 00: byte, 01: short, 10: int
   * 1 bit unused
   *
   */
  static int getHeader(int numInts, int numBits, int excNum, int excFirstPos, int excBytes) {
    return  (numInts-1)
          | (((excNum-1) & MASK[8]) << 8)
          | ((excFirstPos+1) << 16)
          | ((numBits-1) << 24)
          | ((excBytes/2) << 29);
  }

