  /** Decompress given Integer buffer into int array.
   *
   * @param intBuffer   integer buffer to hold compressed data
   * @param data        int array to hold uncompressed data
   */
  public static void decompress(IntBuffer intBuffer, int[] data, int header) {
    // since this buffer is reused at upper level, rewind first
    intBuffer.rewind();

    int excNum = ((header >> 8) & MASK[8]) + 1;
    int excFirstPos = ((header >> 16) & MASK[8]) - 1;
    int excBytes = PER_EXCEPTION_SIZE[(header >> 30) & MASK[2]];
    int numBits = ((header >> 24) & MASK[6]);

    decompressCore(intBuffer, data, numBits);

    patchException(intBuffer,data,excNum,excFirstPos,excBytes);
  }

