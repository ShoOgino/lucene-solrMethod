  private static FSTLoadMode getLoadMode(Map<String, String> attributes, String key, FSTLoadMode defaultValue) {
    String value = attributes.get(key);
    if (value == null) {
      return defaultValue;
    }
    try {
      return FSTLoadMode.valueOf(value);
    } catch (IllegalArgumentException ex) {
      throw new IllegalArgumentException("Invalid value for " + key + " expected one of: "
          + Arrays.toString(FSTLoadMode.values()) + " but was: " + value, ex);
    }
  }

