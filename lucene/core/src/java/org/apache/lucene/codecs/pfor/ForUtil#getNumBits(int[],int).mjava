  // TODO: shall we use 32 NumBits directly if it exceeds 28 bits?
  static int getNumBits(final int[] data, int size) {
    int optBits=1;
    for (int i=0; i<size; ++i) {
      while ((data[i] & ~MASK[optBits]) != 0) {
        optBits++;
      }
    }
    return optBits;
  }

