  static int patch(int[]data, int pos, int value) {
    int nextPos = data[pos] + pos + 1;
    data[pos] = value;
    assert nextPos > pos;
    return nextPos;
  }

