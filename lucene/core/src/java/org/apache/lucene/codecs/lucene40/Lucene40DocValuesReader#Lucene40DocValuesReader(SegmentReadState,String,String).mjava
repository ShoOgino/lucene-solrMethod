  Lucene40DocValuesReader(SegmentReadState state, String filename, String legacyKey) throws IOException {
    this.state = state;
    this.legacyKey = legacyKey;
    this.dir = new CompoundFileDirectory(state.directory, filename, state.context, false);
    // nocommit: uncomment to debug
    /*
    if (legacyKey.equals(Lucene40FieldInfosReader.LEGACY_DV_TYPE_KEY)) {
      System.out.println("dv READER:");
      for (FieldInfo fi : state.fieldInfos) {
        if (fi.hasDocValues()) {
          System.out.println(fi.name + " -> " + fi.getAttribute(legacyKey) + " -> " + fi.getDocValuesType());
        }
      }
    } else {
      System.out.println("nrm READER:");
      for (FieldInfo fi : state.fieldInfos) {
        if (fi.hasNorms()) {
          System.out.println(fi.name + " -> " + fi.getAttribute(legacyKey) + " -> " + fi.getNormType());
        }
      }
    }
    */
  }

