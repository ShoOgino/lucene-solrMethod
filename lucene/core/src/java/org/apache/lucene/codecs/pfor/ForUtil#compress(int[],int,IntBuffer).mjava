  /** Compress given int[] into Integer buffer, with For format
   *
   * @param data        uncompressed data
   * @param size        num of ints to compress
   * @param intBuffer   integer buffer to hold compressed data
   */
  public static int compress(final int[] data, int size, IntBuffer intBuffer) {
    int numBits=getNumBits(data,size);
  
    for (int i=0; i<size; ++i) {
      encodeNormalValue(intBuffer,i,data[i], numBits);
    }
    encodeHeader(intBuffer, size, numBits);

    return (HEADER_INT_SIZE+(size*numBits+31)/32)*4;
  }

