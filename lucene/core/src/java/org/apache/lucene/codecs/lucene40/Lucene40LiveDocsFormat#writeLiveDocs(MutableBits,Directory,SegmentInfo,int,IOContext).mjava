  @Override
  public void writeLiveDocs(MutableBits bits, Directory dir, SegmentInfo info, int newDelCount, IOContext context) throws IOException {
    String filename = IndexFileNames.fileNameFromGeneration(info.name, DELETES_EXTENSION, info.getNextDelGen());
    final BitVector liveDocs = (BitVector) bits;
    assert liveDocs.count() == info.docCount - info.getDelCount() - newDelCount;
    assert liveDocs.length() == info.docCount;
    liveDocs.write(dir, filename, context);
  }

