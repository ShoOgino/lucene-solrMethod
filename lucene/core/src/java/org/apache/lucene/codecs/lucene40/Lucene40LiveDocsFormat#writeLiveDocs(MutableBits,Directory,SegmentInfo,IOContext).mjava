  @Override
  public void writeLiveDocs(MutableBits bits, Directory dir, SegmentInfo info, IOContext context) throws IOException {
    String filename = IndexFileNames.fileNameFromGeneration(info.name, DELETES_EXTENSION, info.getDelGen());
    final BitVector liveDocs = (BitVector) bits;
    assert liveDocs.count() == info.docCount - info.getDelCount();
    assert liveDocs.length() == info.docCount;
    liveDocs.write(dir, filename, context);
  }

