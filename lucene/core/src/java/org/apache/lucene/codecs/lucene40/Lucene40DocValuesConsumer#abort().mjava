  @Override
  public void abort() {
    try {
      close();
    } catch (Throwable t) {
      // ignore
    } finally {
      // TODO: why the inconsistency here? we do this, but not SimpleText (which says IFD
      // will do it).
      // TODO: check that IFD really does this always, even if codec abort() throws a 
      // RuntimeException (e.g. ThreadInterruptedException)
      IOUtils.deleteFilesIgnoringExceptions(mainDirectory, IndexFileNames.segmentFileName(
        segmentName, segmentSuffix, IndexFileNames.COMPOUND_FILE_EXTENSION),
        IndexFileNames.segmentFileName(segmentName, segmentSuffix,
            IndexFileNames.COMPOUND_FILE_ENTRIES_EXTENSION));
    }
  }

