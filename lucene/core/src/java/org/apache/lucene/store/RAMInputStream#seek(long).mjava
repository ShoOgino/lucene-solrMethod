  @Override
  public void seek(long pos) throws IOException {
    if (currentBuffer == null || pos < bufferStart || pos >= bufferStart + BUFFER_SIZE) {
      currentBufferIndex = (int) (pos / BUFFER_SIZE);
      switchCurrentBuffer(false);
    }
    if (pos < BUFFER_SIZE * (long) file.numBuffers()) {
      // do not overwrite bufferPosition if EOF should be thrown on the next read
      bufferPosition = (int) (pos % BUFFER_SIZE);
    }
  }

