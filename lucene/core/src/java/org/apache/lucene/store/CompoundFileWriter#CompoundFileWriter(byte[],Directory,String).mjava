  /**
   * Create the compound stream in the specified file. The file name is the
   * entire name (no extensions are added).
   * 
   * @throws NullPointerException
   *           if <code>dir</code> or <code>name</code> is null
   */
  CompoundFileWriter(byte segmentID[], Directory dir, String name) {
    if (dir == null) {
      throw new NullPointerException("directory cannot be null");
    }
    if (name == null) {
      throw new NullPointerException("name cannot be null");
    }
    if (segmentID == null) {
      throw new NullPointerException("segmentID cannot be null");
    }
    this.segmentID = segmentID;
    directory = dir;
    entryTableName = IndexFileNames.segmentFileName(
        IndexFileNames.stripExtension(name), "",
        IndexFileNames.COMPOUND_FILE_ENTRIES_EXTENSION);
    dataFileName = name;
    
  }

