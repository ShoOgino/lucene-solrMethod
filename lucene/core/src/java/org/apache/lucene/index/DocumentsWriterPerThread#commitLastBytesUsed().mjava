  /**
   * Commits the current {@link #ramBytesUsed()} and stores it's value for later reuse.
   * The last committed bytes used can be retrieved via {@link #getLastCommittedBytesUsed()}
   * @return the delta between the current {@link #ramBytesUsed()} and the current {@link #getLastCommittedBytesUsed()}
   */
  long commitLastBytesUsed() {
    assert isHeldByCurrentThread();
    long delta = ramBytesUsed() - lastCommittedBytesUsed;
    lastCommittedBytesUsed += delta;
    return delta;
  }

