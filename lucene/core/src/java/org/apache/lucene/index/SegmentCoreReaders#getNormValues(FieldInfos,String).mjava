  NumericDocValues getNormValues(FieldInfos infos, String field) throws IOException {
    Map<String,Object> normFields = normsLocal.get();

    NumericDocValues norms = (NumericDocValues) normFields.get(field);
    if (norms != null) {
      return norms;
    } else {
      FieldInfo fi = infos.fieldInfo(field);
      if (fi == null || !fi.hasNorms()) {
        // Field does not exist or does not index norms
        return null;
      }
      assert normsProducer != null;
      norms = normsProducer.getNorms(fi);
      normFields.put(field, norms);
      return norms;
    }
  }

