    /** Called by {@link IndexWriter} after the merge is done and all readers have been closed.
     * @param success true iff the merge finished successfully ie. was committed */
    public void mergeFinished(boolean success) throws IOException {
      mergeCompleted.complete(success);
      // https://issues.apache.org/jira/browse/LUCENE-9408
      // if (mergeCompleted.complete(success) == false) {
      //   throw new IllegalStateException("merge has already finished");
      // }
    }

