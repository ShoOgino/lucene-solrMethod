  /**
   * Returns an array of {@link StorableField}s with the given name.
   * This method returns an empty array when there are no
   * matching fields.  It never returns null.
   *
   * @param name the name of the field
   * @return a <code>StorableField[]</code> array
   */
  public StorableField[] getFields(String name) {
    List<StorableField> result = new ArrayList<StorableField>();
    for (StorableField field : fields) {
      if (field.name().equals(name)) {
        result.add(field);
      }
    }
  
    return result.toArray(new StorableField[result.size()]);
  }

