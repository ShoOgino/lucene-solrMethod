  // Used by assert
  private synchronized boolean assertUnreleasedThreadStatesInactive() {
    for (int i = numThreadStatesActive; i < threadStates.size(); i++) {
      ThreadState threadState = threadStates.get(i);
      assert threadState.tryLock() : "unreleased threadstate should not be locked";
      try {
        assert !threadState.isInitialized() : "expected unreleased thread state to be inactive";
      } finally {
        threadState.unlock();
      }
    }
    return true;
  }

