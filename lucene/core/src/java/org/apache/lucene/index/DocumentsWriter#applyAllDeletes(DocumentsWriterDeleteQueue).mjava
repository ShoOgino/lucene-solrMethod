  /** If buffered deletes are using too much heap, resolve them and write disk and return true. */
  private boolean applyAllDeletes(DocumentsWriterDeleteQueue deleteQueue) throws IOException {
    if (flushControl.getAndResetApplyAllDeletes()) {
      if (deleteQueue != null) {
        ticketQueue.addDeletes(deleteQueue);
      }
      flushNotifications.onDeletesApplied(); // apply deletes event forces a purge
      return true;
    }
    return false;
  }

