  /** If buffered deletes are using too much heap, resolve them and write disk and return true. */
  private boolean applyAllDeletes(DocumentsWriterDeleteQueue deleteQueue) throws IOException {
    if (flushControl.isFullFlush() == false // never apply deletes during full flush this breaks happens before relationship
        && flushControl.getAndResetApplyAllDeletes()) {
      if (deleteQueue != null) {
        assert assertTicketQueueModification(deleteQueue);
        ticketQueue.addDeletes(deleteQueue);
      }
      flushNotifications.onDeletesApplied(); // apply deletes event forces a purge
      return true;
    }
    return false;
  }

