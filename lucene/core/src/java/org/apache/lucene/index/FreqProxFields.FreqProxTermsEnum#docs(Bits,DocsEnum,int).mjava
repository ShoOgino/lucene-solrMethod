    @Override
    public DocsEnum docs(Bits liveDocsIn, DocsEnum reuse, int flags) {
      if (liveDocsIn != null) {
        throw new IllegalArgumentException("liveDocs must be null");
      }

      FreqProxDocsEnum docsEnum;

      if (!terms.hasFreq && (flags & DocsEnum.FLAG_FREQS) != 0) {
        // Caller wants freqs but we didn't index them;
        // don't lie:
        throw new IllegalArgumentException("did not index freq");
      }

      if (reuse instanceof FreqProxDocsEnum) {
        docsEnum = (FreqProxDocsEnum) reuse;
        if (docsEnum.postingsArray != postingsArray) {
          docsEnum = new FreqProxDocsEnum(terms, postingsArray, liveDocs);
        } else {
          assert docsEnum.liveDocs == liveDocs;
        }
      } else {
        docsEnum = new FreqProxDocsEnum(terms, postingsArray, liveDocs);
      }
      docsEnum.reset(sortedTermIDs[ord]);
      return docsEnum;
    }

