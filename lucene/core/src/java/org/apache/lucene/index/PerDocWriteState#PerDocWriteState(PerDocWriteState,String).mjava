  /** Creates a {@code PerDocWriteState}, copying fields
   *  from another (copy constructor) but setting a new
   *  {@link #segmentSuffix}. */
  public PerDocWriteState(PerDocWriteState state, String segmentSuffix) {
    this.infoStream = state.infoStream;
    this.directory = state.directory;
    this.segmentInfo = state.segmentInfo;
    this.segmentSuffix = segmentSuffix;
    this.bytesUsed = state.bytesUsed;
    this.context = state.context;
  }

