  synchronized boolean isThreadQueued(Thread t) { // for tests
    return waiting.containsKey(t);
  }

