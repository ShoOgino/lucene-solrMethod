  /**
   * Returns a ref to a clone. NOTE: you should decRef() the reader when you're
   * dont (ie do not call close()).
   */
  public synchronized SegmentReader getReadOnlyClone(IOContext context) throws IOException {
    getReader(true, context).decRef(); // make sure we enroll a new reader if there are field updates
    assert reader != null;
    liveDocsShared = true;
    if (liveDocs != null) {
      return new SegmentReader(reader.getSegmentInfo(), reader, liveDocs, info.info.getDocCount() - info.getDelCount() - pendingDeleteCount);
    } else {
      assert reader.getLiveDocs() == liveDocs;
      reader.incRef();
      return reader;
    }
  }

