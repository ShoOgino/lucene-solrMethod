  private void applyUpdates(DocIdSetIterator iterator) throws IOException {
    final MutableBits mutableBits = getMutableBits();
    int newDeletes = 0;
    int docID;
    while ((docID = iterator.nextDoc()) != DocIdSetIterator.NO_MORE_DOCS) {
      if (mutableBits.get(docID)) { // doc is live - clear it
        mutableBits.clear(docID);
        newDeletes++;
        // now that we know we deleted it and we fully control the hard deletes we can do correct accounting
        // below.
      }
    }
    pendingDeleteCount += newDeletes;
  }

