  private boolean checkConsistency() {
    // nocommit more checks here
    if (!indexed) {
      assert !storeTermVector;
      assert !storePayloads;
      assert !omitNorms;
      assert normType == null;
      assert indexOptions == IndexOptions.DOCS_AND_FREQS_AND_POSITIONS;
    } else {
      // nocommit trips:
      //assert omitNorms || normType != null;
      assert indexOptions != null;
    }

    // Cannot store payloads unless positions are indexed:
    assert indexOptions.compareTo(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS) >= 0 || !this.storePayloads;

    return true;
  }

