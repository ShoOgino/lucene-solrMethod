    /**
     * Resets the internal {@link DocumentsWriterPerThread} with the given one. 
     * if the given DWPT is <code>null</code> this ThreadState is marked as inactive and should not be used
     * for indexing anymore.
     * @see #isActive()  
     */
    private void resetWriter(DocumentsWriterPerThread dwpt) {
      assert this.isHeldByCurrentThread();
      if (dwpt == null) {
        isActive = false;
      }
      this.dwpt = dwpt;
      this.bytesUsed = 0;
      this.flushPending = false;
    }

