    void writeDocValuesUpdates(List<SegmentCommitInfo> infos) throws IOException {
      boolean any = false;
      for (SegmentCommitInfo info : infos) {
        ReadersAndUpdates rld = get(info, false);
        if (rld != null) {
          any |= rld.writeFieldUpdates(directory, bufferedUpdatesStream.getCompletedDelGen(), infoStream);
        }
      }
      if (any) {
        checkpoint();
      }
    }

