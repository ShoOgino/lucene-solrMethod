  /**
   * <p>Fills {@link #inputWindow} with input stream tokens, if available, 
   * shifting to the right if the window was previously full.
   * <p>Resets {@link #gramSize} to its minimum value.
   *
   * @throws IOException if there's a problem getting the next token
   */
  private void shiftInputWindow() throws IOException {
    if (inputWindow.size() > 0) {
      inputWindow.removeFirst();
    }
    while (getNextToken()) {
      inputWindow.add(captureState());
      if (inputWindow.size() == maxShingleSize) {
        break;
      }
    }
    gramSize.reset();
  }

