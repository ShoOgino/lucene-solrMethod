  public static void startServer(Searchable searchable) throws Exception {
    // publish it
    // use our own factories for testing, so we can bind to an ephemeral port.
    RMIClientSocketFactory clientFactory = new RMIClientSocketFactory() {
      public Socket createSocket(String host, int port) throws IOException {
        return new Socket(host, port);
      }};

    class TestRMIServerSocketFactory implements RMIServerSocketFactory {
      ServerSocket socket;
      public ServerSocket createServerSocket(int port) throws IOException {
        return (socket = new ServerSocket(port));
      }
    };
    TestRMIServerSocketFactory serverFactory = new TestRMIServerSocketFactory();
    
    LocateRegistry.createRegistry(0, clientFactory, serverFactory);
    RemoteSearchable impl = new RemoteSearchable(searchable);
    port = serverFactory.socket.getLocalPort();
    Naming.rebind("//localhost:" + port + "/Searchable", impl);
  }

