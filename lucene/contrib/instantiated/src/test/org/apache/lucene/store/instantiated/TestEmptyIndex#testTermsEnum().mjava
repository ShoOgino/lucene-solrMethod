  public void testTermsEnum() throws Exception {

    InstantiatedIndex ii = new InstantiatedIndex();
    IndexReader r = new InstantiatedIndexReader(ii);
    termsEnumTest(r);
    r.close();
    ii.close();

    // make sure a Directory acts the same
    Directory d = newDirectory();
    new IndexWriter(d, newIndexWriterConfig(TEST_VERSION_CURRENT, new MockAnalyzer(random))).close();
    r = IndexReader.open(d, false);
    termsEnumTest(r);
    r.close();
    d.close();
  }

