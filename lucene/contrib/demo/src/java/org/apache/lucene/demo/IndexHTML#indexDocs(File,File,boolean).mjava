  private static void indexDocs(File file, File index, boolean create)
       throws Exception {
    if (!create) {				  // incrementally update

      reader = IndexReader.open(FSDirectory.open(index), false);		  // open existing index
      Terms terms = MultiFields.getTerms(reader, "uid");
      if (terms != null) {
        uidIter = terms.iterator();

        indexDocs(file);

        if (deleting) {				  // delete rest of stale docs
          BytesRef text;
          while ((text=uidIter.next()) != null) {
            String termText = text.utf8ToString();
            System.out.println("deleting " +
                               HTMLDocument.uid2url(termText));
            reader.deleteDocuments(new Term("uid", termText));
          }
          deleting = false;
        }
      }

      reader.close();				  // close existing index

    } else					  // don't have exisiting
      indexDocs(file);
  }

