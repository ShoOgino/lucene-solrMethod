  public void testIndexCreatedVersion() throws IOException {
    for (String name : oldNames) {
      Directory dir = oldIndexDirs.get(name);
      SegmentInfos infos = SegmentInfos.readLatestCommit(dir);
      // those indexes are created by a single version so we can
      // compare the commit version with the created version
      if (infos.getCommitLuceneVersion().onOrAfter(Version.LUCENE_7_0_0)) {
        assertEquals(infos.getCommitLuceneVersion(), infos.getIndexCreatedVersion());
      } else {
        assertNull(infos.getIndexCreatedVersion());
      }
    }
  }

