  // encodes values as sparse array: keys[] and values[]
  // access is log(N) where N = keys.length (slow!)
  // so this is only appropriate as an exception table for patched, or when common value is 0 (wont be accessed by searching) 
  private void addIndirect(FieldInfo field, final Iterable<Number> values, int count, final NormMap uniqueValues, final int minOrd) throws IOException {
    int commonCount = uniqueValues.freqs[minOrd];
    
    meta.writeVInt(count - commonCount);
    meta.writeByte(Lucene50NormsFormat.INDIRECT);
    meta.writeLong(data.getFilePointer());
    
    // write docs with value
    writeDocsWithValue(values, uniqueValues, minOrd);
    
    // write actual values
    writeNormsField(field, new Iterable<Number>() {
      @Override
      public Iterator<Number> iterator() {
        return new FilterIterator<Number, Number>(values.iterator()) {
          @Override
          protected boolean predicateFunction(Number value) {
            return uniqueValues.ord(value.byteValue()) > minOrd;
          }
        };
      }
    }, 1);
  }

