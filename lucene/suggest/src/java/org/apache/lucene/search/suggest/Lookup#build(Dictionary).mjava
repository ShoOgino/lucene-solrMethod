  /** Build lookup from a dictionary. Some implementations may require sorted
   * or unsorted keys from the dictionary's iterator - use
   * {@link SortedTermFreqPayloadIteratorWrapper} or
   * {@link UnsortedTermFreqPayloadIteratorWrapper} in such case.
   */
  public void build(Dictionary dict) throws IOException {
    BytesRefIterator it = dict.getWordsIterator();
    TermFreqPayloadIterator tfit;
    if (it instanceof TermFreqPayloadIterator) {
      tfit = (TermFreqPayloadIterator)it;
    } else {
      tfit = new TermFreqPayloadIterator.TermFreqPayloadIteratorWrapper(it);
    }
    build(tfit);
  }

