  /**
   * Creates a new sorted wrapper. if <code>compareRawBytes</code> is true, then
   * only the bytes (not the weight) will be used for comparison.
   */
  public SortedTermFreqIteratorWrapper(TermFreqIterator source, Comparator<BytesRef> comparator, boolean compareRawBytes) throws IOException {
    this.source = source;
    this.comparator = comparator;
    this.reader = sort(compareRawBytes ? comparator : new BytesOnlyComparator(this.comparator));
  }

