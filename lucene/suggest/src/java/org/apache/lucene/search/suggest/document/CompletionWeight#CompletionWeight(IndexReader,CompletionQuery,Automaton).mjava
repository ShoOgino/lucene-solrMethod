  /**
   * Creates a weight for <code>query</code> with an <code>automaton</code>,
   * using the <code>reader</code> for index stats
   */
  public CompletionWeight(final IndexReader reader, final CompletionQuery query,
                          final Automaton automaton) throws IOException {
    super(query);
    this.completionQuery = query;
    this.automaton = automaton;
    this.minWeight = minWeight(query.getField(), reader);
    this.maxWeight = maxWeight(query.getField(), reader);
  }

