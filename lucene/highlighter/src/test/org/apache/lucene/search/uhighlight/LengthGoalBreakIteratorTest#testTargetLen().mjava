  public void testTargetLen() throws IOException {
    // "goal" means target length goal to find closest break

    // at first word:
    Query query = query("aa");
    assertEquals("almost two sent",
        "<b>Aa</b> bb.", highlightClosestToLen(content, query, 9));
    assertEquals( "barely two sent",
        "<b>Aa</b> bb. Cc dd.", highlightClosestToLen(content, query, 10));
    assertEquals("long goal",
        "<b>Aa</b> bb. Cc dd. Ee ff", highlightClosestToLen(content, query, 17 + random().nextInt(20)));

    // at some word not at start of passage
    query = query("dd");
    assertEquals("short goal",
        " Cc <b>dd</b>.", highlightClosestToLen(content, query, random().nextInt(5)));
    assertEquals("almost two sent",
        " Cc <b>dd</b>.", highlightClosestToLen(content, query, 10));
    assertEquals("barely two sent",
        " Cc <b>dd</b>. Ee ff", highlightClosestToLen(content, query, 11));
    assertEquals("long goal",
        " Cc <b>dd</b>. Ee ff", highlightClosestToLen(content, query, 12 + random().nextInt(20)));
  }

