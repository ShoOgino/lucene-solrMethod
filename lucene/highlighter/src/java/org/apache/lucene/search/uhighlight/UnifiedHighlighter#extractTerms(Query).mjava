  /**
   * Calls {@link Weight#extractTerms(Set)} on an empty index for the query.
   */
  protected static Set<Term> extractTerms(Query query) throws IOException {
    Set<Term> queryTerms = new HashSet<>();
    EMPTY_INDEXSEARCHER.createNormalizedWeight(query, false).extractTerms(queryTerms);
    return queryTerms;
  }

