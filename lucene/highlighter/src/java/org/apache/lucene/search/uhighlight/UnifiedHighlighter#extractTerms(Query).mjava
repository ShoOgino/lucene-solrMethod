  /**
   * Calls {@link Weight#extractTerms(Set)} on an empty index for the query.
   */
  protected static SortedSet<Term> extractTerms(Query query) throws IOException {
    SortedSet<Term> queryTerms = new TreeSet<>();
    EMPTY_INDEXSEARCHER.createNormalizedWeight(query, false).extractTerms(queryTerms);
    return queryTerms;
  }

