  @Override
  public int following(int pos) {
    if (pos < start || pos > end) {
      throw new IllegalArgumentException("offset out of bounds");
    } else if (pos == end) {
      // this conflicts with the javadocs, but matches actual behavior (Oracle has a bug in something)
      // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=9000909
      current = end;
      return DONE;
    } else {
      return last();
    }
  }

