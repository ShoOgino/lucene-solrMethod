    CachedSpans(Spans spans) throws IOException {
      this.docId = spans.docID();
      assert this.docId != -1;
      // Consume the spans for this doc into a list.  There's always at least one; the first/current one.
      cachedSpanList = new ArrayList<>();
      while (spans.nextStartPosition() != NO_MORE_POSITIONS) {
        cachedSpanList.add(new CachedSpan(spans.startPosition(), spans.endPosition()));
      }
      assert !cachedSpanList.isEmpty(); // bad Span impl?
    }

