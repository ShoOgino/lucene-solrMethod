    @Override
    public void withTopDocs(IndexSearcher searcher, Query q, TopDocs hits) throws Exception {
      Map<String, String[]> result = highlighter.highlightFields(fields, q, searcher, hits, maxPassages);
      preventOptimizeAway = result.size();
    }

