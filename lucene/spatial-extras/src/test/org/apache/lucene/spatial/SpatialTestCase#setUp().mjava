  @Override
  public void setUp() throws Exception {
    super.setUp();
    // TODO: change this module to index docvalues instead of uninverting
    uninvertMap.clear();
    uninvertMap.put("pointvector__x", Type.LEGACY_DOUBLE);
    uninvertMap.put("pointvector__y", Type.LEGACY_DOUBLE);

    directory = newDirectory();
    final Random random = random();
    analyzer = new MockAnalyzer(random);
    indexWriter = new RandomIndexWriter(random,directory, newIWConfig(random, analyzer));
    indexReader = UninvertingReader.wrap(indexWriter.getReader(), uninvertMap);
    indexSearcher = newSearcher(indexReader);
  }

