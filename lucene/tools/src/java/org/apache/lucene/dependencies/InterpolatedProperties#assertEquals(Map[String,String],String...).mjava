  private static void assertEquals(Map<String,String> resolved, String... keyValuePairs) {
    List<String> result = resolved.entrySet().stream().sorted((a, b) -> a.getKey().compareTo(b.getKey()))
        .map(e -> e.getKey() + "=" + e.getValue())
        .collect(Collectors.toList());
    if (!result.equals(Arrays.asList(keyValuePairs))) {
      throw new AssertionError("Mismatch: \n" + result + "\nExpected: " + Arrays.asList(keyValuePairs));
    }
  }

