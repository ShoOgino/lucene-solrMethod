  /**
   * Collect dependency information from Ant build.xml and ivy.xml files
   * and from ivy-versions.properties, then write out an Ant filters file
   * to be used when copying POMs.
   */
  @Override
  public void execute() throws BuildException {
    // Local:   lucene/build/analysis/common/lucene-analyzers-common-5.0-SNAPSHOT.jar
    // Jenkins: lucene/build/analysis/common/lucene-analyzers-common-5.0-2013-10-31_18-52-24.jar
    // Also support any custom version, which won't necessarily conform to any predefined pattern.
    internalJarPattern = Pattern.compile(".*(lucene|solr)([^/]*?)-"
        + Pattern.quote(getProject().getProperty("version")) + "\\.jar");

    ivyModuleInfo = getIvyModuleInfo(ivyXmlResources, documentBuilder, xpath);

    setInternalDependencyProperties();            // side-effect: all modules' internal deps are recorded
    setExternalDependencyProperties();            // side-effect: all modules' external deps are recorded
    setGrandparentDependencyManagementProperty(); // uses deps recorded in above two methods
    writeFiltersFile();
  }

