  public void assertAnalyzesTo(Analyzer a, String input, String[] expectedImages, String[] expectedTypes, int[] expectedPosIncrs) throws Exception {
    TokenStream ts = a.tokenStream("dummy", new StringReader(input));
    for (int i = 0; i < expectedImages.length; i++) {
      Token t = ts.next();
      assertNotNull(t);
      assertEquals(expectedImages[i], t.termText());
      if (expectedTypes != null) {
        assertEquals(expectedTypes[i], t.type());
      }
      if (expectedPosIncrs != null) {
        assertEquals(expectedPosIncrs[i], t.getPositionIncrement());
      }
    }
    assertNull(ts.next());
    ts.close();
  }

