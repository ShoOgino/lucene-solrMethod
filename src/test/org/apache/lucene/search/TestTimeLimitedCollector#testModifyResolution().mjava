  /**
   * Test timeout behavior when resolution is modified. 
   */
  public void testModifyResolution() {
    try {
      // increase and test
      long resolution = 20 * TimeLimitedCollector.DEFAULT_RESOLUTION; //400
      TimeLimitedCollector.setResolution(resolution);
      assertEquals(resolution, TimeLimitedCollector.getResolution());
      doTestTimeout(false,true);
      // decrease much and test
      resolution = 5;
      TimeLimitedCollector.setResolution(resolution);
      assertEquals(resolution, TimeLimitedCollector.getResolution());
      doTestTimeout(false,true);
      // return to default and test
      resolution = TimeLimitedCollector.DEFAULT_RESOLUTION;
      TimeLimitedCollector.setResolution(resolution);
      assertEquals(resolution, TimeLimitedCollector.getResolution());
      doTestTimeout(false,true);
    } finally {
      TimeLimitedCollector.setResolution(TimeLimitedCollector.DEFAULT_RESOLUTION);
    }
  }

