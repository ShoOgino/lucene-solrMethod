  public void testBadSegment() {
    try {
      dir = new RAMDirectory();
      IndexWriter ir = new IndexWriter(dir, new StandardAnalyzer(), true);
      
      Document document = new Document();
      document.add(new Field("tvtest", "", Field.Store.NO, Field.Index.TOKENIZED,
          Field.TermVector.YES));    // throws exception, works with Field.TermVector.NO
      ir.addDocument(document);
      
      ir.close();
    } catch (Exception e) {
      e.printStackTrace();
      assertTrue(false);
    }
  }

