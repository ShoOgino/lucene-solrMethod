    /**
     * What happens if the Lucene lockDir is a regular file instead of a
     * directory?
     *
     * @throws Exception
     */
    public void testTmpDirIsPlainFile() throws Exception {
        shouldBeADirectory = new File(NON_EXISTENT_DIRECTORY);
        shouldBeADirectory.createNewFile();
        String exceptionClassName = openIndexWriter();
        if (exceptionClassName == null
                || exceptionClassName.equals("java.io.IOException"))
            assertTrue(true);
        else
            fail("Caught an unexpected Exception");
    }

