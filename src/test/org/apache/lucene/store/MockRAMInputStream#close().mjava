  public void close() {
    super.close();
    // Pending resolution on LUCENE-686 we may want to
    // remove the conditional check so we also track that
    // all clones get closed:
    if (!isClone) {
      synchronized(dir.openFiles) {
        Integer v = (Integer) dir.openFiles.get(name);
        if (v.intValue() == 1) {
          dir.openFiles.remove(name);
        } else {
          v = new Integer(v.intValue()-1);
          dir.openFiles.put(name, v);
        }
      }
    }
  }

