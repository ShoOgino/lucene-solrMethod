  // Simply verify that if there is a method in FSDirectory
  // that returns IndexInput or a subclass, that
  // MMapDirectory overrides it.
  public void testIndexInputMethods() throws ClassNotFoundException  {
    
    Class FSDirectory = Class.forName("org.apache.lucene.store.FSDirectory");
    Class IndexInput = Class.forName("org.apache.lucene.store.IndexInput");
    Class MMapDirectory = Class.forName("org.apache.lucene.store.MMapDirectory");

    Method[] methods = FSDirectory.getDeclaredMethods();
    for(int i=0;i<methods.length;i++) {
      Method method = methods[i];
      if (IndexInput.isAssignableFrom(method.getReturnType())) {
        // There is a method that returns IndexInput or a
        // subclass of IndexInput
        try {
          Method m = MMapDirectory.getMethod(method.getName(), method.getParameterTypes());
          if (m.getDeclaringClass() != MMapDirectory) {
            fail("FSDirectory has method " + method + " but MMapDirectory does not override");
          }
        } catch (NoSuchMethodException e) {
          // Should not happen
          fail("unexpected NoSuchMethodException");
        }
      }
    }
  }

