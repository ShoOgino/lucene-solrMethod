  public void runner( Encoder enc, boolean inject ) throws Exception
  {
    String[] input = new String[] {
       "aaa", "bbb", "ccc", "easgasg"
    };

    ArrayList<Token> stream = new ArrayList<Token>();
    ArrayList<Token> output = new ArrayList<Token>();
    for( String s : input ) {
      stream.add( new Token( s, 0, s.length() ) );

      // phonetic token is added first in the current impl
      output.add( new Token( enc.encode(s).toString(), 0, s.length() ) );

      // add the original if applicable
      if( inject ) {
        output.add( new Token( s, 0, s.length() ) );
      }
    }

    // System.out.println("###stream="+stream);
    // System.out.println("###output="+output);

    PhoneticFilter filter = new PhoneticFilter( 
        new IterTokenStream(stream.iterator()), enc, "text", inject );

    Token got = new Token();
    for( Token t : output ) {
      got = filter.next(got);
      // System.out.println("##### expect=" + t + " got="+got);
      assertEquals( t.term(), got.term());
    }
    assertNull( filter.next() );  // no more tokens
  }

