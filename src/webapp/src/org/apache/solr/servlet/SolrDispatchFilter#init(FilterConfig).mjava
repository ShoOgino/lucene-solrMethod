  public void init(FilterConfig config) throws ServletException 
  {
    log.info("SolrDispatchFilter.init()");
    try {
      Context c = new InitialContext();

      /***
      System.out.println("Enumerating JNDI Context=" + c);
      NamingEnumeration<NameClassPair> en = c.list("java:comp/env");
      while (en.hasMore()) {
        NameClassPair ncp = en.next();
        System.out.println("  ENTRY:" + ncp);
      }
      System.out.println("JNDI lookup=" + c.lookup("java:comp/env/solr/home"));
      ***/

      String home = (String)c.lookup("java:comp/env/solr/home");
      if (home!=null) Config.setInstanceDir(home);
    } catch (NoInitialContextException e) {
      log.info("JNDI not configured for Solr (NoInitialContextEx)");
    } catch (NamingException e) {
      log.info("No /solr/home in JNDI");
    }

    log.info("user.dir=" + System.getProperty("user.dir"));
    core = SolrCore.getSolrCore();
    parsers = new SolrRequestParsers( core, SolrConfig.config );
    
    log.info("SolrDispatchFilter.init() done");
  }

