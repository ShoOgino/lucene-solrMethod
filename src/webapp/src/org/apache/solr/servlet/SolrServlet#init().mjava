  public void init() throws ServletException
  {
    String configDir=getServletContext().getInitParameter("solr.configDir");
    String dataDir=getServletContext().getInitParameter("solr.dataDir");

    log.info("user.dir=" + System.getProperty("user.dir"));

    // TODO: find a way to allow configuration of the config and data
    // directories other than using CWD.  If it is done via servlet
    // params, then we must insure that this init() run before any
    // of the JSPs.
    core = SolrCore.getSolrCore();

    xmlResponseWriter=new XMLResponseWriter();

    getServletContext().setAttribute("SolrServlet",this);

    log.info("SolrServlet.init() done");
  }

