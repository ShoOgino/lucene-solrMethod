  /**
   * Set the Cache-Control HTTP header (and Expires if needed)
   * based on the SolrConfig.
   */
  public static void setCacheControlHeader(final SolrConfig conf,
                                           final HttpServletResponse resp) {

    final String cc = conf.getHttpCachingConfig().getCacheControlHeader();
    if (null != cc) {
      resp.setHeader("Cache-Control", cc);
    }
    Integer maxAge = conf.getHttpCachingConfig().getMaxAge();
    if (null != maxAge) {
      resp.setDateHeader("Expires", System.currentTimeMillis()
                         + (maxAge * 1000));
    }

    return;
  }

