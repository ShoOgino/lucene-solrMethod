  /**
   * Special method for variable length int (copied from lucene). Usually used for writing the length of a collection/array/map
   * In most of the cases the length can be represented in one byte (length < 127) so it saves 3 bytes/object
   *
   * @param i
   * @param out
   * @throws IOException
   */
  public static void writeVInt(int i, FastOutputStream out) throws IOException {
    while ((i & ~0x7F) != 0) {
      out.writeByte((byte) ((i & 0x7f) | 0x80));
      i >>>= 7;
    }
    out.writeByte((byte) i);
  }

