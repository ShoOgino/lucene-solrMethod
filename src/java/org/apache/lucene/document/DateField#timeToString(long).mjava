  /**
   * Converts a millisecond time to a string suitable for indexing.
   * This method will throw a RuntimeException if the time specified in the
   * method argument is negative, that is, before 1970.
   */
  public static String timeToString(long time) {
    if (time < 0)
      throw new RuntimeException("time too early");

    String s = Long.toString(time, Character.MAX_RADIX);

    if (s.length() > DATE_LEN)
      throw new RuntimeException("time too late");

    // Pad with leading zeros
    if (s.length() < DATE_LEN) {
      StringBuffer sb = new StringBuffer(s);
      while (sb.length() < DATE_LEN)
        sb.insert(0, ' ');
      s = sb.toString();
    }

    return s;
  }

