  /** Construct a {@link Lock}.
   * @param name the name of the lock file
   */
  public final Lock makeLock(String name) {
    final File lockFile = new File(directory, name);
    return new Lock() {
	public boolean obtain() throws IOException {
          if (Constants.JAVA_1_1) return true;    // locks disabled in jdk 1.1
          return lockFile.createNewFile();
	}
	public void release() {
          if (Constants.JAVA_1_1) return;         // locks disabled in jdk 1.1
	  lockFile.delete();
	}
	public String toString() {
	  return "Lock@" + lockFile;
	}
      };
  }

