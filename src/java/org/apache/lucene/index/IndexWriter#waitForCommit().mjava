  synchronized private void waitForCommit() {
    // Only allow a single thread to do the commit, at a time:
    while(committing)
      doWait();
    committing = true;
  }

