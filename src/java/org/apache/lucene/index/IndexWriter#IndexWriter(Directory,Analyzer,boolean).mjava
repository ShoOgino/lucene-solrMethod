  /** Constructs an IndexWriter for the index in <code>d</code>.  Text will be
    analyzed with <code>a</code>.  If <code>create</code> is true, then a new,
    empty index will be created in <code>d</code>, replacing the index already
    there, if any. */
  public IndexWriter(Directory d, Analyzer a, boolean create)
       throws IOException {
    directory = d;
    analyzer = a;

    synchronized (directory) {
      if (create)
	segmentInfos.write(directory);
      else
	segmentInfos.read(directory);
    }
  }

