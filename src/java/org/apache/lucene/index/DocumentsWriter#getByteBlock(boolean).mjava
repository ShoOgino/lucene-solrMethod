  /* Allocate another byte[] from the shared pool */
  synchronized byte[] getByteBlock(boolean trackAllocations) {
    final int size = freeByteBlocks.size();
    final byte[] b;
    if (0 == size) {
      numBytesAlloc += BYTE_BLOCK_SIZE;
      balanceRAM();
      b = new byte[BYTE_BLOCK_SIZE];
    } else
      b = (byte[]) freeByteBlocks.remove(size-1);
    if (trackAllocations)
      numBytesUsed += BYTE_BLOCK_SIZE;
    assert numBytesUsed <= numBytesAlloc;
    return b;
  }

