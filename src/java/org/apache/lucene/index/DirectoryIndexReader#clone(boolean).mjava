  public final synchronized IndexReader clone(boolean openReadOnly) throws CorruptIndexException, IOException {

    final SegmentInfos infos = (SegmentInfos) segmentInfos.clone();
    DirectoryIndexReader newReader = doReopen(infos, true, openReadOnly);
    
    if (this != newReader) {
      newReader.init(directory, infos, closeDirectory, openReadOnly);
      newReader.deletionPolicy = deletionPolicy;
    }

    // If we're cloning a non-readOnly reader, move the
    // writeLock (if there is one) to the new reader:
    if (!openReadOnly && writeLock != null) {
      newReader.writeLock = writeLock;
      writeLock = null;
      hasChanges = false;
    }
    
    return newReader;
  }

