  public void writeFreqByte(byte b) {
    assert freq != null;
    if (freq[freqUpto] != 0) {
      freqUpto = threadState.postingsPool.allocSlice(freq, freqUpto);
      freq = threadState.postingsPool.buffer;
      p.freqUpto = threadState.postingsPool.byteOffset;
    }
    freq[freqUpto++] = b;
  }

