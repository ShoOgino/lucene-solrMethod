  private void writeTerm(int fieldNumber, char[] termText, int termTextStart, int termTextLength)
       throws IOException {

    // Compute prefix in common with last term:
    int start = 0;
    final int limit = termTextLength < lastTermTextLength ? termTextLength : lastTermTextLength;
    while(start < limit) {
      if (termText[termTextStart+start] != lastTermText[start])
        break;
      start++;
    }

    int length = termTextLength - start;

    output.writeVInt(start);                     // write shared prefix length
    output.writeVInt(length);                  // write delta length
    output.writeChars(termText, start+termTextStart, length);  // write delta chars
    output.writeVInt(fieldNumber); // write field num
  }

