  // apply buffered delete terms to disk segments
  // except the one just flushed from ram
  private final void applyDeletes(HashMap deleteTerms, IndexReader reader)
      throws IOException {
    Iterator iter = deleteTerms.entrySet().iterator();
    while (iter.hasNext()) {
      Entry entry = (Entry)iter.next();
      Term term = (Term)entry.getKey();
      reader.deleteDocuments(term);
    }
  }

