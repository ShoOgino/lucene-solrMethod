  /**
   * Returns true if this segment is stored as a compound
   * file; else, false.
   *
   * @param directory directory to check.  This parameter is
   * only used when the segment was written before version
   * 2.1 (at which point compound file or not became stored
   * in the segments info file).
   */
  boolean getUseCompoundFile() throws IOException {
    if (isCompoundFile == -1) {
      return false;
    } else if (isCompoundFile == 1) {
      return true;
    } else {
      return dir.fileExists(name + ".cfs");
    }
  }

