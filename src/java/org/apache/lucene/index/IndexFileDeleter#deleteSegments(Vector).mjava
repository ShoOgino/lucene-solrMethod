  void deleteSegments(Vector segments) throws IOException {

    deleteFiles();                                // try to delete files that we couldn't before

    for (int i = 0; i < segments.size(); i++) {
      SegmentReader reader = (SegmentReader)segments.elementAt(i);
      if (reader.directory() == this.directory)
        deleteFiles(reader.files()); // try to delete our files
      else
        deleteFiles(reader.files(), reader.directory()); // delete other files
    }
  }

