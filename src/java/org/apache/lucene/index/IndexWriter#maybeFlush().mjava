  /**
   * Used internally to trigger a flush if the number of
   * buffered added documents or buffered deleted terms are
   * large enough.
   */
  protected final synchronized void maybeFlush() throws CorruptIndexException, IOException {
    // We only check for flush due to number of buffered
    // delete terms, because triggering of a flush due to
    // too many added documents is handled by
    // DocumentsWriter
    if (numBufferedDeleteTerms >= maxBufferedDeleteTerms && docWriter.setFlushPending())
      flush(true, false);
  }

