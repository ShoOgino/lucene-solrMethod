  final void add(String name, boolean isIndexed) {
    FieldInfo fi = fieldInfo(name);
    if (fi == null)
      addInternal(name, isIndexed);
    else if (fi.isIndexed != isIndexed)
      throw new IllegalStateException("field " + name +
				      (fi.isIndexed ? " must" : " cannot") +
				      " be an indexed field.");
  }

