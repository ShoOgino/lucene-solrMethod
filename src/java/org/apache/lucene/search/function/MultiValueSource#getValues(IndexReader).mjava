  @Override
  public DocValues getValues(IndexReader reader) throws IOException {

    IndexReader[] subReaders = reader.getSequentialSubReaders();
    if (subReaders != null) {
      // This is a composite reader
      return new MultiDocValues(subReaders);
    } else {
      // Already an atomic reader -- just delegate
      return other.getValues(reader);
    }
  }

