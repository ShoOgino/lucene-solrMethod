  /** Lower-level search API.
  *
  * <p>{@link Collector#collect(int)} is called for every matching document.
  *
  * <p>Applications should only use this if they need <i>all</i> of the
  * matching documents.  The high-level search API ({@link
  * Searcher#search(Query)}) is usually more efficient, as it skips
  * non-high-scoring hits.
  *
  * @param weight to match documents
  * @param filter if non-null, a bitset used to eliminate some documents
  * @param collector to receive hits
  * 
  * @todo parallelize this one too
  */
  public void search(Weight weight, Filter filter, final Collector collector)
   throws IOException {
   for (int i = 0; i < searchables.length; i++) {

     final int start = starts[i];

     final Collector hc = new Collector() {
       public void setScorer(Scorer scorer) throws IOException {
         collector.setScorer(scorer);
       }
       public void collect(int doc) throws IOException {
         collector.collect(doc);
       }
       public void setNextReader(IndexReader reader, int docBase) throws IOException {
         collector.setNextReader(reader, start + docBase);
       }
       public boolean acceptsDocsOutOfOrder() {
         return collector.acceptsDocsOutOfOrder();
       }
     };
     
     searchables[i].search(weight, filter, hc);
   }
 }

