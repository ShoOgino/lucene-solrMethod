    public Scorer scorer(IndexReader reader) throws IOException {
      if (terms.size() == 0)			  // optimize zero-term case
        return null;
      if (terms.size() == 1) {			  // optimize one-term case
        Term term = (Term)terms.elementAt(0);
        TermDocs docs = reader.termDocs(term);
        if (docs == null)
          return null;
        return new TermScorer(this, docs, searcher.getSimilarity(),
                              reader.norms(term.field()));
      }

      TermPositions[] tps = new TermPositions[terms.size()];
      for (int i = 0; i < terms.size(); i++) {
        TermPositions p = reader.termPositions((Term)terms.elementAt(i));
        if (p == null)
          return null;
        tps[i] = p;
      }

      if (slop == 0)				  // optimize exact case
        return new ExactPhraseScorer(this, tps, searcher.getSimilarity(),
                                     reader.norms(field));
      else
        return
          new SloppyPhraseScorer(this, tps, searcher.getSimilarity(), slop,
                                 reader.norms(field));
      
    }

