    static Scorer scorer(Query query, Searcher searcher, IndexReader reader)
      throws IOException {
      Similarity similarity = searcher.getSimilarity();
      query.prepare(reader);
      float sum = query.sumOfSquaredWeights(searcher);
      float norm = similarity.queryNorm(sum);
      query.normalize(norm);
      return query.scorer(reader, similarity);
    }

