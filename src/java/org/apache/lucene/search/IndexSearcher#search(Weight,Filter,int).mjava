  // inherit javadoc
  public TopDocs search(Weight weight, Filter filter, final int nDocs)
       throws IOException {

    if (nDocs <= 0)  // null might be returned from hq.top() below.
      throw new IllegalArgumentException("nDocs must be > 0");

    // TODO: The following should be changed to first obtain a Scorer and then ask it
    // if it's going to return in-order or out-of-order docs, and create TSDC
    // accordingly.
    TopScoreDocCollector collector = TopScoreDocCollector.create(nDocs, false);
    search(weight, filter, collector);
    return collector.topDocs();
  }

