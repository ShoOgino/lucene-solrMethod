  /** Returns the next input Token whose termText() is not a stop word. */
  public final Token next() throws IOException {
    int position = 1;

    // return the first non-stop word found
    for (Token token = input.next(); token != null; token = input.next()) {
      if (table.get(token.termText) == null) {
        token.setPositionIncrement(position);
        position = 1;
        return token;
      }

      position++;
    }
    // reached EOS -- return null
    return null;
  }

