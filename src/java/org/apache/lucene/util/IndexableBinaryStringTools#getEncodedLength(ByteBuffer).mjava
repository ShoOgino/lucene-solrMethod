  /**
   * Returns the number of chars required to encode the given byte sequence.
   * 
   * @param original The byte sequence to be encoded. Must be backed by an
   *        array.
   * @return The number of chars required to encode the given byte sequence
   * @throws IllegalArgumentException If the given ByteBuffer is not backed by
   *         an array
   * @deprecated Use {@link #getEncodedLength(byte[], int, int)} instead. This
   *             method will be removed in Lucene 4.0
   */
  @Deprecated
  public static int getEncodedLength(ByteBuffer original)
    throws IllegalArgumentException {
    if (original.hasArray()) {
      return getEncodedLength(original.array(), original.arrayOffset(),
          original.limit() - original.arrayOffset());
    } else {
      throw new IllegalArgumentException("original argument must have a backing array");
    }
  }

