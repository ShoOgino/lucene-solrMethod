  /**
   * Encodes the input byte sequence.
   * 
   * @param input The byte sequence to encode
   * @return A char sequence containing the encoding result. The limit is set to
   *         one past the position of the final char.
   * @throws IllegalArgumentException If the input buffer is not backed by an
   *         array
   * @deprecated Use {@link #encode(byte[], int, int, char[], int, int)}
   *             instead. This method will be removed in Lucene 4.0
   */
  @Deprecated
  public static CharBuffer encode(ByteBuffer input) {
    char[] outputArray = new char[getEncodedLength(input)];
    CharBuffer output = CharBuffer.wrap(outputArray);
    encode(input, output);
    return output;
  }

