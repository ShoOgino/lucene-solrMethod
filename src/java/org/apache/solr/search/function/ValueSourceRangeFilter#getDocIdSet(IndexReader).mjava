  public DocIdSet getDocIdSet(final IndexReader reader) throws IOException {
     return new DocIdSet() {
       public DocIdSetIterator iterator() throws IOException {
         return valueSource.getValues(reader).getRangeScorer(reader, lowerVal, upperVal, includeLower, includeUpper);
       }
     };
  }

