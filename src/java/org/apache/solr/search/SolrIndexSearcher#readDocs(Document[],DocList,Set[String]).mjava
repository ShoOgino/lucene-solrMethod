  /**
   * Takes a list of docs (the doc ids actually) and a set of fields to load,
   * and reads them into an array of Documents.
   */
  public void readDocs(Document[] docs, DocList ids, Set<String> fields) throws IOException {
    DocIterator iter = ids.iterator();
    int[] idlist = new int[ids.size()];
    Map<Integer, Integer> pos = new HashMap<Integer, Integer>();
    for (int i=0; i<docs.length; i++) {
      idlist[i] = iter.nextDoc();
      pos.put(idlist[i], i);
    }
    Arrays.sort(idlist);
    for(int docid: idlist) {
      docs[pos.get(docid)] = doc(docid, fields);      
    }
  }

