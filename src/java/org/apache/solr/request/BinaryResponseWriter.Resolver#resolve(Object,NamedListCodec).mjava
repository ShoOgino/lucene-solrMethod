    public Object resolve(Object o, NamedListCodec codec) throws IOException {
      if (o instanceof DocList) {
        writeDocList((DocList) o, codec);
        return null; // null means we completely handled it
      }

      if (o instanceof Document) {
        return getDoc((Document) o);
      }

      return o;
    }

