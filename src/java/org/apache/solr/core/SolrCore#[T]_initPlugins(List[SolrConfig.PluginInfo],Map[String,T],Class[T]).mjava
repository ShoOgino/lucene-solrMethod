  private <T> T initPlugins(List<SolrConfig.PluginInfo> pluginInfos , Map<String ,T> registry, Class<T> type){
    T def = null;
    for (SolrConfig.PluginInfo info : pluginInfos) {
      T o = createInstance(info.className,type, type.getSimpleName());
      if (o instanceof NamedListInitializedPlugin) {
        ((NamedListInitializedPlugin) o).init(info.initArgs);
      }
      registry.put(info.name, o);
      if(info.isDefault){
        def = o;
      } 
    }
    return def;
  }

