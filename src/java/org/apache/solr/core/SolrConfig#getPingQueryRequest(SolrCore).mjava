  /**
   * Returns a Request object based on the admin/pingQuery section
   * of the Solr config file.
   */
  public static SolrQueryRequest getPingQueryRequest(SolrCore core) {

    // TODO: check for nested tags and parse as a named list instead
    String urlSnippet = config.get("admin/pingQuery", "").trim();
    
    StringTokenizer qtokens = new StringTokenizer(urlSnippet,"&");
    String tok;
    NamedList params = new NamedList();
    while (qtokens.hasMoreTokens()) {
      tok = qtokens.nextToken();
      String[] split = tok.split("=", 2);
      params.add(split[0], split[1]);
    }
    return new LocalSolrQueryRequest(core, params);
  }

