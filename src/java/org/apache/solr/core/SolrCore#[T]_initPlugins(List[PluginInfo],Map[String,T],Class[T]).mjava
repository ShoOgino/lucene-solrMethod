  public <T> T initPlugins(List<PluginInfo> pluginInfos , Map<String ,T> registry, Class<T> type){
    T def = null;
    for (PluginInfo info : pluginInfos) {
      T o = createInstance(info.className,type, type.getSimpleName());
      if (o instanceof NamedListInitializedPlugin) {
        ((NamedListInitializedPlugin) o).init(info.initArgs);
      }
      registry.put(info.name, o);
      if(info.isDefault){
        def = o;
      } 
    }
    return def;
  }

