  /**
   * Close all resources allocated by the core.
   *  1. searcher
   *  2. updateHandler
   *  3. all CloseHooks will be notified
   *  4. All MBeans will be unregistered from MBeanServer if JMX was enabled
   */
  public void close() {
    log.info(logid+" CLOSING SolrCore!");
    try {
      closeSearcher();
    } catch (Exception e) {
      SolrException.log(log,e);
    }
    try {
      searcherExecutor.shutdown();
    } catch (Exception e) {
      SolrException.log(log,e);
    }
    try {
      updateHandler.close();
    } catch (Exception e) {
      SolrException.log(log,e);
    }
    if( closeHooks != null ) {
       for( CloseHook hook : closeHooks ) {
         hook.close( this );
       }
    }
    try {
      infoRegistry.clear();
    } catch (Exception e) {
      SolrException.log(log, e);
    }
  }

