  private int nextChar() throws IOException {
    nextCharCounter++;
    if( buffer != null && !buffer.isEmpty() )
      return buffer.removeFirst();
    return input.read();
  }

