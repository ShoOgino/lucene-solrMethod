  /**
   * Saves the existing attribute states
   */
  private void saveState() {
    // otherwise, we have delimiters, save state
    savedStartOffset = offsetAttribute.startOffset();
    savedEndOffset = offsetAttribute.endOffset();
    // if length by start + end offsets doesn't match the term text then assume this is a synonym and don't adjust the offsets.
    hasIllegalOffsets = (savedEndOffset - savedStartOffset != termAtttribute.termLength());
    savedType = typeAttribute.type();

    if (savedBuffer.length < termAtttribute.termLength()) {
      savedBuffer = new char[ArrayUtil.getNextSize(termAtttribute.termLength())];
    }

    System.arraycopy(termAtttribute.termBuffer(), 0, savedBuffer, 0, termAtttribute.termLength());
    iterator.text = savedBuffer;

    hasSavedState = true;
  }

