  /**
   * Processes an "update" (add, commit or optimize) and
   * returns the response as a String.
   * 
   * The better approach is to instanciate a Updatehandler directly
   *
   * @param xml The XML of the update
   * @return The XML response to the update
   */
  @Deprecated
  public String update(String xml) {
                
    StringReader req = new StringReader(xml);
    StringWriter writer = new StringWriter(32000);
    
    // This relies on the fact that SolrCore.getSolrCore() uses the 
    // last instantiated SolrCore.
    updater.doLegacyUpdate(req, writer);
    return writer.toString();
  }

