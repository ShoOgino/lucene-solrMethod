  /**
   * Create a plugin from an XML configuration.  Plugins are defined using:
   *   <plugin name="name1" class="solr.ClassName">
   *      ...
   *   </plugin>
   * 
   * @param name - The registered name.  In the above example: "name1"
   * @param className - class name for requested plugin.  In the above example: "solr.ClassName"
   * @param node - the XML node defining this plugin
   */
  @SuppressWarnings("unchecked")
  protected T create( SolrCore core, String name, String className, Node node ) throws Exception
  {
    if (core != null)
      return (T) core.createInstance(className, null, "plug-in");
    return (T) Config.newInstance( className, getDefaultPackages() );
  }

