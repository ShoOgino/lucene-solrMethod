  public void writeMap( Map val)
          throws IOException {
    writeTag(MAP, val.size());
    for (Map.Entry entry : (Set<Map.Entry>) val.entrySet()) {
      writeVal(entry.getKey());
      writeVal(entry.getValue());
    }
  }

