  public void refill() throws IOException {
    // this will set end to -1 at EOF
    end = in.read(buf, 0, buf.length);
    pos = 0;
  }

