    /**
     * Writes an file to a ZipOutputStream.
     * @param File to read data from
     * @param Path of the ZipEntry
     * @param ZipOutputStream to write to
     */
    public static void addToZipOutputStream(String file,
                                            String zipPath,
                                            ZipOutputStream out)
            throws FileNotFoundException, IOException
    {
        File f = new File(file);
        byte[] buffer = new byte[8192];  // Create a buffer for copying
        int bytes_read;
        FileInputStream in = null;
        try
        {
            in = new FileInputStream(f); // Stream to read file
            ZipEntry entry = new ZipEntry(zipPath);      // Make a ZipEntry
            out.putNextEntry(entry);                     // Store entry in zipfile
            while ((bytes_read = in.read(buffer)) != -1) // Copy bytes to zipfile
                out.write(buffer, 0, bytes_read);
        }
        finally
        {
            if (in != null)
                in.close(); // Close input stream
        }
    }

