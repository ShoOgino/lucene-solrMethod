  /**
   * Copies data from the specified input stream to the output stream
   * until end of file is met.
   * @return    the total number of bytes written to the output stream
   */
  public static int cpybytes(InputStream in, OutputStream out)
    throws IOException
  {
    byte[] buf = new byte[1024];
    int n, ntotal = 0;
    while ((n = in.read(buf)) > -1) {
      out.write(buf, 0, n);
      ntotal += n;
    }
    return ntotal;
  }

