  /**
   * Returns the index of the first occurrence of s in the specified
   * buffer. The search starts from fromIndex. This method returns -1
   * if the index is not found.
   */
  public static final int indexOf(byte[] buf, String s, int fromIndex) {
    int i;                  // index into buf
    int j;                  // index into s
    int max_i = buf.length;
    int max_j = s.length();

    for (i = fromIndex; i + max_j <= max_i; i++) {
      for (j = 0; j < max_j; j++) {
        if (buf[j + i] != s.charAt(j))
          break;
      }
      if (j == max_j) return i;
    }
    return -1;
  }

