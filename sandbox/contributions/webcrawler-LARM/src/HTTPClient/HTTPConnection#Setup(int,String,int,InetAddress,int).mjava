    /**
     * Sets the class variables. Must not be public.
     *
     * @param prot       the protocol
     * @param host       the host
     * @param port       the port
     * @param localAddr  the local address to bind to; if null, it's ignored
     * @param localPort  the local port to bind to
     */
    private void Setup(int prot, String host, int port, InetAddress localAddr,
            int localPort)
    {
        Protocol = prot;
        Host = host.trim().toLowerCase();
        Port = port;
        LocalAddr = localAddr;
        LocalPort = localPort;

        if (Port == -1)
        {
            Port = URI.defaultPort(getProtocol());
        }

        if (Default_Proxy_Host != null && !matchNonProxy(Host))
        {
            setCurrentProxy(Default_Proxy_Host, Default_Proxy_Port);
        }
        else
        {
            setCurrentProxy(null, 0);
        }

        Socks_client = Default_Socks_client;
        Timeout = DefaultTimeout;
        ModuleList = (Vector) DefaultModuleList.clone();
        allowUI = defaultAllowUI;
        if (noKeepAlives)
        {
            setDefaultHeaders(new NVPair[]{new NVPair("Connection", "close")});
        }
    }

