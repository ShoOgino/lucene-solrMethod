  /**
   * Test that complements does not cause a failure when using a parallel reader
   */
  @Test
  public void testComplementsWithParallerReader() throws Exception {
    IndexReader origReader = indexReader; 
    ParallelAtomicReader pr = new ParallelAtomicReader.Builder(true)
      .add(SlowCompositeReaderWrapper.wrap(origReader)).build();
    indexReader = pr;
    try {
      doTestComplements();
    } finally {
      indexReader = origReader;
    }
  }

