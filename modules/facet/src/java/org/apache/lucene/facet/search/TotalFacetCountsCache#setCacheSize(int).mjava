  /**
   * Set the number of TotalFacetCounts arrays that will remain in memory cache.
   * <p>
   * If new size is smaller than current size, the cache is appropriately trimmed.
   * <p>
   * Minimal size is 1, so passing zero or negative size would result in size of 1.
   * @param size new size to set
   */
  public void setCacheSize(int size) {
    if (size < 1) size = 1;
    int origSize = maxCacheSize;
    maxCacheSize = size;
    if (maxCacheSize < origSize) { // need to trim only if the cache was reduced
      trimCache();
    }
  }

