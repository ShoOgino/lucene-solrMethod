  /**
   * Like above, and also prepares to store user data with the index.
   * See {@link IndexWriter#prepareCommit(Map)}
   */
  @Override
  public synchronized void prepareCommit(Map<String,String> commitUserData) throws CorruptIndexException, IOException {
    ensureOpen();
    if (taxoIndexCreateTime != null) {
      indexWriter.prepareCommit(combinedCommitData(commitUserData));
      taxoIndexCreateTime = null;
    } else {
      indexWriter.prepareCommit(commitUserData);
    }
  }

