  /**
   * Read a byte. Data returned as an integer [0,255] If end of stream
   * reached, returns -1
   */
  @Override
  public int read() throws IOException {
    return index < upperLimit ? buffer[index++] & 0xff : -1;
  }

