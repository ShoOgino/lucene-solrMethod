  @Override
  public void encode(int value) throws IOException {
    if (value == 1) {
      // Increment the number of consecutive ones seen so far
      if (++onesCounter == n) {
        super.encode(2);
        onesCounter = 0;
      }
      return;
    }

    // If it's not one - there might have been ones we had to encode prior to
    // this value
    while (onesCounter > 0) {
      --onesCounter;
      super.encode(1);
    }

    // encode value + 1 --> the translation.
    super.encode(value + 1);
  }

