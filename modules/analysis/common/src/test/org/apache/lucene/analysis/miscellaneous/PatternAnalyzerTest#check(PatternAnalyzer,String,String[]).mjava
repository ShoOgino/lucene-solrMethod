  /**
   * Verify the analyzer analyzes to the expected contents. For PatternAnalyzer,
   * several methods are verified:
   * <ul>
   * <li>Analysis with a normal Reader
   * <li>Analysis with a FastStringReader
   * <li>Analysis with a String
   * </ul>
   */
  private void check(PatternAnalyzer analyzer, String document,
      String expected[]) throws IOException {
    // ordinary analysis of a Reader
    assertAnalyzesTo(analyzer, document, expected);

    // analysis with a "FastStringReader"
    TokenStream ts = analyzer.tokenStream("dummy",
        new PatternAnalyzer.FastStringReader(document));
    assertTokenStreamContents(ts, expected);

    // analysis of a String, uses PatternAnalyzer.tokenStream(String, String)
    TokenStream ts2 = analyzer.tokenStream("dummy", document);
    assertTokenStreamContents(ts2, expected);
  }

