  @Override
  public synchronized AnalysisEngine getAE() throws ResourceInitializationException {
    try {
      if (cachedAE == null) {
        // get Resource Specifier from XML file
        XMLInputSource in;
        try {
          in = new XMLInputSource(aePath);
        } catch (Exception e) {
          in = new XMLInputSource(getClass().getResource(aePath));
        }

        // get AE description
        AnalysisEngineDescription desc = UIMAFramework.getXMLParser()
            .parseAnalysisEngineDescription(in);

        /* iterate over each AE (to set runtime parameters) */
        for (String attributeName : runtimeParameters.keySet()) {
          Object val = getRuntimeValue(desc, attributeName);
          desc.getAnalysisEngineMetaData().getConfigurationParameterSettings().setParameterValue(
              attributeName, val);
        }
        // create AE here
        cachedAE = UIMAFramework.produceAnalysisEngine(desc);
      } else {
        cachedAE.reconfigure();
      }
    } catch (Exception e) {
      cachedAE = null;
      throw new ResourceInitializationException(e);
    }
    return cachedAE;
  }

