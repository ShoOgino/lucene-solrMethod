  protected void writeInflDict(String filename) throws IOException {
    new File(filename).getParentFile().mkdirs();
    OutputStream os = new FileOutputStream(filename);
    try {
      os = new BufferedOutputStream(os);
      final DataOutput out = new OutputStreamDataOutput(os);
      CodecUtil.writeHeader(out, BinaryDictionary.INFLDICT_HEADER, BinaryDictionary.VERSION);
      out.writeVInt(inflDict.size());
      for (String s : inflDict) {
        String data[] = CSVUtil.parse(s);
        assert data.length == 2 : "malformed inflection: " + s;
        out.writeString(data[0]);
        out.writeString(data[1]);
      }
    } finally {
      os.close();
    }
  }

