  private void addGroupField(Document doc, String groupField, String value, boolean canUseIDV, ValueType valueType) {
    doc.add(new Field(groupField, value, TextField.TYPE_STORED));
    if (canUseIDV) {
      IndexDocValuesField valuesField = new IndexDocValuesField(groupField);
      valuesField.setBytes(new BytesRef(value), valueType);
      doc.add(valuesField);
    }
  }

