  /**
   * Return a query that will return docs like the passed file.
   *
   * @return a query that will return docs like the passed file.
   */
  public Query like(File f) throws IOException {
    if (fieldNames == null) {
      // gather list of valid fields from lucene
      Collection<String> fields = ir.getFieldNames(IndexReader.FieldOption.INDEXED);
      fieldNames = fields.toArray(new String[fields.size()]);
    }

    return like(new FileReader(f));
  }

