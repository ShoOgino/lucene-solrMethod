  /**
   * Test that CustomScoreQuery of Type.FLOAT returns the expected scores.
   */
  @Test
  public void testCustomScoreFloat() throws Exception {
    // INT field can be parsed as float
    FloatValuesCreator valuesCreator = new FloatValuesCreator(INT_FIELD, null, CachedArrayCreator.CACHE_VALUES_AND_BITS);
    FunctionQuery functionQuery = new FunctionQuery(new FloatFieldSource(valuesCreator));

    doTestCustomScore(functionQuery, 1.0);
    doTestCustomScore(functionQuery, 5.0);

    // same values, but in float format
    valuesCreator = new FloatValuesCreator(FLOAT_FIELD, null, CachedArrayCreator.CACHE_VALUES_AND_BITS);
    functionQuery = new FunctionQuery(new FloatFieldSource(valuesCreator));

    doTestCustomScore(functionQuery, 1.0);
    doTestCustomScore(functionQuery, 6.0);
  }

