  protected List<Document> getDocuments(String testDataFile) throws IOException {
    Iterator<SampleData> sampleData = getSampleData(testDataFile);
    List<Document> documents = new ArrayList<Document>();
    while (sampleData.hasNext()) {
      SampleData data = sampleData.next();
      Document document = new Document();
      document.add(new Field("id", data.id, StringField.TYPE_STORED));
      document.add(new Field("name", data.name, StringField.TYPE_STORED));
      Shape shape = ctx.readShape(data.shape);
      for (IndexableField f : strategy.createFields(fieldInfo, shape, true, storeShape)) {
        if( f != null ) { // null if incompatibleGeometry && ignore
          document.add(f);
        }
      }
      documents.add(document);
    }
    return documents;
  }

